function [masks, iou_predictions, low_res_masks, state] = SAMDecFcn(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, params, varargin)
%SAMDECFCN Function implementing an imported ONNX network.
%
% THIS FILE WAS AUTO-GENERATED BY importONNXFunction.
% ONNX Operator Set Version: 14
%
% Variable names in this function are taken from the original ONNX file.
%
% [MASKS, IOU_PREDICTIONS, LOW_RES_MASKS] = SAMDecFcn(IMAGE_EMBEDDINGS, POINT_COORDS, POINT_LABELS, MASK_INPUT, HAS_MASK_INPUT, ORIG_IM_SIZE, PARAMS)
%			- Evaluates the imported ONNX network SAMDECFCN with input(s)
%			IMAGE_EMBEDDINGS, POINT_COORDS, POINT_LABELS, MASK_INPUT, HAS_MASK_INPUT, ORIG_IM_SIZE and the imported network parameters in PARAMS. Returns
%			network output(s) in MASKS, IOU_PREDICTIONS, LOW_RES_MASKS.
%
% [MASKS, IOU_PREDICTIONS, LOW_RES_MASKS, STATE] = SAMDecFcn(IMAGE_EMBEDDINGS, POINT_COORDS, POINT_LABELS, MASK_INPUT, HAS_MASK_INPUT, ORIG_IM_SIZE, PARAMS)
%			- Additionally returns state variables in STATE. When training,
%			use this form and set TRAINING to true.
%
% [__] = SAMDecFcn(IMAGE_EMBEDDINGS, POINT_COORDS, POINT_LABELS, MASK_INPUT, HAS_MASK_INPUT, ORIG_IM_SIZE, PARAMS, 'NAME1', VAL1, 'NAME2', VAL2, ...)
%			- Specifies additional name-value pairs described below:
%
% 'Training'
% 			Boolean indicating whether the network is being evaluated for
%			prediction or training. If TRAINING is true, state variables
%			will be updated.
%
% 'InputDataPermutation'
%			'auto' - Automatically attempt to determine the permutation
%			 between the dimensions of the input data and the dimensions of
%			the ONNX model input. For example, the permutation from HWCN
%			(MATLAB standard) to NCHW (ONNX standard) uses the vector
%			[4 3 1 2]. See the documentation for IMPORTONNXFUNCTION for
%			more information about automatic permutation.
%
%			'none' - Input(s) are passed in the ONNX model format. See 'Inputs'.
%
%			numeric vector - The permutation vector describing the
%			transformation between input data dimensions and the expected
%			ONNX input dimensions.%
%			cell array - If the network has multiple inputs, each cell
%			contains 'auto', 'none', or a numeric vector.
%
% 'OutputDataPermutation'
%			'auto' - Automatically attempt to determine the permutation
%			between the dimensions of the output and a conventional MATLAB
%			dimension ordering. For example, the permutation from NC (ONNX
%			standard) to CN (MATLAB standard) uses the vector [2 1]. See
%			the documentation for IMPORTONNXFUNCTION for more information
%			about automatic permutation.
%
%			'none' - Return output(s) as given by the ONNX model. See 'Outputs'.
%
%			numeric vector - The permutation vector describing the
%			transformation between the ONNX output dimensions and the
%			desired output dimensions.%
%			cell array - If the network has multiple outputs, each cell
%			contains 'auto', 'none' or a numeric vector.
%
% Inputs:
% -------
% IMAGE_EMBEDDINGS, POINT_COORDS, POINT_LABELS, MASK_INPUT, HAS_MASK_INPUT, ORIG_IM_SIZE
%			- Input(s) to the ONNX network.
%			  The input size(s) expected by the ONNX file are:
%				  IMAGE_EMBEDDINGS:		[1, 256, 64, 64]				Type: FLOAT
%				  POINT_COORDS:		[1, num_points, 2]				Type: FLOAT
%				  POINT_LABELS:		[1, num_points]				Type: FLOAT
%				  MASK_INPUT:		[1, 1, 256, 256]				Type: FLOAT
%				  HAS_MASK_INPUT:		[1, 1]				Type: FLOAT
%				  ORIG_IM_SIZE:		[2, 1]				Type: FLOAT
%			  By default, the function will try to permute the input(s)
%			  into this dimension ordering. If the default is incorrect,
%			  use the 'InputDataPermutation' argument to control the
%			  permutation.
%
%
% PARAMS	- Network parameters returned by 'importONNXFunction'.
%
%
% Outputs:
% --------
% MASKS, IOU_PREDICTIONS, LOW_RES_MASKS
%			- Output(s) of the ONNX network.
%			  Without permutation, the size(s) of the outputs are:
%				  MASKS:		[Resizemasks_dim_0, Resizemasks_dim_1, Resizemasks_dim_2, Resizemasks_dim_3]				Type: FLOAT
%				  IOU_PREDICTIONS:		[Gemmiou_predictions_dim_0, 4]				Type: FLOAT
%				  LOW_RES_MASKS:		[Reshapelow_res_masks_dim_0, Reshapelow_res_masks_dim_1, Reshapelow_res_masks_dim_2, Reshapelow_res_masks_dim_3]				Type: FLOAT
%			  By default, the function will try to permute the output(s)
%			  from this dimension ordering into a conventional MATLAB
%			  ordering. If the default is incorrect, use the
%			  'OutputDataPermutation' argument to control the permutation.
%
% STATE		- (Optional) State variables. When TRAINING is true, these will
% 			  have been updated from the original values in PARAMS.State.
%
%
%  See also importONNXFunction
%
%   Copyright 2023 The MathWorks, Inc.

% Preprocess the input data and arguments:
[image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, Training, outputDataPerms, anyDlarrayInputs] = preprocessInput(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, params, varargin{:});
% Put all variables into a single struct to implement dynamic scoping:
[Vars, NumDims] = packageVariables(params, {'image_embeddings', 'point_coords', 'point_labels', 'mask_input', 'has_mask_input', 'orig_im_size'}, {image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size}, [4 3 2 4 1 1]);
% Call the top-level graph function:
[masks, iou_predictions, low_res_masks, masksNumDims, iou_predictionsNumDims, low_res_masksNumDims, state] = torch_jitGraph1000(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, NumDims.image_embeddings, NumDims.point_coords, NumDims.point_labels, NumDims.mask_input, NumDims.has_mask_input, NumDims.orig_im_size, Vars, NumDims, Training, params.State);
% Postprocess the output data
[masks, iou_predictions, low_res_masks] = postprocessOutput(masks, iou_predictions, low_res_masks, outputDataPerms, anyDlarrayInputs, Training, varargin{:});
end

function [masks, iou_predictions, low_res_masks, masksNumDims1116, iou_predictionsNumDims1117, low_res_masksNumDims1118, state] = torch_jitGraph1000(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, image_embeddingsNumDims1110, point_coordsNumDims1111, point_labelsNumDims1112, mask_inputNumDims1113, has_mask_inputNumDims1114, orig_im_sizeNumDims1115, Vars, NumDims, Training, state)
% Function implementing the graph 'torch_jitGraph1000'
% Update Vars and NumDims from the graph's formal input parameters. Note that state variables are already in Vars.
Vars.image_embeddings = image_embeddings;
NumDims.image_embeddings = image_embeddingsNumDims1110;
Vars.point_coords = point_coords;
NumDims.point_coords = point_coordsNumDims1111;
Vars.point_labels = point_labels;
NumDims.point_labels = point_labelsNumDims1112;
Vars.mask_input = mask_input;
NumDims.mask_input = mask_inputNumDims1113;
Vars.has_mask_input = has_mask_input;
NumDims.has_mask_input = has_mask_inputNumDims1114;
Vars.orig_im_size = orig_im_size;
NumDims.orig_im_size = orig_im_sizeNumDims1115;

% Execute the operators:
% Add:
Vars.x_Add_output_0 = Vars.point_coords + Vars.x_Constant_1_output_0;
Vars.x_Constant_1_output_0 = [];
Vars.point_coords = [];
NumDims.x_Add_output_0 = max(NumDims.point_coords, NumDims.x_Constant_1_output_0);

% Div:
Vars.x_Div_output_0 = Vars.x_Add_output_0 ./ Vars.x_Constant_2_output_0;
Vars.x_Constant_2_output_0 = [];
Vars.x_Add_output_0 = [];
NumDims.x_Div_output_0 = max(NumDims.x_Add_output_0, NumDims.x_Constant_2_output_0);

% Mul:
Vars.x_Mul_output_0 = Vars.x_Div_output_0 .* Vars.x_Constant_3_output_0;
Vars.x_Constant_3_output_0 = [];
Vars.x_Div_output_0 = [];
NumDims.x_Mul_output_0 = max(NumDims.x_Div_output_0, NumDims.x_Constant_3_output_0);

% Sub:
Vars.x_Sub_output_0 = Vars.x_Mul_output_0 - Vars.x_Constant_4_output_0;
Vars.x_Constant_4_output_0 = [];
Vars.x_Mul_output_0 = [];
NumDims.x_Sub_output_0 = max(NumDims.x_Mul_output_0, NumDims.x_Constant_4_output_0);

% MatMul:
[Vars.x_MatMul_output_0, NumDims.x_MatMul_output_0] = onnxMatMul(Vars.x_Sub_output_0, Vars.model_prompt_encoder_pe_layer_positional, NumDims.x_Sub_output_0, NumDims.model_prompt_encoder_pe_layer_positional);
Vars.x_Sub_output_0 = [];

% Mul:
Vars.x_Mul_1_output_0 = Vars.x_MatMul_output_0 .* Vars.x_Constant_5_output_0;
Vars.x_Constant_5_output_0 = [];
Vars.x_MatMul_output_0 = [];
NumDims.x_Mul_1_output_0 = max(NumDims.x_MatMul_output_0, NumDims.x_Constant_5_output_0);

% Sin:
Vars.x_Sin_output_0 = sin(Vars.x_Mul_1_output_0);
NumDims.x_Sin_output_0 = NumDims.x_Mul_1_output_0;

% Cos:
Vars.x_Cos_output_0 = cos(Vars.x_Mul_1_output_0);
Vars.x_Mul_1_output_0 = [];
NumDims.x_Cos_output_0 = NumDims.x_Mul_1_output_0;

% Concat:
[Vars.x_Concat_output_0, NumDims.x_Concat_output_0] = onnxConcat(-1, {Vars.x_Sin_output_0, Vars.x_Cos_output_0}, [NumDims.x_Sin_output_0, NumDims.x_Cos_output_0]);
Vars.x_Cos_output_0 = [];
Vars.x_Sin_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_output_0] = prepareUnsqueezeArgs(Vars.point_labels, Vars.x_Constant_6_output_0, NumDims.point_labels);
Vars.x_Constant_6_output_0 = [];
Vars.x_Unsqueeze_output_0 = reshape(Vars.point_labels, shape);
Vars.point_labels = [];

% Shape:
[Vars.x_Shape_output_0, NumDims.x_Shape_output_0] = onnxShape(Vars.x_Concat_output_0, NumDims.x_Concat_output_0);

% Expand:
[shape, NumDims.x_Expand_output_0] = prepareExpandArgs(Vars.x_Shape_output_0);
Vars.x_Shape_output_0 = [];
Vars.x_Expand_output_0 = Vars.x_Unsqueeze_output_0 + zeros(shape);
Vars.x_Unsqueeze_output_0 = [];

% Equal:
Vars.x_Equal_output_0 = Vars.x_Expand_output_0 == Vars.x_Constant_7_output_0;
Vars.x_Constant_7_output_0 = [];
NumDims.x_Equal_output_0 = max(NumDims.x_Expand_output_0, NumDims.x_Constant_7_output_0);

% Not:
Vars.x_Not_output_0 = not(Vars.x_Equal_output_0);
Vars.x_Equal_output_0 = [];
NumDims.x_Not_output_0 = NumDims.x_Equal_output_0;

% Cast:
Vars.x_Cast_output_0 = single(Vars.x_Not_output_0);
Vars.x_Not_output_0 = [];
NumDims.x_Cast_output_0 = NumDims.x_Not_output_0;

% Mul:
Vars.x_Mul_2_output_0 = Vars.x_Concat_output_0 .* Vars.x_Cast_output_0;
Vars.x_Cast_output_0 = [];
Vars.x_Concat_output_0 = [];
NumDims.x_Mul_2_output_0 = max(NumDims.x_Concat_output_0, NumDims.x_Cast_output_0);

% Equal:
Vars.x_Equal_1_output_0 = Vars.x_Expand_output_0 == Vars.x_Constant_8_output_0;
Vars.x_Constant_8_output_0 = [];
NumDims.x_Equal_1_output_0 = max(NumDims.x_Expand_output_0, NumDims.x_Constant_8_output_0);

% Cast:
Vars.x_Cast_1_output_0 = single(Vars.x_Equal_1_output_0);
Vars.x_Equal_1_output_0 = [];
NumDims.x_Cast_1_output_0 = NumDims.x_Equal_1_output_0;

% Mul:
Vars.x_Mul_3_output_0 = Vars.model_prompt_encoder_not_a_point_embed_w .* Vars.x_Cast_1_output_0;
Vars.x_Cast_1_output_0 = [];
Vars.model_prompt_encoder_not_a_point_embed_w = [];
NumDims.x_Mul_3_output_0 = max(NumDims.model_prompt_encoder_not_a_point_embed_w, NumDims.x_Cast_1_output_0);

% Add:
Vars.x_Add_1_output_0 = Vars.x_Mul_2_output_0 + Vars.x_Mul_3_output_0;
Vars.x_Mul_3_output_0 = [];
Vars.x_Mul_2_output_0 = [];
NumDims.x_Add_1_output_0 = max(NumDims.x_Mul_2_output_0, NumDims.x_Mul_3_output_0);

% Equal:
Vars.x_Equal_2_output_0 = Vars.x_Expand_output_0 == Vars.x_Constant_10_output_0;
Vars.x_Constant_10_output_0 = [];
NumDims.x_Equal_2_output_0 = max(NumDims.x_Expand_output_0, NumDims.x_Constant_10_output_0);

% Cast:
Vars.x_Cast_2_output_0 = single(Vars.x_Equal_2_output_0);
Vars.x_Equal_2_output_0 = [];
NumDims.x_Cast_2_output_0 = NumDims.x_Equal_2_output_0;

% Mul:
Vars.x_Mul_4_output_0 = Vars.model_prompt_encoder_point_embeddings_0_ .* Vars.x_Cast_2_output_0;
Vars.x_Cast_2_output_0 = [];
Vars.model_prompt_encoder_point_embeddings_0_ = [];
NumDims.x_Mul_4_output_0 = max(NumDims.model_prompt_encoder_point_embeddings_0_, NumDims.x_Cast_2_output_0);

% Add:
Vars.x_Add_2_output_0 = Vars.x_Add_1_output_0 + Vars.x_Mul_4_output_0;
Vars.x_Mul_4_output_0 = [];
Vars.x_Add_1_output_0 = [];
NumDims.x_Add_2_output_0 = max(NumDims.x_Add_1_output_0, NumDims.x_Mul_4_output_0);

% Equal:
Vars.x_Equal_3_output_0 = Vars.x_Expand_output_0 == Vars.x_Constant_11_output_0;
Vars.x_Constant_11_output_0 = [];
NumDims.x_Equal_3_output_0 = max(NumDims.x_Expand_output_0, NumDims.x_Constant_11_output_0);

% Cast:
Vars.x_Cast_3_output_0 = single(Vars.x_Equal_3_output_0);
Vars.x_Equal_3_output_0 = [];
NumDims.x_Cast_3_output_0 = NumDims.x_Equal_3_output_0;

% Mul:
Vars.x_Mul_5_output_0 = Vars.model_prompt_encoder_point_embeddings_1_ .* Vars.x_Cast_3_output_0;
Vars.x_Cast_3_output_0 = [];
Vars.model_prompt_encoder_point_embeddings_1_ = [];
NumDims.x_Mul_5_output_0 = max(NumDims.model_prompt_encoder_point_embeddings_1_, NumDims.x_Cast_3_output_0);

% Add:
Vars.x_Add_3_output_0 = Vars.x_Add_2_output_0 + Vars.x_Mul_5_output_0;
Vars.x_Mul_5_output_0 = [];
Vars.x_Add_2_output_0 = [];
NumDims.x_Add_3_output_0 = max(NumDims.x_Add_2_output_0, NumDims.x_Mul_5_output_0);

% Equal:
Vars.x_Equal_4_output_0 = Vars.x_Expand_output_0 == Vars.x_Constant_13_output_0;
Vars.x_Constant_13_output_0 = [];
NumDims.x_Equal_4_output_0 = max(NumDims.x_Expand_output_0, NumDims.x_Constant_13_output_0);

% Cast:
Vars.x_Cast_4_output_0 = single(Vars.x_Equal_4_output_0);
Vars.x_Equal_4_output_0 = [];
NumDims.x_Cast_4_output_0 = NumDims.x_Equal_4_output_0;

% Mul:
Vars.x_Mul_6_output_0 = Vars.model_prompt_encoder_point_embeddings_2_ .* Vars.x_Cast_4_output_0;
Vars.x_Cast_4_output_0 = [];
Vars.model_prompt_encoder_point_embeddings_2_ = [];
NumDims.x_Mul_6_output_0 = max(NumDims.model_prompt_encoder_point_embeddings_2_, NumDims.x_Cast_4_output_0);

% Add:
Vars.x_Add_4_output_0 = Vars.x_Add_3_output_0 + Vars.x_Mul_6_output_0;
Vars.x_Mul_6_output_0 = [];
Vars.x_Add_3_output_0 = [];
NumDims.x_Add_4_output_0 = max(NumDims.x_Add_3_output_0, NumDims.x_Mul_6_output_0);

% Equal:
Vars.x_Equal_5_output_0 = Vars.x_Expand_output_0 == Vars.x_Constant_15_output_0;
Vars.x_Constant_15_output_0 = [];
Vars.x_Expand_output_0 = [];
NumDims.x_Equal_5_output_0 = max(NumDims.x_Expand_output_0, NumDims.x_Constant_15_output_0);

% Cast:
Vars.x_Cast_5_output_0 = single(Vars.x_Equal_5_output_0);
Vars.x_Equal_5_output_0 = [];
NumDims.x_Cast_5_output_0 = NumDims.x_Equal_5_output_0;

% Mul:
Vars.x_Mul_7_output_0 = Vars.model_prompt_encoder_point_embeddings_3_ .* Vars.x_Cast_5_output_0;
Vars.x_Cast_5_output_0 = [];
Vars.model_prompt_encoder_point_embeddings_3_ = [];
NumDims.x_Mul_7_output_0 = max(NumDims.model_prompt_encoder_point_embeddings_3_, NumDims.x_Cast_5_output_0);

% Add:
Vars.x_Add_5_output_0 = Vars.x_Add_4_output_0 + Vars.x_Mul_7_output_0;
Vars.x_Mul_7_output_0 = [];
Vars.x_Add_4_output_0 = [];
NumDims.x_Add_5_output_0 = max(NumDims.x_Add_4_output_0, NumDims.x_Mul_7_output_0);

% Conv:
[weights, bias, stride, dilationFactor, padding, dataFormat, NumDims.x_mask_downscaling_mask_downscaling_0__1] = prepareConvArgs(Vars.model_prompt_encoder_mask_downscaling__1, Vars.model_prompt_encoder_mask_downscaling_0_, Vars.ConvStride1001, Vars.ConvDilationFactor1002, Vars.ConvPadding1003, 1, NumDims.mask_input, NumDims.model_prompt_encoder_mask_downscaling__1);
Vars.ConvPadding1003 = [];
Vars.ConvDilationFactor1002 = [];
Vars.ConvStride1001 = [];
Vars.model_prompt_encoder_mask_downscaling_0_ = [];
Vars.model_prompt_encoder_mask_downscaling__1 = [];
Vars.x_mask_downscaling_mask_downscaling_0__1 = dlconv(Vars.mask_input, weights, bias, 'Stride', stride, 'DilationFactor', dilationFactor, 'Padding', padding, 'DataFormat', dataFormat);
Vars.mask_input = [];

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1004, NumDims.x_mask_downscaling_mask_downscaling_0__1);
Vars.ReduceMeanAxes1004 = [];
Vars.x_mask_downscaling_mask_downscaling_1_3 = mean(Vars.x_mask_downscaling_mask_downscaling_0__1, dims);
NumDims.x_mask_downscaling_mask_downscaling_1_3 = NumDims.x_mask_downscaling_mask_downscaling_0__1;

% Sub:
Vars.x_mask_downscaling_mask_downscaling_1_5 = Vars.x_mask_downscaling_mask_downscaling_0__1 - Vars.x_mask_downscaling_mask_downscaling_1_3;
Vars.x_mask_downscaling_mask_downscaling_1_3 = [];
Vars.x_mask_downscaling_mask_downscaling_0__1 = [];
NumDims.x_mask_downscaling_mask_downscaling_1_5 = max(NumDims.x_mask_downscaling_mask_downscaling_0__1, NumDims.x_mask_downscaling_mask_downscaling_1_3);

% Pow:
Vars.x_mask_downscaling_mask_downscaling_1__9 = power(Vars.x_mask_downscaling_mask_downscaling_1_5, Vars.x_mask_downscaling_mask_downscaling_1__6);
Vars.x_mask_downscaling_mask_downscaling_1__6 = [];
NumDims.x_mask_downscaling_mask_downscaling_1__9 = max(NumDims.x_mask_downscaling_mask_downscaling_1_5, NumDims.x_mask_downscaling_mask_downscaling_1__6);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1005, NumDims.x_mask_downscaling_mask_downscaling_1__9);
Vars.ReduceMeanAxes1005 = [];
Vars.x_mask_downscaling_mask_downscaling_1_2 = mean(Vars.x_mask_downscaling_mask_downscaling_1__9, dims);
Vars.x_mask_downscaling_mask_downscaling_1__9 = [];
NumDims.x_mask_downscaling_mask_downscaling_1_2 = NumDims.x_mask_downscaling_mask_downscaling_1__9;

% Add:
Vars.x_mask_downscaling_mask_downscaling_1__3 = Vars.x_mask_downscaling_mask_downscaling_1_2 + Vars.x_mask_downscaling_mask_downscaling_1__5;
Vars.x_mask_downscaling_mask_downscaling_1__5 = [];
Vars.x_mask_downscaling_mask_downscaling_1_2 = [];
NumDims.x_mask_downscaling_mask_downscaling_1__3 = max(NumDims.x_mask_downscaling_mask_downscaling_1_2, NumDims.x_mask_downscaling_mask_downscaling_1__5);

% Sqrt:
Vars.x_mask_downscaling_mask_downscaling_1_4 = sqrt(Vars.x_mask_downscaling_mask_downscaling_1__3);
Vars.x_mask_downscaling_mask_downscaling_1__3 = [];
NumDims.x_mask_downscaling_mask_downscaling_1_4 = NumDims.x_mask_downscaling_mask_downscaling_1__3;

% Div:
Vars.x_mask_downscaling_mask_downscaling_1__7 = Vars.x_mask_downscaling_mask_downscaling_1_5 ./ Vars.x_mask_downscaling_mask_downscaling_1_4;
Vars.x_mask_downscaling_mask_downscaling_1_4 = [];
Vars.x_mask_downscaling_mask_downscaling_1_5 = [];
NumDims.x_mask_downscaling_mask_downscaling_1__7 = max(NumDims.x_mask_downscaling_mask_downscaling_1_5, NumDims.x_mask_downscaling_mask_downscaling_1_4);

% Mul:
Vars.x_mask_downscaling_mask_downscaling_1__8 = Vars.onnx__Mul_1649 .* Vars.x_mask_downscaling_mask_downscaling_1__7;
Vars.x_mask_downscaling_mask_downscaling_1__7 = [];
Vars.onnx__Mul_1649 = [];
NumDims.x_mask_downscaling_mask_downscaling_1__8 = max(NumDims.onnx__Mul_1649, NumDims.x_mask_downscaling_mask_downscaling_1__7);

% Add:
Vars.x_mask_downscaling_mask_downscaling_1__2 = Vars.x_mask_downscaling_mask_downscaling_1__8 + Vars.onnx__Add_1651;
Vars.onnx__Add_1651 = [];
Vars.x_mask_downscaling_mask_downscaling_1__8 = [];
NumDims.x_mask_downscaling_mask_downscaling_1__2 = max(NumDims.x_mask_downscaling_mask_downscaling_1__8, NumDims.onnx__Add_1651);

% Div:
Vars.x_mask_downscaling_mask_downscaling_2__7 = Vars.x_mask_downscaling_mask_downscaling_1__2 ./ Vars.x_mask_downscaling_mask_downscaling_2__6;
Vars.x_mask_downscaling_mask_downscaling_2__6 = [];
NumDims.x_mask_downscaling_mask_downscaling_2__7 = max(NumDims.x_mask_downscaling_mask_downscaling_1__2, NumDims.x_mask_downscaling_mask_downscaling_2__6);

% Erf:
Vars.x_mask_downscaling_mask_downscaling_2__8 = erf(Vars.x_mask_downscaling_mask_downscaling_2__7);
Vars.x_mask_downscaling_mask_downscaling_2__7 = [];
NumDims.x_mask_downscaling_mask_downscaling_2__8 = NumDims.x_mask_downscaling_mask_downscaling_2__7;

% Add:
Vars.x_mask_downscaling_mask_downscaling_2__1 = Vars.x_mask_downscaling_mask_downscaling_2__8 + Vars.x_mask_downscaling_mask_downscaling_2__3;
Vars.x_mask_downscaling_mask_downscaling_2__3 = [];
Vars.x_mask_downscaling_mask_downscaling_2__8 = [];
NumDims.x_mask_downscaling_mask_downscaling_2__1 = max(NumDims.x_mask_downscaling_mask_downscaling_2__8, NumDims.x_mask_downscaling_mask_downscaling_2__3);

% Mul:
Vars.x_mask_downscaling_mask_downscaling_2_3 = Vars.x_mask_downscaling_mask_downscaling_1__2 .* Vars.x_mask_downscaling_mask_downscaling_2__1;
Vars.x_mask_downscaling_mask_downscaling_2__1 = [];
Vars.x_mask_downscaling_mask_downscaling_1__2 = [];
NumDims.x_mask_downscaling_mask_downscaling_2_3 = max(NumDims.x_mask_downscaling_mask_downscaling_1__2, NumDims.x_mask_downscaling_mask_downscaling_2__1);

% Mul:
Vars.x_mask_downscaling_mask_downscaling_2_2 = Vars.x_mask_downscaling_mask_downscaling_2_3 .* Vars.x_mask_downscaling_mask_downscaling_2__5;
Vars.x_mask_downscaling_mask_downscaling_2__5 = [];
Vars.x_mask_downscaling_mask_downscaling_2_3 = [];
NumDims.x_mask_downscaling_mask_downscaling_2_2 = max(NumDims.x_mask_downscaling_mask_downscaling_2_3, NumDims.x_mask_downscaling_mask_downscaling_2__5);

% Conv:
[weights, bias, stride, dilationFactor, padding, dataFormat, NumDims.x_mask_downscaling_mask_downscaling_3__1] = prepareConvArgs(Vars.model_prompt_encoder_mask_downscaling__2, Vars.model_prompt_encoder_mask_downscaling_3_, Vars.ConvStride1006, Vars.ConvDilationFactor1007, Vars.ConvPadding1008, 1, NumDims.x_mask_downscaling_mask_downscaling_2_2, NumDims.model_prompt_encoder_mask_downscaling__2);
Vars.ConvPadding1008 = [];
Vars.ConvDilationFactor1007 = [];
Vars.ConvStride1006 = [];
Vars.model_prompt_encoder_mask_downscaling_3_ = [];
Vars.model_prompt_encoder_mask_downscaling__2 = [];
Vars.x_mask_downscaling_mask_downscaling_3__1 = dlconv(Vars.x_mask_downscaling_mask_downscaling_2_2, weights, bias, 'Stride', stride, 'DilationFactor', dilationFactor, 'Padding', padding, 'DataFormat', dataFormat);
Vars.x_mask_downscaling_mask_downscaling_2_2 = [];

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1009, NumDims.x_mask_downscaling_mask_downscaling_3__1);
Vars.ReduceMeanAxes1009 = [];
Vars.x_mask_downscaling_mask_downscaling_4_3 = mean(Vars.x_mask_downscaling_mask_downscaling_3__1, dims);
NumDims.x_mask_downscaling_mask_downscaling_4_3 = NumDims.x_mask_downscaling_mask_downscaling_3__1;

% Sub:
Vars.x_mask_downscaling_mask_downscaling_4_5 = Vars.x_mask_downscaling_mask_downscaling_3__1 - Vars.x_mask_downscaling_mask_downscaling_4_3;
Vars.x_mask_downscaling_mask_downscaling_4_3 = [];
Vars.x_mask_downscaling_mask_downscaling_3__1 = [];
NumDims.x_mask_downscaling_mask_downscaling_4_5 = max(NumDims.x_mask_downscaling_mask_downscaling_3__1, NumDims.x_mask_downscaling_mask_downscaling_4_3);

% Pow:
Vars.x_mask_downscaling_mask_downscaling_4__9 = power(Vars.x_mask_downscaling_mask_downscaling_4_5, Vars.x_mask_downscaling_mask_downscaling_4__6);
Vars.x_mask_downscaling_mask_downscaling_4__6 = [];
NumDims.x_mask_downscaling_mask_downscaling_4__9 = max(NumDims.x_mask_downscaling_mask_downscaling_4_5, NumDims.x_mask_downscaling_mask_downscaling_4__6);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1010, NumDims.x_mask_downscaling_mask_downscaling_4__9);
Vars.ReduceMeanAxes1010 = [];
Vars.x_mask_downscaling_mask_downscaling_4_2 = mean(Vars.x_mask_downscaling_mask_downscaling_4__9, dims);
Vars.x_mask_downscaling_mask_downscaling_4__9 = [];
NumDims.x_mask_downscaling_mask_downscaling_4_2 = NumDims.x_mask_downscaling_mask_downscaling_4__9;

% Add:
Vars.x_mask_downscaling_mask_downscaling_4__3 = Vars.x_mask_downscaling_mask_downscaling_4_2 + Vars.x_mask_downscaling_mask_downscaling_4__5;
Vars.x_mask_downscaling_mask_downscaling_4__5 = [];
Vars.x_mask_downscaling_mask_downscaling_4_2 = [];
NumDims.x_mask_downscaling_mask_downscaling_4__3 = max(NumDims.x_mask_downscaling_mask_downscaling_4_2, NumDims.x_mask_downscaling_mask_downscaling_4__5);

% Sqrt:
Vars.x_mask_downscaling_mask_downscaling_4_4 = sqrt(Vars.x_mask_downscaling_mask_downscaling_4__3);
Vars.x_mask_downscaling_mask_downscaling_4__3 = [];
NumDims.x_mask_downscaling_mask_downscaling_4_4 = NumDims.x_mask_downscaling_mask_downscaling_4__3;

% Div:
Vars.x_mask_downscaling_mask_downscaling_4__7 = Vars.x_mask_downscaling_mask_downscaling_4_5 ./ Vars.x_mask_downscaling_mask_downscaling_4_4;
Vars.x_mask_downscaling_mask_downscaling_4_4 = [];
Vars.x_mask_downscaling_mask_downscaling_4_5 = [];
NumDims.x_mask_downscaling_mask_downscaling_4__7 = max(NumDims.x_mask_downscaling_mask_downscaling_4_5, NumDims.x_mask_downscaling_mask_downscaling_4_4);

% Mul:
Vars.x_mask_downscaling_mask_downscaling_4__8 = Vars.onnx__Mul_1653 .* Vars.x_mask_downscaling_mask_downscaling_4__7;
Vars.x_mask_downscaling_mask_downscaling_4__7 = [];
Vars.onnx__Mul_1653 = [];
NumDims.x_mask_downscaling_mask_downscaling_4__8 = max(NumDims.onnx__Mul_1653, NumDims.x_mask_downscaling_mask_downscaling_4__7);

% Add:
Vars.x_mask_downscaling_mask_downscaling_4__2 = Vars.x_mask_downscaling_mask_downscaling_4__8 + Vars.onnx__Add_1655;
Vars.onnx__Add_1655 = [];
Vars.x_mask_downscaling_mask_downscaling_4__8 = [];
NumDims.x_mask_downscaling_mask_downscaling_4__2 = max(NumDims.x_mask_downscaling_mask_downscaling_4__8, NumDims.onnx__Add_1655);

% Div:
Vars.x_mask_downscaling_mask_downscaling_5__7 = Vars.x_mask_downscaling_mask_downscaling_4__2 ./ Vars.x_mask_downscaling_mask_downscaling_5__6;
Vars.x_mask_downscaling_mask_downscaling_5__6 = [];
NumDims.x_mask_downscaling_mask_downscaling_5__7 = max(NumDims.x_mask_downscaling_mask_downscaling_4__2, NumDims.x_mask_downscaling_mask_downscaling_5__6);

% Erf:
Vars.x_mask_downscaling_mask_downscaling_5__8 = erf(Vars.x_mask_downscaling_mask_downscaling_5__7);
Vars.x_mask_downscaling_mask_downscaling_5__7 = [];
NumDims.x_mask_downscaling_mask_downscaling_5__8 = NumDims.x_mask_downscaling_mask_downscaling_5__7;

% Add:
Vars.x_mask_downscaling_mask_downscaling_5__1 = Vars.x_mask_downscaling_mask_downscaling_5__8 + Vars.x_mask_downscaling_mask_downscaling_5__3;
Vars.x_mask_downscaling_mask_downscaling_5__3 = [];
Vars.x_mask_downscaling_mask_downscaling_5__8 = [];
NumDims.x_mask_downscaling_mask_downscaling_5__1 = max(NumDims.x_mask_downscaling_mask_downscaling_5__8, NumDims.x_mask_downscaling_mask_downscaling_5__3);

% Mul:
Vars.x_mask_downscaling_mask_downscaling_5_3 = Vars.x_mask_downscaling_mask_downscaling_4__2 .* Vars.x_mask_downscaling_mask_downscaling_5__1;
Vars.x_mask_downscaling_mask_downscaling_5__1 = [];
Vars.x_mask_downscaling_mask_downscaling_4__2 = [];
NumDims.x_mask_downscaling_mask_downscaling_5_3 = max(NumDims.x_mask_downscaling_mask_downscaling_4__2, NumDims.x_mask_downscaling_mask_downscaling_5__1);

% Mul:
Vars.x_mask_downscaling_mask_downscaling_5_2 = Vars.x_mask_downscaling_mask_downscaling_5_3 .* Vars.x_mask_downscaling_mask_downscaling_5__5;
Vars.x_mask_downscaling_mask_downscaling_5__5 = [];
Vars.x_mask_downscaling_mask_downscaling_5_3 = [];
NumDims.x_mask_downscaling_mask_downscaling_5_2 = max(NumDims.x_mask_downscaling_mask_downscaling_5_3, NumDims.x_mask_downscaling_mask_downscaling_5__5);

% Conv:
[weights, bias, stride, dilationFactor, padding, dataFormat, NumDims.x_mask_downscaling_mask_downscaling_6__1] = prepareConvArgs(Vars.model_prompt_encoder_mask_downscaling__3, Vars.model_prompt_encoder_mask_downscaling_6_, Vars.ConvStride1011, Vars.ConvDilationFactor1012, Vars.ConvPadding1013, 1, NumDims.x_mask_downscaling_mask_downscaling_5_2, NumDims.model_prompt_encoder_mask_downscaling__3);
Vars.ConvPadding1013 = [];
Vars.ConvDilationFactor1012 = [];
Vars.ConvStride1011 = [];
Vars.model_prompt_encoder_mask_downscaling_6_ = [];
Vars.model_prompt_encoder_mask_downscaling__3 = [];
Vars.x_mask_downscaling_mask_downscaling_6__1 = dlconv(Vars.x_mask_downscaling_mask_downscaling_5_2, weights, bias, 'Stride', stride, 'DilationFactor', dilationFactor, 'Padding', padding, 'DataFormat', dataFormat);
Vars.x_mask_downscaling_mask_downscaling_5_2 = [];

% Mul:
Vars.x_Mul_8_output_0 = Vars.has_mask_input .* Vars.x_mask_downscaling_mask_downscaling_6__1;
Vars.x_mask_downscaling_mask_downscaling_6__1 = [];
NumDims.x_Mul_8_output_0 = max(NumDims.has_mask_input, NumDims.x_mask_downscaling_mask_downscaling_6__1);

% Sub:
Vars.x_Sub_1_output_0 = Vars.x_Constant_16_output_0 - Vars.has_mask_input;
Vars.has_mask_input = [];
Vars.x_Constant_16_output_0 = [];
NumDims.x_Sub_1_output_0 = max(NumDims.x_Constant_16_output_0, NumDims.has_mask_input);

% Mul:
Vars.x_Mul_9_output_0 = Vars.x_Sub_1_output_0 .* Vars.onnx__Mul_1656;
Vars.onnx__Mul_1656 = [];
Vars.x_Sub_1_output_0 = [];
NumDims.x_Mul_9_output_0 = max(NumDims.x_Sub_1_output_0, NumDims.onnx__Mul_1656);

% Add:
Vars.x_Add_6_output_0 = Vars.x_Mul_8_output_0 + Vars.x_Mul_9_output_0;
Vars.x_Mul_9_output_0 = [];
Vars.x_Mul_8_output_0 = [];
NumDims.x_Add_6_output_0 = max(NumDims.x_Mul_8_output_0, NumDims.x_Mul_9_output_0);

% MatMul:
[Vars.x_pe_layer_MatMul_output_0, NumDims.x_pe_layer_MatMul_output_0] = onnxMatMul(Vars.onnx__MatMul_437, Vars.model_prompt_encoder_pe_layer_positional, NumDims.onnx__MatMul_437, NumDims.model_prompt_encoder_pe_layer_positional);
Vars.model_prompt_encoder_pe_layer_positional = [];
Vars.onnx__MatMul_437 = [];

% Mul:
Vars.x_pe_layer_Mul_output_0 = Vars.x_pe_layer_MatMul_output_0 .* Vars.x_pe_layer_Constant_output_0;
Vars.x_pe_layer_Constant_output_0 = [];
Vars.x_pe_layer_MatMul_output_0 = [];
NumDims.x_pe_layer_Mul_output_0 = max(NumDims.x_pe_layer_MatMul_output_0, NumDims.x_pe_layer_Constant_output_0);

% Sin:
Vars.x_pe_layer_Sin_output_0 = sin(Vars.x_pe_layer_Mul_output_0);
NumDims.x_pe_layer_Sin_output_0 = NumDims.x_pe_layer_Mul_output_0;

% Cos:
Vars.x_pe_layer_Cos_output_0 = cos(Vars.x_pe_layer_Mul_output_0);
Vars.x_pe_layer_Mul_output_0 = [];
NumDims.x_pe_layer_Cos_output_0 = NumDims.x_pe_layer_Mul_output_0;

% Concat:
[Vars.x_pe_layer_Concat_output_0, NumDims.x_pe_layer_Concat_output_0] = onnxConcat(-1, {Vars.x_pe_layer_Sin_output_0, Vars.x_pe_layer_Cos_output_0}, [NumDims.x_pe_layer_Sin_output_0, NumDims.x_pe_layer_Cos_output_0]);
Vars.x_pe_layer_Cos_output_0 = [];
Vars.x_pe_layer_Sin_output_0 = [];

% Transpose:
[perm, NumDims.x_pe_layer_Transpose_output_0] = prepareTransposeArgs(Vars.TransposePerm1014, NumDims.x_pe_layer_Concat_output_0);
Vars.TransposePerm1014 = [];
if ~isempty(perm)
    Vars.x_pe_layer_Transpose_output_0 = permute(Vars.x_pe_layer_Concat_output_0, perm);
Vars.x_pe_layer_Concat_output_0 = [];
end

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_1_output_0] = prepareUnsqueezeArgs(Vars.x_pe_layer_Transpose_output_0, Vars.x_Constant_17_output_0, NumDims.x_pe_layer_Transpose_output_0);
Vars.x_Constant_17_output_0 = [];
Vars.x_Unsqueeze_1_output_0 = reshape(Vars.x_pe_layer_Transpose_output_0, shape);
Vars.x_pe_layer_Transpose_output_0 = [];

% Shape:
[Vars.x_Shape_1_output_0, NumDims.x_Shape_1_output_0] = onnxShape(Vars.x_Add_5_output_0, NumDims.x_Add_5_output_0);

% Gather:
[Vars.x_Gather_output_0, NumDims.x_Gather_output_0] = onnxGather(Vars.x_Shape_1_output_0, Vars.x_Constant_18_output_0, 0, NumDims.x_Shape_1_output_0, NumDims.x_Constant_18_output_0);
Vars.x_Constant_18_output_0 = [];
Vars.x_Shape_1_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_2_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_output_0, Vars.x_Constant_19_output_0, NumDims.x_Gather_output_0);
Vars.x_Constant_19_output_0 = [];
Vars.x_Unsqueeze_2_output_0 = reshape(Vars.x_Gather_output_0, shape);
Vars.x_Gather_output_0 = [];

% Concat:
[Vars.x_Concat_1_output_0, NumDims.x_Concat_1_output_0] = onnxConcat(0, {Vars.x_Unsqueeze_2_output_0, Vars.x_Constant_20_output_0, Vars.x_Constant_21_output_0}, [NumDims.x_Unsqueeze_2_output_0, NumDims.x_Constant_20_output_0, NumDims.x_Constant_21_output_0]);
Vars.x_Constant_21_output_0 = [];
Vars.x_Constant_20_output_0 = [];
Vars.x_Unsqueeze_2_output_0 = [];

% Reshape:
[shape, NumDims.x_Reshape_output_0] = prepareReshapeArgs(Vars.x_Concat_1_output_0, Vars.x_Constant_22_output_0, NumDims.x_Concat_1_output_0, 0);
Vars.x_Constant_22_output_0 = [];
Vars.x_Reshape_output_0 = reshape(Vars.x_Concat_1_output_0, shape{:});
Vars.x_Concat_1_output_0 = [];

% Shape:
[Vars.x_Shape_2_output_0, NumDims.x_Shape_2_output_0] = onnxShape(Vars.x_Reshape_output_0, NumDims.x_Reshape_output_0);

% ConstantOfShape:
[Vars.x_ConstantOfShape_output_0, NumDims.x_ConstantOfShape_output_0] = onnxConstantOfShape(Vars.ConstantOfShapeValue1015, Vars.x_Shape_2_output_0);
Vars.x_Shape_2_output_0 = [];
Vars.ConstantOfShapeValue1015 = [];

% Mul:
Vars.x_Mul_10_output_0 = Vars.x_ConstantOfShape_output_0 .* Vars.x_Constant_23_output_0;
Vars.x_Constant_23_output_0 = [];
NumDims.x_Mul_10_output_0 = max(NumDims.x_ConstantOfShape_output_0, NumDims.x_Constant_23_output_0);

% Equal:
Vars.x_Equal_6_output_0 = Vars.x_Reshape_output_0 == Vars.x_Mul_10_output_0;
Vars.x_Mul_10_output_0 = [];
NumDims.x_Equal_6_output_0 = max(NumDims.x_Reshape_output_0, NumDims.x_Mul_10_output_0);

% Where:
[Vars.x_Where_output_0, NumDims.x_Where_output_0] = onnxWhere(Vars.x_Equal_6_output_0, Vars.x_ConstantOfShape_output_0, Vars.x_Reshape_output_0, NumDims.x_Equal_6_output_0, NumDims.x_ConstantOfShape_output_0, NumDims.x_Reshape_output_0);
Vars.x_Reshape_output_0 = [];
Vars.x_ConstantOfShape_output_0 = [];
Vars.x_Equal_6_output_0 = [];

% Expand:
[shape, NumDims.x_Expand_1_output_0] = prepareExpandArgs(Vars.x_Where_output_0);
Vars.x_Where_output_0 = [];
Vars.x_Expand_1_output_0 = Vars.onnx__Expand_1658 + zeros(shape);
Vars.onnx__Expand_1658 = [];

% Concat:
[Vars.x_Concat_2_output_0, NumDims.x_Concat_2_output_0] = onnxConcat(1, {Vars.x_Expand_1_output_0, Vars.x_Add_5_output_0}, [NumDims.x_Expand_1_output_0, NumDims.x_Add_5_output_0]);
Vars.x_Add_5_output_0 = [];
Vars.x_Expand_1_output_0 = [];

% Shape:
[Vars.x_Shape_3_output_0, NumDims.x_Shape_3_output_0] = onnxShape(Vars.x_Concat_2_output_0, NumDims.x_Concat_2_output_0);

% Gather:
[Vars.x_Gather_1_output_0, NumDims.x_Gather_1_output_0] = onnxGather(Vars.x_Shape_3_output_0, Vars.x_Constant_24_output_0, 0, NumDims.x_Shape_3_output_0, NumDims.x_Constant_24_output_0);
Vars.x_Constant_24_output_0 = [];
Vars.x_Shape_3_output_0 = [];

% ConstantOfShape:
[Vars.x_ConstantOfShape_1_output_0, NumDims.x_ConstantOfShape_1_output_0] = onnxConstantOfShape(Vars.ConstantOfShapeValue1016, Vars.x_Constant_26_output_0);
Vars.x_Constant_26_output_0 = [];
Vars.ConstantOfShapeValue1016 = [];

% Mul:
Vars.x_Mul_11_output_0 = Vars.x_ConstantOfShape_1_output_0 .* Vars.x_Constant_27_output_0;
Vars.x_Constant_27_output_0 = [];
NumDims.x_Mul_11_output_0 = max(NumDims.x_ConstantOfShape_1_output_0, NumDims.x_Constant_27_output_0);

% Equal:
Vars.x_Equal_7_output_0 = Vars.x_Constant_28_output_0 == Vars.x_Mul_11_output_0;
Vars.x_Mul_11_output_0 = [];
Vars.x_Constant_28_output_0 = [];
NumDims.x_Equal_7_output_0 = max(NumDims.x_Constant_28_output_0, NumDims.x_Mul_11_output_0);

% Where:
[Vars.x_Where_1_output_0, NumDims.x_Where_1_output_0] = onnxWhere(Vars.x_Equal_7_output_0, Vars.x_ConstantOfShape_1_output_0, Vars.x_Constant_25_output_0, NumDims.x_Equal_7_output_0, NumDims.x_ConstantOfShape_1_output_0, NumDims.x_Constant_25_output_0);
Vars.x_Constant_25_output_0 = [];
Vars.x_ConstantOfShape_1_output_0 = [];
Vars.x_Equal_7_output_0 = [];

% Expand:
[shape, NumDims.x_Expand_2_output_0] = prepareExpandArgs(Vars.x_Where_1_output_0);
Vars.x_Where_1_output_0 = [];
Vars.x_Expand_2_output_0 = Vars.x_Gather_1_output_0 + zeros(shape);

% Split:
[Vars.x_Split_output_0, NumDims.x_Split_output_0] = onnxSplit13(Vars.x_Expand_2_output_0, 0, Vars.x_Constant_29_output_0, 1, NumDims.x_Expand_2_output_0);
Vars.x_Constant_29_output_0 = [];
Vars.x_Expand_2_output_0 = [];

% Split:
[Vars.x_Split_1_output_0, NumDims.x_Split_1_output_0] = onnxSplit13(Vars.image_embeddings, 0, Vars.x_Constant_30_output_0, 1, NumDims.image_embeddings);
Vars.x_Constant_30_output_0 = [];
Vars.image_embeddings = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_3_output_0] = prepareUnsqueezeArgs(Vars.x_Split_1_output_0, Vars.x_Constant_31_output_0, NumDims.x_Split_1_output_0);
Vars.x_Constant_31_output_0 = [];
Vars.x_Unsqueeze_3_output_0 = reshape(Vars.x_Split_1_output_0, shape);
Vars.x_Split_1_output_0 = [];

% Concat:
[Vars.x_Concat_3_output_0, NumDims.x_Concat_3_output_0] = onnxConcat(0, {Vars.x_Constant_32_output_0, Vars.x_Split_output_0, Vars.x_Constant_33_output_0}, [NumDims.x_Constant_32_output_0, NumDims.x_Split_output_0, NumDims.x_Constant_33_output_0]);
Vars.x_Constant_33_output_0 = [];
Vars.x_Split_output_0 = [];
Vars.x_Constant_32_output_0 = [];

% Shape:
[Vars.x_Shape_4_output_0, NumDims.x_Shape_4_output_0] = onnxShape(Vars.x_Concat_3_output_0, NumDims.x_Concat_3_output_0);

% ConstantOfShape:
[Vars.x_ConstantOfShape_2_output_0, NumDims.x_ConstantOfShape_2_output_0] = onnxConstantOfShape(Vars.ConstantOfShapeValue1017, Vars.x_Shape_4_output_0);
Vars.x_Shape_4_output_0 = [];
Vars.ConstantOfShapeValue1017 = [];

% Mul:
Vars.x_Mul_12_output_0 = Vars.x_ConstantOfShape_2_output_0 .* Vars.x_Constant_34_output_0;
Vars.x_Constant_34_output_0 = [];
NumDims.x_Mul_12_output_0 = max(NumDims.x_ConstantOfShape_2_output_0, NumDims.x_Constant_34_output_0);

% Equal:
Vars.x_Equal_8_output_0 = Vars.x_Concat_3_output_0 == Vars.x_Mul_12_output_0;
Vars.x_Mul_12_output_0 = [];
NumDims.x_Equal_8_output_0 = max(NumDims.x_Concat_3_output_0, NumDims.x_Mul_12_output_0);

% Where:
[Vars.x_Where_2_output_0, NumDims.x_Where_2_output_0] = onnxWhere(Vars.x_Equal_8_output_0, Vars.x_ConstantOfShape_2_output_0, Vars.x_Concat_3_output_0, NumDims.x_Equal_8_output_0, NumDims.x_ConstantOfShape_2_output_0, NumDims.x_Concat_3_output_0);
Vars.x_Concat_3_output_0 = [];
Vars.x_ConstantOfShape_2_output_0 = [];
Vars.x_Equal_8_output_0 = [];

% Expand:
[shape, NumDims.x_Expand_3_output_0] = prepareExpandArgs(Vars.x_Where_2_output_0);
Vars.x_Where_2_output_0 = [];
Vars.x_Expand_3_output_0 = Vars.x_Unsqueeze_3_output_0 + zeros(shape);
Vars.x_Unsqueeze_3_output_0 = [];

% Reshape:
[shape, NumDims.x_Reshape_1_output_0] = prepareReshapeArgs(Vars.x_Expand_3_output_0, Vars.x_Constant_35_output_0, NumDims.x_Expand_3_output_0, 0);
Vars.x_Constant_35_output_0 = [];
Vars.x_Reshape_1_output_0 = reshape(Vars.x_Expand_3_output_0, shape{:});
Vars.x_Expand_3_output_0 = [];

% Concat:
[Vars.x_Concat_4_output_0, NumDims.x_Concat_4_output_0] = onnxConcat(0, {Vars.x_Reshape_1_output_0}, [NumDims.x_Reshape_1_output_0]);
Vars.x_Reshape_1_output_0 = [];

% Add:
Vars.x_Add_7_output_0 = Vars.x_Concat_4_output_0 + Vars.x_Add_6_output_0;
Vars.x_Add_6_output_0 = [];
Vars.x_Concat_4_output_0 = [];
NumDims.x_Add_7_output_0 = max(NumDims.x_Concat_4_output_0, NumDims.x_Add_6_output_0);

% ConstantOfShape:
[Vars.x_ConstantOfShape_3_output_0, NumDims.x_ConstantOfShape_3_output_0] = onnxConstantOfShape(Vars.ConstantOfShapeValue1018, Vars.x_Constant_37_output_0);
Vars.x_Constant_37_output_0 = [];
Vars.ConstantOfShapeValue1018 = [];

% Mul:
Vars.x_Mul_13_output_0 = Vars.x_ConstantOfShape_3_output_0 .* Vars.x_Constant_38_output_0;
Vars.x_Constant_38_output_0 = [];
NumDims.x_Mul_13_output_0 = max(NumDims.x_ConstantOfShape_3_output_0, NumDims.x_Constant_38_output_0);

% Equal:
Vars.x_Equal_9_output_0 = Vars.x_Constant_39_output_0 == Vars.x_Mul_13_output_0;
Vars.x_Mul_13_output_0 = [];
Vars.x_Constant_39_output_0 = [];
NumDims.x_Equal_9_output_0 = max(NumDims.x_Constant_39_output_0, NumDims.x_Mul_13_output_0);

% Where:
[Vars.x_Where_3_output_0, NumDims.x_Where_3_output_0] = onnxWhere(Vars.x_Equal_9_output_0, Vars.x_ConstantOfShape_3_output_0, Vars.x_Constant_36_output_0, NumDims.x_Equal_9_output_0, NumDims.x_ConstantOfShape_3_output_0, NumDims.x_Constant_36_output_0);
Vars.x_Constant_36_output_0 = [];
Vars.x_ConstantOfShape_3_output_0 = [];
Vars.x_Equal_9_output_0 = [];

% Expand:
[shape, NumDims.x_Expand_4_output_0] = prepareExpandArgs(Vars.x_Where_3_output_0);
Vars.x_Where_3_output_0 = [];
Vars.x_Expand_4_output_0 = Vars.x_Gather_1_output_0 + zeros(shape);
Vars.x_Gather_1_output_0 = [];

% Split:
[Vars.x_Split_2_output_0, NumDims.x_Split_2_output_0] = onnxSplit13(Vars.x_Expand_4_output_0, 0, Vars.x_Constant_40_output_0, 1, NumDims.x_Expand_4_output_0);
Vars.x_Constant_40_output_0 = [];
Vars.x_Expand_4_output_0 = [];

% Split:
[Vars.x_Split_3_output_0, NumDims.x_Split_3_output_0] = onnxSplit13(Vars.x_Unsqueeze_1_output_0, 0, Vars.x_Constant_41_output_0, 1, NumDims.x_Unsqueeze_1_output_0);
Vars.x_Constant_41_output_0 = [];
Vars.x_Unsqueeze_1_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_4_output_0] = prepareUnsqueezeArgs(Vars.x_Split_3_output_0, Vars.x_Constant_42_output_0, NumDims.x_Split_3_output_0);
Vars.x_Constant_42_output_0 = [];
Vars.x_Unsqueeze_4_output_0 = reshape(Vars.x_Split_3_output_0, shape);
Vars.x_Split_3_output_0 = [];

% Concat:
[Vars.x_Concat_5_output_0, NumDims.x_Concat_5_output_0] = onnxConcat(0, {Vars.x_Constant_43_output_0, Vars.x_Split_2_output_0, Vars.x_Constant_44_output_0}, [NumDims.x_Constant_43_output_0, NumDims.x_Split_2_output_0, NumDims.x_Constant_44_output_0]);
Vars.x_Constant_44_output_0 = [];
Vars.x_Split_2_output_0 = [];
Vars.x_Constant_43_output_0 = [];

% Shape:
[Vars.x_Shape_5_output_0, NumDims.x_Shape_5_output_0] = onnxShape(Vars.x_Concat_5_output_0, NumDims.x_Concat_5_output_0);

% ConstantOfShape:
[Vars.x_ConstantOfShape_4_output_0, NumDims.x_ConstantOfShape_4_output_0] = onnxConstantOfShape(Vars.ConstantOfShapeValue1019, Vars.x_Shape_5_output_0);
Vars.x_Shape_5_output_0 = [];
Vars.ConstantOfShapeValue1019 = [];

% Mul:
Vars.x_Mul_14_output_0 = Vars.x_ConstantOfShape_4_output_0 .* Vars.x_Constant_45_output_0;
Vars.x_Constant_45_output_0 = [];
NumDims.x_Mul_14_output_0 = max(NumDims.x_ConstantOfShape_4_output_0, NumDims.x_Constant_45_output_0);

% Equal:
Vars.x_Equal_10_output_0 = Vars.x_Concat_5_output_0 == Vars.x_Mul_14_output_0;
Vars.x_Mul_14_output_0 = [];
NumDims.x_Equal_10_output_0 = max(NumDims.x_Concat_5_output_0, NumDims.x_Mul_14_output_0);

% Where:
[Vars.x_Where_4_output_0, NumDims.x_Where_4_output_0] = onnxWhere(Vars.x_Equal_10_output_0, Vars.x_ConstantOfShape_4_output_0, Vars.x_Concat_5_output_0, NumDims.x_Equal_10_output_0, NumDims.x_ConstantOfShape_4_output_0, NumDims.x_Concat_5_output_0);
Vars.x_Concat_5_output_0 = [];
Vars.x_ConstantOfShape_4_output_0 = [];
Vars.x_Equal_10_output_0 = [];

% Expand:
[shape, NumDims.x_Expand_5_output_0] = prepareExpandArgs(Vars.x_Where_4_output_0);
Vars.x_Where_4_output_0 = [];
Vars.x_Expand_5_output_0 = Vars.x_Unsqueeze_4_output_0 + zeros(shape);
Vars.x_Unsqueeze_4_output_0 = [];

% Reshape:
[shape, NumDims.x_Reshape_2_output_0] = prepareReshapeArgs(Vars.x_Expand_5_output_0, Vars.x_Constant_46_output_0, NumDims.x_Expand_5_output_0, 0);
Vars.x_Constant_46_output_0 = [];
Vars.x_Reshape_2_output_0 = reshape(Vars.x_Expand_5_output_0, shape{:});
Vars.x_Expand_5_output_0 = [];

% Concat:
[Vars.x_Concat_6_output_0, NumDims.x_Concat_6_output_0] = onnxConcat(0, {Vars.x_Reshape_2_output_0}, [NumDims.x_Reshape_2_output_0]);
Vars.x_Reshape_2_output_0 = [];

% Shape:
[Vars.x_Shape_6_output_0, NumDims.x_Shape_6_output_0] = onnxShape(Vars.x_Add_7_output_0, NumDims.x_Add_7_output_0);

% Gather:
[Vars.x_Gather_2_output_0, NumDims.x_Gather_2_output_0] = onnxGather(Vars.x_Shape_6_output_0, Vars.x_Constant_47_output_0, 0, NumDims.x_Shape_6_output_0, NumDims.x_Constant_47_output_0);
Vars.x_Constant_47_output_0 = [];
Vars.x_Shape_6_output_0 = [];

% Shape:
[Vars.x_Shape_7_output_0, NumDims.x_Shape_7_output_0] = onnxShape(Vars.x_Add_7_output_0, NumDims.x_Add_7_output_0);

% Gather:
[Vars.x_Gather_3_output_0, NumDims.x_Gather_3_output_0] = onnxGather(Vars.x_Shape_7_output_0, Vars.x_Constant_48_output_0, 0, NumDims.x_Shape_7_output_0, NumDims.x_Constant_48_output_0);
Vars.x_Constant_48_output_0 = [];
Vars.x_Shape_7_output_0 = [];

% Shape:
[Vars.x_Shape_8_output_0, NumDims.x_Shape_8_output_0] = onnxShape(Vars.x_Add_7_output_0, NumDims.x_Add_7_output_0);

% Gather:
[Vars.x_Gather_4_output_0, NumDims.x_Gather_4_output_0] = onnxGather(Vars.x_Shape_8_output_0, Vars.x_Constant_49_output_0, 0, NumDims.x_Shape_8_output_0, NumDims.x_Constant_49_output_0);
Vars.x_Constant_49_output_0 = [];
Vars.x_Shape_8_output_0 = [];

% Shape:
[Vars.x_Shape_9_output_0, NumDims.x_Shape_9_output_0] = onnxShape(Vars.x_Add_7_output_0, NumDims.x_Add_7_output_0);

% Gather:
[Vars.x_Gather_5_output_0, NumDims.x_Gather_5_output_0] = onnxGather(Vars.x_Shape_9_output_0, Vars.x_Constant_50_output_0, 0, NumDims.x_Shape_9_output_0, NumDims.x_Constant_50_output_0);
Vars.x_Constant_50_output_0 = [];
Vars.x_Shape_9_output_0 = [];

% Shape:
[Vars.x_transformer_Shape_output_0, NumDims.x_transformer_Shape_output_0] = onnxShape(Vars.x_Add_7_output_0, NumDims.x_Add_7_output_0);

% Slice:
[Indices, NumDims.x_transformer_Slice_output_0] = prepareSliceArgs(Vars.x_transformer_Shape_output_0, Vars.x_transformer_Constant_1_output_0, Vars.x_transformer_Constant_2_output_0, Vars.x_transformer_Constant_output_0, '', NumDims.x_transformer_Shape_output_0);
Vars.x_transformer_Constant_output_0 = [];
Vars.x_transformer_Constant_2_output_0 = [];
Vars.x_transformer_Constant_1_output_0 = [];
Vars.x_transformer_Slice_output_0 = subsref(Vars.x_transformer_Shape_output_0, Indices);
Vars.x_transformer_Shape_output_0 = [];

% Concat:
[Vars.x_transformer_Concat_output_0, NumDims.x_transformer_Concat_output_0] = onnxConcat(0, {Vars.x_transformer_Slice_output_0, Vars.x_transformer_Constant_3_output_0}, [NumDims.x_transformer_Slice_output_0, NumDims.x_transformer_Constant_3_output_0]);
Vars.x_transformer_Constant_3_output_0 = [];
Vars.x_transformer_Slice_output_0 = [];

% Reshape:
[shape, NumDims.x_transformer_Reshape_output_0] = prepareReshapeArgs(Vars.x_Add_7_output_0, Vars.x_transformer_Concat_output_0, NumDims.x_Add_7_output_0, 0);
Vars.x_transformer_Concat_output_0 = [];
Vars.x_transformer_Reshape_output_0 = reshape(Vars.x_Add_7_output_0, shape{:});
Vars.x_Add_7_output_0 = [];

% Transpose:
[perm, NumDims.x_transformer_Transpose_output_0] = prepareTransposeArgs(Vars.TransposePerm1020, NumDims.x_transformer_Reshape_output_0);
Vars.TransposePerm1020 = [];
if ~isempty(perm)
    Vars.x_transformer_Transpose_output_0 = permute(Vars.x_transformer_Reshape_output_0, perm);
Vars.x_transformer_Reshape_output_0 = [];
end

% Shape:
[Vars.x_transformer_Shape_1_output_0, NumDims.x_transformer_Shape_1_output_0] = onnxShape(Vars.x_Concat_6_output_0, NumDims.x_Concat_6_output_0);

% Slice:
[Indices, NumDims.x_transformer_Slice_1_output_0] = prepareSliceArgs(Vars.x_transformer_Shape_1_output_0, Vars.x_transformer_Constant_5_output_0, Vars.x_transformer_Constant_6_output_0, Vars.x_transformer_Constant_4_output_0, '', NumDims.x_transformer_Shape_1_output_0);
Vars.x_transformer_Constant_4_output_0 = [];
Vars.x_transformer_Constant_6_output_0 = [];
Vars.x_transformer_Constant_5_output_0 = [];
Vars.x_transformer_Slice_1_output_0 = subsref(Vars.x_transformer_Shape_1_output_0, Indices);
Vars.x_transformer_Shape_1_output_0 = [];

% Concat:
[Vars.x_transformer_Concat_1_output_0, NumDims.x_transformer_Concat_1_output_0] = onnxConcat(0, {Vars.x_transformer_Slice_1_output_0, Vars.x_transformer_Constant_7_output_0}, [NumDims.x_transformer_Slice_1_output_0, NumDims.x_transformer_Constant_7_output_0]);
Vars.x_transformer_Constant_7_output_0 = [];
Vars.x_transformer_Slice_1_output_0 = [];

% Reshape:
[shape, NumDims.x_transformer_Reshape_1_output_0] = prepareReshapeArgs(Vars.x_Concat_6_output_0, Vars.x_transformer_Concat_1_output_0, NumDims.x_Concat_6_output_0, 0);
Vars.x_transformer_Concat_1_output_0 = [];
Vars.x_transformer_Reshape_1_output_0 = reshape(Vars.x_Concat_6_output_0, shape{:});
Vars.x_Concat_6_output_0 = [];

% Transpose:
[perm, NumDims.x_transformer_Transpose_1_output_0] = prepareTransposeArgs(Vars.TransposePerm1021, NumDims.x_transformer_Reshape_1_output_0);
Vars.TransposePerm1021 = [];
if ~isempty(perm)
    Vars.x_transformer_Transpose_1_output_0 = permute(Vars.x_transformer_Reshape_1_output_0, perm);
Vars.x_transformer_Reshape_1_output_0 = [];
end

% MatMul:
[Vars.x_transformer_layers_0_self_attn_q_pro_3, NumDims.x_transformer_layers_0_self_attn_q_pro_3] = onnxMatMul(Vars.x_Concat_2_output_0, Vars.onnx__MatMul_1663, NumDims.x_Concat_2_output_0, NumDims.onnx__MatMul_1663);
Vars.onnx__MatMul_1663 = [];

% Add:
Vars.x_transformer_layers_0_self_attn_q_pro_1 = Vars.mask_decoder_transformer_layers_0_self_2 + Vars.x_transformer_layers_0_self_attn_q_pro_3;
Vars.x_transformer_layers_0_self_attn_q_pro_3 = [];
Vars.mask_decoder_transformer_layers_0_self_2 = [];
NumDims.x_transformer_layers_0_self_attn_q_pro_1 = max(NumDims.mask_decoder_transformer_layers_0_self_2, NumDims.x_transformer_layers_0_self_attn_q_pro_3);

% MatMul:
[Vars.x_transformer_layers_0_self_attn_k_pro_3, NumDims.x_transformer_layers_0_self_attn_k_pro_3] = onnxMatMul(Vars.x_Concat_2_output_0, Vars.onnx__MatMul_1664, NumDims.x_Concat_2_output_0, NumDims.onnx__MatMul_1664);
Vars.onnx__MatMul_1664 = [];

% Add:
Vars.x_transformer_layers_0_self_attn_k_pro_1 = Vars.mask_decoder_transformer_layers_0_self_a + Vars.x_transformer_layers_0_self_attn_k_pro_3;
Vars.x_transformer_layers_0_self_attn_k_pro_3 = [];
Vars.mask_decoder_transformer_layers_0_self_a = [];
NumDims.x_transformer_layers_0_self_attn_k_pro_1 = max(NumDims.mask_decoder_transformer_layers_0_self_a, NumDims.x_transformer_layers_0_self_attn_k_pro_3);

% MatMul:
[Vars.x_transformer_layers_0_self_attn_v_pro_3, NumDims.x_transformer_layers_0_self_attn_v_pro_3] = onnxMatMul(Vars.x_Concat_2_output_0, Vars.onnx__MatMul_1665, NumDims.x_Concat_2_output_0, NumDims.onnx__MatMul_1665);
Vars.onnx__MatMul_1665 = [];

% Add:
Vars.x_transformer_layers_0_self_attn_v_pro_1 = Vars.mask_decoder_transformer_layers_0_self_3 + Vars.x_transformer_layers_0_self_attn_v_pro_3;
Vars.x_transformer_layers_0_self_attn_v_pro_3 = [];
Vars.mask_decoder_transformer_layers_0_self_3 = [];
NumDims.x_transformer_layers_0_self_attn_v_pro_1 = max(NumDims.mask_decoder_transformer_layers_0_self_3, NumDims.x_transformer_layers_0_self_attn_v_pro_3);

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shape_o, NumDims.x_transformer_layers_0_self_attn_Shape_o] = onnxShape(Vars.x_transformer_layers_0_self_attn_q_pro_1, NumDims.x_transformer_layers_0_self_attn_q_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_24, NumDims.x_transformer_layers_0_self_attn_Gath_24] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shape_o, Vars.x_transformer_layers_0_self_attn_Cons_39, 0, NumDims.x_transformer_layers_0_self_attn_Shape_o, NumDims.x_transformer_layers_0_self_attn_Cons_39);
Vars.x_transformer_layers_0_self_attn_Cons_39 = [];
Vars.x_transformer_layers_0_self_attn_Shape_o = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_7, NumDims.x_transformer_layers_0_self_attn_Shap_7] = onnxShape(Vars.x_transformer_layers_0_self_attn_q_pro_1, NumDims.x_transformer_layers_0_self_attn_q_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_7, NumDims.x_transformer_layers_0_self_attn_Gath_7] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_7, Vars.x_transformer_layers_0_self_attn_Cons_22, 0, NumDims.x_transformer_layers_0_self_attn_Shap_7, NumDims.x_transformer_layers_0_self_attn_Cons_22);
Vars.x_transformer_layers_0_self_attn_Cons_22 = [];
Vars.x_transformer_layers_0_self_attn_Shap_7 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_8, NumDims.x_transformer_layers_0_self_attn_Shap_8] = onnxShape(Vars.x_transformer_layers_0_self_attn_q_pro_1, NumDims.x_transformer_layers_0_self_attn_q_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_9, NumDims.x_transformer_layers_0_self_attn_Gath_9] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_8, Vars.x_transformer_layers_0_self_attn_Cons_24, 0, NumDims.x_transformer_layers_0_self_attn_Shap_8, NumDims.x_transformer_layers_0_self_attn_Cons_24);
Vars.x_transformer_layers_0_self_attn_Cons_24 = [];
Vars.x_transformer_layers_0_self_attn_Shap_8 = [];

% Div:
Vars.x_transformer_layers_0_self_attn_Div_out = fix(Vars.x_transformer_layers_0_self_attn_Gath_9 ./ Vars.x_transformer_layers_0_self_attn_Cons_26);
Vars.x_transformer_layers_0_self_attn_Cons_26 = [];
Vars.x_transformer_layers_0_self_attn_Gath_9 = [];
NumDims.x_transformer_layers_0_self_attn_Div_out = max(NumDims.x_transformer_layers_0_self_attn_Gath_9, NumDims.x_transformer_layers_0_self_attn_Cons_26);

% Cast:
Vars.x_transformer_layers_0_self_attn_Cast_ou = cast(int64(extractdata(Vars.x_transformer_layers_0_self_attn_Div_out)), 'like', Vars.x_transformer_layers_0_self_attn_Div_out);
Vars.x_transformer_layers_0_self_attn_Div_out = [];
NumDims.x_transformer_layers_0_self_attn_Cast_ou = NumDims.x_transformer_layers_0_self_attn_Div_out;

% Cast:
Vars.x_transformer_layers_0_self_attn_Cast_1_ = cast(int64(extractdata(Vars.x_transformer_layers_0_self_attn_Cast_ou)), 'like', Vars.x_transformer_layers_0_self_attn_Cast_ou);
Vars.x_transformer_layers_0_self_attn_Cast_ou = [];
NumDims.x_transformer_layers_0_self_attn_Cast_1_ = NumDims.x_transformer_layers_0_self_attn_Cast_ou;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_23] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_24, Vars.onnx__Unsqueeze_583, NumDims.x_transformer_layers_0_self_attn_Gath_24);
Vars.onnx__Unsqueeze_583 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_23 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_24, shape);
Vars.x_transformer_layers_0_self_attn_Gath_24 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_6] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_7, Vars.onnx__Unsqueeze_585, NumDims.x_transformer_layers_0_self_attn_Gath_7);
Vars.onnx__Unsqueeze_585 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_6 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_7, shape);
Vars.x_transformer_layers_0_self_attn_Gath_7 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_8] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Cast_1_, Vars.onnx__Unsqueeze_589, NumDims.x_transformer_layers_0_self_attn_Cast_1_);
Vars.onnx__Unsqueeze_589 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_8 = reshape(Vars.x_transformer_layers_0_self_attn_Cast_1_, shape);
Vars.x_transformer_layers_0_self_attn_Cast_1_ = [];

% Concat:
[Vars.x_transformer_layers_0_self_attn_Conca_6, NumDims.x_transformer_layers_0_self_attn_Conca_6] = onnxConcat(0, {Vars.x_transformer_layers_0_self_attn_Unsq_23, Vars.x_transformer_layers_0_self_attn_Unsq_6, Vars.x_transformer_layers_0_self_attn_Cons_28, Vars.x_transformer_layers_0_self_attn_Unsq_8}, [NumDims.x_transformer_layers_0_self_attn_Unsq_23, NumDims.x_transformer_layers_0_self_attn_Unsq_6, NumDims.x_transformer_layers_0_self_attn_Cons_28, NumDims.x_transformer_layers_0_self_attn_Unsq_8]);
Vars.x_transformer_layers_0_self_attn_Unsq_8 = [];
Vars.x_transformer_layers_0_self_attn_Cons_28 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_6 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_23 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_self_attn_Resha_7] = prepareReshapeArgs(Vars.x_transformer_layers_0_self_attn_q_pro_1, Vars.x_transformer_layers_0_self_attn_Conca_6, NumDims.x_transformer_layers_0_self_attn_q_pro_1, 0);
Vars.x_transformer_layers_0_self_attn_Conca_6 = [];
Vars.x_transformer_layers_0_self_attn_Resha_7 = reshape(Vars.x_transformer_layers_0_self_attn_q_pro_1, shape{:});
Vars.x_transformer_layers_0_self_attn_q_pro_1 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_self_attn_Trans_7] = prepareTransposeArgs(Vars.TransposePerm1022, NumDims.x_transformer_layers_0_self_attn_Resha_7);
Vars.TransposePerm1022 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_self_attn_Trans_7 = permute(Vars.x_transformer_layers_0_self_attn_Resha_7, perm);
Vars.x_transformer_layers_0_self_attn_Resha_7 = [];
end

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_9, NumDims.x_transformer_layers_0_self_attn_Shap_9] = onnxShape(Vars.x_transformer_layers_0_self_attn_k_pro_1, NumDims.x_transformer_layers_0_self_attn_k_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_11, NumDims.x_transformer_layers_0_self_attn_Gath_11] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_9, Vars.x_transformer_layers_0_self_attn_Cons_30, 0, NumDims.x_transformer_layers_0_self_attn_Shap_9, NumDims.x_transformer_layers_0_self_attn_Cons_30);
Vars.x_transformer_layers_0_self_attn_Cons_30 = [];
Vars.x_transformer_layers_0_self_attn_Shap_9 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_10, NumDims.x_transformer_layers_0_self_attn_Shap_10] = onnxShape(Vars.x_transformer_layers_0_self_attn_k_pro_1, NumDims.x_transformer_layers_0_self_attn_k_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_13, NumDims.x_transformer_layers_0_self_attn_Gath_13] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_10, Vars.x_transformer_layers_0_self_attn_Cons_32, 0, NumDims.x_transformer_layers_0_self_attn_Shap_10, NumDims.x_transformer_layers_0_self_attn_Cons_32);
Vars.x_transformer_layers_0_self_attn_Cons_32 = [];
Vars.x_transformer_layers_0_self_attn_Shap_10 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_11, NumDims.x_transformer_layers_0_self_attn_Shap_11] = onnxShape(Vars.x_transformer_layers_0_self_attn_k_pro_1, NumDims.x_transformer_layers_0_self_attn_k_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_15, NumDims.x_transformer_layers_0_self_attn_Gath_15] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_11, Vars.x_transformer_layers_0_self_attn_Cons_34, 0, NumDims.x_transformer_layers_0_self_attn_Shap_11, NumDims.x_transformer_layers_0_self_attn_Cons_34);
Vars.x_transformer_layers_0_self_attn_Cons_34 = [];
Vars.x_transformer_layers_0_self_attn_Shap_11 = [];

% Div:
Vars.x_transformer_layers_0_self_attn_Div_1_o = fix(Vars.x_transformer_layers_0_self_attn_Gath_15 ./ Vars.x_transformer_layers_0_self_attn_Cons_36);
Vars.x_transformer_layers_0_self_attn_Cons_36 = [];
Vars.x_transformer_layers_0_self_attn_Gath_15 = [];
NumDims.x_transformer_layers_0_self_attn_Div_1_o = max(NumDims.x_transformer_layers_0_self_attn_Gath_15, NumDims.x_transformer_layers_0_self_attn_Cons_36);

% Cast:
Vars.x_transformer_layers_0_self_attn_Cast_2_ = cast(int64(extractdata(Vars.x_transformer_layers_0_self_attn_Div_1_o)), 'like', Vars.x_transformer_layers_0_self_attn_Div_1_o);
Vars.x_transformer_layers_0_self_attn_Div_1_o = [];
NumDims.x_transformer_layers_0_self_attn_Cast_2_ = NumDims.x_transformer_layers_0_self_attn_Div_1_o;

% Cast:
Vars.x_transformer_layers_0_self_attn_Cast_3_ = cast(int64(extractdata(Vars.x_transformer_layers_0_self_attn_Cast_2_)), 'like', Vars.x_transformer_layers_0_self_attn_Cast_2_);
Vars.x_transformer_layers_0_self_attn_Cast_2_ = [];
NumDims.x_transformer_layers_0_self_attn_Cast_3_ = NumDims.x_transformer_layers_0_self_attn_Cast_2_;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_10] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_11, Vars.onnx__Unsqueeze_607, NumDims.x_transformer_layers_0_self_attn_Gath_11);
Vars.onnx__Unsqueeze_607 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_10 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_11, shape);
Vars.x_transformer_layers_0_self_attn_Gath_11 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_12] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_13, Vars.onnx__Unsqueeze_609, NumDims.x_transformer_layers_0_self_attn_Gath_13);
Vars.onnx__Unsqueeze_609 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_12 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_13, shape);
Vars.x_transformer_layers_0_self_attn_Gath_13 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_14] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Cast_3_, Vars.onnx__Unsqueeze_613, NumDims.x_transformer_layers_0_self_attn_Cast_3_);
Vars.onnx__Unsqueeze_613 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_14 = reshape(Vars.x_transformer_layers_0_self_attn_Cast_3_, shape);
Vars.x_transformer_layers_0_self_attn_Cast_3_ = [];

% Concat:
[Vars.x_transformer_layers_0_self_attn_Conca_1, NumDims.x_transformer_layers_0_self_attn_Conca_1] = onnxConcat(0, {Vars.x_transformer_layers_0_self_attn_Unsq_10, Vars.x_transformer_layers_0_self_attn_Unsq_12, Vars.x_transformer_layers_0_self_attn_Cons_38, Vars.x_transformer_layers_0_self_attn_Unsq_14}, [NumDims.x_transformer_layers_0_self_attn_Unsq_10, NumDims.x_transformer_layers_0_self_attn_Unsq_12, NumDims.x_transformer_layers_0_self_attn_Cons_38, NumDims.x_transformer_layers_0_self_attn_Unsq_14]);
Vars.x_transformer_layers_0_self_attn_Unsq_14 = [];
Vars.x_transformer_layers_0_self_attn_Cons_38 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_12 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_10 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_self_attn_Resha_2] = prepareReshapeArgs(Vars.x_transformer_layers_0_self_attn_k_pro_1, Vars.x_transformer_layers_0_self_attn_Conca_1, NumDims.x_transformer_layers_0_self_attn_k_pro_1, 0);
Vars.x_transformer_layers_0_self_attn_Conca_1 = [];
Vars.x_transformer_layers_0_self_attn_Resha_2 = reshape(Vars.x_transformer_layers_0_self_attn_k_pro_1, shape{:});
Vars.x_transformer_layers_0_self_attn_k_pro_1 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_12, NumDims.x_transformer_layers_0_self_attn_Shap_12] = onnxShape(Vars.x_transformer_layers_0_self_attn_v_pro_1, NumDims.x_transformer_layers_0_self_attn_v_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_17, NumDims.x_transformer_layers_0_self_attn_Gath_17] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_12, Vars.x_transformer_layers_0_self_attn_Cons_3, 0, NumDims.x_transformer_layers_0_self_attn_Shap_12, NumDims.x_transformer_layers_0_self_attn_Cons_3);
Vars.x_transformer_layers_0_self_attn_Cons_3 = [];
Vars.x_transformer_layers_0_self_attn_Shap_12 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_13, NumDims.x_transformer_layers_0_self_attn_Shap_13] = onnxShape(Vars.x_transformer_layers_0_self_attn_v_pro_1, NumDims.x_transformer_layers_0_self_attn_v_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_19, NumDims.x_transformer_layers_0_self_attn_Gath_19] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_13, Vars.x_transformer_layers_0_self_attn_Cons_5, 0, NumDims.x_transformer_layers_0_self_attn_Shap_13, NumDims.x_transformer_layers_0_self_attn_Cons_5);
Vars.x_transformer_layers_0_self_attn_Cons_5 = [];
Vars.x_transformer_layers_0_self_attn_Shap_13 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_14, NumDims.x_transformer_layers_0_self_attn_Shap_14] = onnxShape(Vars.x_transformer_layers_0_self_attn_v_pro_1, NumDims.x_transformer_layers_0_self_attn_v_pro_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_21, NumDims.x_transformer_layers_0_self_attn_Gath_21] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_14, Vars.x_transformer_layers_0_self_attn_Cons_7, 0, NumDims.x_transformer_layers_0_self_attn_Shap_14, NumDims.x_transformer_layers_0_self_attn_Cons_7);
Vars.x_transformer_layers_0_self_attn_Cons_7 = [];
Vars.x_transformer_layers_0_self_attn_Shap_14 = [];

% Div:
Vars.x_transformer_layers_0_self_attn_Div_2_o = fix(Vars.x_transformer_layers_0_self_attn_Gath_21 ./ Vars.x_transformer_layers_0_self_attn_Cons_9);
Vars.x_transformer_layers_0_self_attn_Cons_9 = [];
Vars.x_transformer_layers_0_self_attn_Gath_21 = [];
NumDims.x_transformer_layers_0_self_attn_Div_2_o = max(NumDims.x_transformer_layers_0_self_attn_Gath_21, NumDims.x_transformer_layers_0_self_attn_Cons_9);

% Cast:
Vars.x_transformer_layers_0_self_attn_Cast_4_ = cast(int64(extractdata(Vars.x_transformer_layers_0_self_attn_Div_2_o)), 'like', Vars.x_transformer_layers_0_self_attn_Div_2_o);
Vars.x_transformer_layers_0_self_attn_Div_2_o = [];
NumDims.x_transformer_layers_0_self_attn_Cast_4_ = NumDims.x_transformer_layers_0_self_attn_Div_2_o;

% Cast:
Vars.x_transformer_layers_0_self_attn_Cast_5_ = cast(int64(extractdata(Vars.x_transformer_layers_0_self_attn_Cast_4_)), 'like', Vars.x_transformer_layers_0_self_attn_Cast_4_);
Vars.x_transformer_layers_0_self_attn_Cast_4_ = [];
NumDims.x_transformer_layers_0_self_attn_Cast_5_ = NumDims.x_transformer_layers_0_self_attn_Cast_4_;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_16] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_17, Vars.onnx__Unsqueeze_630, NumDims.x_transformer_layers_0_self_attn_Gath_17);
Vars.onnx__Unsqueeze_630 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_16 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_17, shape);
Vars.x_transformer_layers_0_self_attn_Gath_17 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_18] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_19, Vars.onnx__Unsqueeze_632, NumDims.x_transformer_layers_0_self_attn_Gath_19);
Vars.onnx__Unsqueeze_632 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_18 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_19, shape);
Vars.x_transformer_layers_0_self_attn_Gath_19 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_20] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Cast_5_, Vars.onnx__Unsqueeze_636, NumDims.x_transformer_layers_0_self_attn_Cast_5_);
Vars.onnx__Unsqueeze_636 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_20 = reshape(Vars.x_transformer_layers_0_self_attn_Cast_5_, shape);
Vars.x_transformer_layers_0_self_attn_Cast_5_ = [];

% Concat:
[Vars.x_transformer_layers_0_self_attn_Conca_3, NumDims.x_transformer_layers_0_self_attn_Conca_3] = onnxConcat(0, {Vars.x_transformer_layers_0_self_attn_Unsq_16, Vars.x_transformer_layers_0_self_attn_Unsq_18, Vars.x_transformer_layers_0_self_attn_Cons_11, Vars.x_transformer_layers_0_self_attn_Unsq_20}, [NumDims.x_transformer_layers_0_self_attn_Unsq_16, NumDims.x_transformer_layers_0_self_attn_Unsq_18, NumDims.x_transformer_layers_0_self_attn_Cons_11, NumDims.x_transformer_layers_0_self_attn_Unsq_20]);
Vars.x_transformer_layers_0_self_attn_Unsq_20 = [];
Vars.x_transformer_layers_0_self_attn_Cons_11 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_18 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_16 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_self_attn_Resha_4] = prepareReshapeArgs(Vars.x_transformer_layers_0_self_attn_v_pro_1, Vars.x_transformer_layers_0_self_attn_Conca_3, NumDims.x_transformer_layers_0_self_attn_v_pro_1, 0);
Vars.x_transformer_layers_0_self_attn_Conca_3 = [];
Vars.x_transformer_layers_0_self_attn_Resha_4 = reshape(Vars.x_transformer_layers_0_self_attn_v_pro_1, shape{:});
Vars.x_transformer_layers_0_self_attn_v_pro_1 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_self_attn_Trans_2] = prepareTransposeArgs(Vars.TransposePerm1023, NumDims.x_transformer_layers_0_self_attn_Resha_4);
Vars.TransposePerm1023 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_self_attn_Trans_2 = permute(Vars.x_transformer_layers_0_self_attn_Resha_4, perm);
Vars.x_transformer_layers_0_self_attn_Resha_4 = [];
end

% Transpose:
[perm, NumDims.x_transformer_layers_0_self_attn_Trans_4] = prepareTransposeArgs(Vars.TransposePerm1024, NumDims.x_transformer_layers_0_self_attn_Resha_2);
Vars.TransposePerm1024 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_self_attn_Trans_4 = permute(Vars.x_transformer_layers_0_self_attn_Resha_2, perm);
Vars.x_transformer_layers_0_self_attn_Resha_2 = [];
end

% MatMul:
[Vars.x_transformer_layers_0_self_attn_MatMu_2, NumDims.x_transformer_layers_0_self_attn_MatMu_2] = onnxMatMul(Vars.x_transformer_layers_0_self_attn_Trans_7, Vars.x_transformer_layers_0_self_attn_Trans_4, NumDims.x_transformer_layers_0_self_attn_Trans_7, NumDims.x_transformer_layers_0_self_attn_Trans_4);
Vars.x_transformer_layers_0_self_attn_Trans_4 = [];
Vars.x_transformer_layers_0_self_attn_Trans_7 = [];

% Div:
Vars.x_transformer_layers_0_self_attn_Div_3_o = Vars.x_transformer_layers_0_self_attn_MatMu_2 ./ Vars.x_transformer_layers_0_self_attn_Cons_13;
Vars.x_transformer_layers_0_self_attn_Cons_13 = [];
Vars.x_transformer_layers_0_self_attn_MatMu_2 = [];
NumDims.x_transformer_layers_0_self_attn_Div_3_o = max(NumDims.x_transformer_layers_0_self_attn_MatMu_2, NumDims.x_transformer_layers_0_self_attn_Cons_13);

% Softmax:
[Vars.x_transformer_layers_0_self_attn_Softm_1, NumDims.x_transformer_layers_0_self_attn_Softm_1] = onnxSoftmax13(Vars.x_transformer_layers_0_self_attn_Div_3_o, -1, NumDims.x_transformer_layers_0_self_attn_Div_3_o);
Vars.x_transformer_layers_0_self_attn_Div_3_o = [];

% MatMul:
[Vars.x_transformer_layers_0_self_attn_MatMu_1, NumDims.x_transformer_layers_0_self_attn_MatMu_1] = onnxMatMul(Vars.x_transformer_layers_0_self_attn_Softm_1, Vars.x_transformer_layers_0_self_attn_Trans_2, NumDims.x_transformer_layers_0_self_attn_Softm_1, NumDims.x_transformer_layers_0_self_attn_Trans_2);
Vars.x_transformer_layers_0_self_attn_Trans_2 = [];
Vars.x_transformer_layers_0_self_attn_Softm_1 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_15, NumDims.x_transformer_layers_0_self_attn_Shap_15] = onnxShape(Vars.x_transformer_layers_0_self_attn_MatMu_1, NumDims.x_transformer_layers_0_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_23, NumDims.x_transformer_layers_0_self_attn_Gath_23] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_15, Vars.x_transformer_layers_0_self_attn_Cons_15, 0, NumDims.x_transformer_layers_0_self_attn_Shap_15, NumDims.x_transformer_layers_0_self_attn_Cons_15);
Vars.x_transformer_layers_0_self_attn_Cons_15 = [];
Vars.x_transformer_layers_0_self_attn_Shap_15 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_2, NumDims.x_transformer_layers_0_self_attn_Shap_2] = onnxShape(Vars.x_transformer_layers_0_self_attn_MatMu_1, NumDims.x_transformer_layers_0_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_2, NumDims.x_transformer_layers_0_self_attn_Gath_2] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_2, Vars.x_transformer_layers_0_self_attn_Cons_17, 0, NumDims.x_transformer_layers_0_self_attn_Shap_2, NumDims.x_transformer_layers_0_self_attn_Cons_17);
Vars.x_transformer_layers_0_self_attn_Cons_17 = [];
Vars.x_transformer_layers_0_self_attn_Shap_2 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_4, NumDims.x_transformer_layers_0_self_attn_Shap_4] = onnxShape(Vars.x_transformer_layers_0_self_attn_MatMu_1, NumDims.x_transformer_layers_0_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_4, NumDims.x_transformer_layers_0_self_attn_Gath_4] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_4, Vars.x_transformer_layers_0_self_attn_Cons_19, 0, NumDims.x_transformer_layers_0_self_attn_Shap_4, NumDims.x_transformer_layers_0_self_attn_Cons_19);
Vars.x_transformer_layers_0_self_attn_Cons_19 = [];
Vars.x_transformer_layers_0_self_attn_Shap_4 = [];

% Shape:
[Vars.x_transformer_layers_0_self_attn_Shap_6, NumDims.x_transformer_layers_0_self_attn_Shap_6] = onnxShape(Vars.x_transformer_layers_0_self_attn_MatMu_1, NumDims.x_transformer_layers_0_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_0_self_attn_Gath_6, NumDims.x_transformer_layers_0_self_attn_Gath_6] = onnxGather(Vars.x_transformer_layers_0_self_attn_Shap_6, Vars.x_transformer_layers_0_self_attn_Cons_21, 0, NumDims.x_transformer_layers_0_self_attn_Shap_6, NumDims.x_transformer_layers_0_self_attn_Cons_21);
Vars.x_transformer_layers_0_self_attn_Cons_21 = [];
Vars.x_transformer_layers_0_self_attn_Shap_6 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_self_attn_Trans_6] = prepareTransposeArgs(Vars.TransposePerm1025, NumDims.x_transformer_layers_0_self_attn_MatMu_1);
Vars.TransposePerm1025 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_self_attn_Trans_6 = permute(Vars.x_transformer_layers_0_self_attn_MatMu_1, perm);
Vars.x_transformer_layers_0_self_attn_MatMu_1 = [];
end

% Mul:
Vars.x_transformer_layers_0_self_attn_Mul_out = Vars.x_transformer_layers_0_self_attn_Gath_2 .* Vars.x_transformer_layers_0_self_attn_Gath_6;
Vars.x_transformer_layers_0_self_attn_Gath_6 = [];
Vars.x_transformer_layers_0_self_attn_Gath_2 = [];
NumDims.x_transformer_layers_0_self_attn_Mul_out = max(NumDims.x_transformer_layers_0_self_attn_Gath_2, NumDims.x_transformer_layers_0_self_attn_Gath_6);

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_22] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_23, Vars.onnx__Unsqueeze_661, NumDims.x_transformer_layers_0_self_attn_Gath_23);
Vars.onnx__Unsqueeze_661 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_22 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_23, shape);
Vars.x_transformer_layers_0_self_attn_Gath_23 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_3] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Gath_4, Vars.onnx__Unsqueeze_663, NumDims.x_transformer_layers_0_self_attn_Gath_4);
Vars.onnx__Unsqueeze_663 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_3 = reshape(Vars.x_transformer_layers_0_self_attn_Gath_4, shape);
Vars.x_transformer_layers_0_self_attn_Gath_4 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_self_attn_Unsq_5] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_self_attn_Mul_out, Vars.onnx__Unsqueeze_665, NumDims.x_transformer_layers_0_self_attn_Mul_out);
Vars.onnx__Unsqueeze_665 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_5 = reshape(Vars.x_transformer_layers_0_self_attn_Mul_out, shape);
Vars.x_transformer_layers_0_self_attn_Mul_out = [];

% Concat:
[Vars.x_transformer_layers_0_self_attn_Conca_5, NumDims.x_transformer_layers_0_self_attn_Conca_5] = onnxConcat(0, {Vars.x_transformer_layers_0_self_attn_Unsq_22, Vars.x_transformer_layers_0_self_attn_Unsq_3, Vars.x_transformer_layers_0_self_attn_Unsq_5}, [NumDims.x_transformer_layers_0_self_attn_Unsq_22, NumDims.x_transformer_layers_0_self_attn_Unsq_3, NumDims.x_transformer_layers_0_self_attn_Unsq_5]);
Vars.x_transformer_layers_0_self_attn_Unsq_5 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_3 = [];
Vars.x_transformer_layers_0_self_attn_Unsq_22 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_self_attn_Resha_6] = prepareReshapeArgs(Vars.x_transformer_layers_0_self_attn_Trans_6, Vars.x_transformer_layers_0_self_attn_Conca_5, NumDims.x_transformer_layers_0_self_attn_Trans_6, 0);
Vars.x_transformer_layers_0_self_attn_Conca_5 = [];
Vars.x_transformer_layers_0_self_attn_Resha_6 = reshape(Vars.x_transformer_layers_0_self_attn_Trans_6, shape{:});
Vars.x_transformer_layers_0_self_attn_Trans_6 = [];

% MatMul:
[Vars.x_transformer_layers_0_self_attn_out_p_3, NumDims.x_transformer_layers_0_self_attn_out_p_3] = onnxMatMul(Vars.x_transformer_layers_0_self_attn_Resha_6, Vars.onnx__MatMul_1669, NumDims.x_transformer_layers_0_self_attn_Resha_6, NumDims.onnx__MatMul_1669);
Vars.onnx__MatMul_1669 = [];
Vars.x_transformer_layers_0_self_attn_Resha_6 = [];

% Add:
Vars.x_transformer_layers_0_self_attn_out_p_1 = Vars.mask_decoder_transformer_layers_0_self_1 + Vars.x_transformer_layers_0_self_attn_out_p_3;
Vars.x_transformer_layers_0_self_attn_out_p_3 = [];
Vars.mask_decoder_transformer_layers_0_self_1 = [];
NumDims.x_transformer_layers_0_self_attn_out_p_1 = max(NumDims.mask_decoder_transformer_layers_0_self_1, NumDims.x_transformer_layers_0_self_attn_out_p_3);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1026, NumDims.x_transformer_layers_0_self_attn_out_p_1);
Vars.ReduceMeanAxes1026 = [];
Vars.x_transformer_layers_0_norm1_ReduceMea_2 = mean(Vars.x_transformer_layers_0_self_attn_out_p_1, dims);
NumDims.x_transformer_layers_0_norm1_ReduceMea_2 = NumDims.x_transformer_layers_0_self_attn_out_p_1;

% Sub:
Vars.x_transformer_layers_0_norm1_Sub_output_ = Vars.x_transformer_layers_0_self_attn_out_p_1 - Vars.x_transformer_layers_0_norm1_ReduceMea_2;
Vars.x_transformer_layers_0_norm1_ReduceMea_2 = [];
Vars.x_transformer_layers_0_self_attn_out_p_1 = [];
NumDims.x_transformer_layers_0_norm1_Sub_output_ = max(NumDims.x_transformer_layers_0_self_attn_out_p_1, NumDims.x_transformer_layers_0_norm1_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_0_norm1_Pow_output_ = power(Vars.x_transformer_layers_0_norm1_Sub_output_, Vars.x_transformer_layers_0_norm1_Constant_ou);
Vars.x_transformer_layers_0_norm1_Constant_ou = [];
NumDims.x_transformer_layers_0_norm1_Pow_output_ = max(NumDims.x_transformer_layers_0_norm1_Sub_output_, NumDims.x_transformer_layers_0_norm1_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1027, NumDims.x_transformer_layers_0_norm1_Pow_output_);
Vars.ReduceMeanAxes1027 = [];
Vars.x_transformer_layers_0_norm1_ReduceMea_1 = mean(Vars.x_transformer_layers_0_norm1_Pow_output_, dims);
Vars.x_transformer_layers_0_norm1_Pow_output_ = [];
NumDims.x_transformer_layers_0_norm1_ReduceMea_1 = NumDims.x_transformer_layers_0_norm1_Pow_output_;

% Add:
Vars.x_transformer_layers_0_norm1_Add_output_ = Vars.x_transformer_layers_0_norm1_ReduceMea_1 + Vars.x_transformer_layers_0_norm1_Constant_1_;
Vars.x_transformer_layers_0_norm1_Constant_1_ = [];
Vars.x_transformer_layers_0_norm1_ReduceMea_1 = [];
NumDims.x_transformer_layers_0_norm1_Add_output_ = max(NumDims.x_transformer_layers_0_norm1_ReduceMea_1, NumDims.x_transformer_layers_0_norm1_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_0_norm1_Sqrt_output = sqrt(Vars.x_transformer_layers_0_norm1_Add_output_);
Vars.x_transformer_layers_0_norm1_Add_output_ = [];
NumDims.x_transformer_layers_0_norm1_Sqrt_output = NumDims.x_transformer_layers_0_norm1_Add_output_;

% Div:
Vars.x_transformer_layers_0_norm1_Div_output_ = Vars.x_transformer_layers_0_norm1_Sub_output_ ./ Vars.x_transformer_layers_0_norm1_Sqrt_output;
Vars.x_transformer_layers_0_norm1_Sqrt_output = [];
Vars.x_transformer_layers_0_norm1_Sub_output_ = [];
NumDims.x_transformer_layers_0_norm1_Div_output_ = max(NumDims.x_transformer_layers_0_norm1_Sub_output_, NumDims.x_transformer_layers_0_norm1_Sqrt_output);

% Mul:
Vars.x_transformer_layers_0_norm1_Mul_output_ = Vars.x_transformer_layers_0_norm1_Div_output_ .* Vars.mask_decoder_transformer_layers_0_norm_1;
Vars.mask_decoder_transformer_layers_0_norm_1 = [];
Vars.x_transformer_layers_0_norm1_Div_output_ = [];
NumDims.x_transformer_layers_0_norm1_Mul_output_ = max(NumDims.x_transformer_layers_0_norm1_Div_output_, NumDims.mask_decoder_transformer_layers_0_norm_1);

% Add:
Vars.x_transformer_layers_0_norm1_Add_1_outpu = Vars.x_transformer_layers_0_norm1_Mul_output_ + Vars.mask_decoder_transformer_layers_0_norm1_;
Vars.mask_decoder_transformer_layers_0_norm1_ = [];
Vars.x_transformer_layers_0_norm1_Mul_output_ = [];
NumDims.x_transformer_layers_0_norm1_Add_1_outpu = max(NumDims.x_transformer_layers_0_norm1_Mul_output_, NumDims.mask_decoder_transformer_layers_0_norm1_);

% Add:
Vars.x_transformer_layers_0_Add_output_0 = Vars.x_transformer_layers_0_norm1_Add_1_outpu + Vars.x_Concat_2_output_0;
NumDims.x_transformer_layers_0_Add_output_0 = max(NumDims.x_transformer_layers_0_norm1_Add_1_outpu, NumDims.x_Concat_2_output_0);

% Add:
Vars.x_transformer_layers_0_Add_1_output_0 = Vars.x_transformer_Transpose_output_0 + Vars.x_transformer_Transpose_1_output_0;
NumDims.x_transformer_layers_0_Add_1_output_0 = max(NumDims.x_transformer_Transpose_output_0, NumDims.x_transformer_Transpose_1_output_0);

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_to_179, NumDims.x_transformer_layers_0_cross_attn_to_179] = onnxMatMul(Vars.x_transformer_layers_0_Add_output_0, Vars.onnx__MatMul_1670, NumDims.x_transformer_layers_0_Add_output_0, NumDims.onnx__MatMul_1670);
Vars.onnx__MatMul_1670 = [];
Vars.x_transformer_layers_0_Add_output_0 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_to_177 = Vars.mask_decoder_transformer_layers_0_cros_6 + Vars.x_transformer_layers_0_cross_attn_to_179;
Vars.x_transformer_layers_0_cross_attn_to_179 = [];
Vars.mask_decoder_transformer_layers_0_cros_6 = [];
NumDims.x_transformer_layers_0_cross_attn_to_177 = max(NumDims.mask_decoder_transformer_layers_0_cros_6, NumDims.x_transformer_layers_0_cross_attn_to_179);

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_to_171, NumDims.x_transformer_layers_0_cross_attn_to_171] = onnxMatMul(Vars.x_transformer_layers_0_Add_1_output_0, Vars.onnx__MatMul_1671, NumDims.x_transformer_layers_0_Add_1_output_0, NumDims.onnx__MatMul_1671);
Vars.onnx__MatMul_1671 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_to_169 = Vars.mask_decoder_transformer_layers_0_cros_4 + Vars.x_transformer_layers_0_cross_attn_to_171;
Vars.x_transformer_layers_0_cross_attn_to_171 = [];
Vars.mask_decoder_transformer_layers_0_cros_4 = [];
NumDims.x_transformer_layers_0_cross_attn_to_169 = max(NumDims.mask_decoder_transformer_layers_0_cros_4, NumDims.x_transformer_layers_0_cross_attn_to_171);

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_to_183, NumDims.x_transformer_layers_0_cross_attn_to_183] = onnxMatMul(Vars.x_transformer_Transpose_output_0, Vars.onnx__MatMul_1672, NumDims.x_transformer_Transpose_output_0, NumDims.onnx__MatMul_1672);
Vars.onnx__MatMul_1672 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_to_181 = Vars.mask_decoder_transformer_layers_0_cros_7 + Vars.x_transformer_layers_0_cross_attn_to_183;
Vars.x_transformer_layers_0_cross_attn_to_183 = [];
Vars.mask_decoder_transformer_layers_0_cros_7 = [];
NumDims.x_transformer_layers_0_cross_attn_to_181 = max(NumDims.mask_decoder_transformer_layers_0_cros_7, NumDims.x_transformer_layers_0_cross_attn_to_183);

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_133, NumDims.x_transformer_layers_0_cross_attn_to_133] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_177, NumDims.x_transformer_layers_0_cross_attn_to_177);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_93, NumDims.x_transformer_layers_0_cross_attn_to_93] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_133, Vars.x_transformer_layers_0_cross_attn_to_59, 0, NumDims.x_transformer_layers_0_cross_attn_to_133, NumDims.x_transformer_layers_0_cross_attn_to_59);
Vars.x_transformer_layers_0_cross_attn_to_59 = [];
Vars.x_transformer_layers_0_cross_attn_to_133 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_116, NumDims.x_transformer_layers_0_cross_attn_to_116] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_177, NumDims.x_transformer_layers_0_cross_attn_to_177);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_76, NumDims.x_transformer_layers_0_cross_attn_to_76] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_116, Vars.x_transformer_layers_0_cross_attn_to_42, 0, NumDims.x_transformer_layers_0_cross_attn_to_116, NumDims.x_transformer_layers_0_cross_attn_to_42);
Vars.x_transformer_layers_0_cross_attn_to_42 = [];
Vars.x_transformer_layers_0_cross_attn_to_116 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_118, NumDims.x_transformer_layers_0_cross_attn_to_118] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_177, NumDims.x_transformer_layers_0_cross_attn_to_177);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_78, NumDims.x_transformer_layers_0_cross_attn_to_78] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_118, Vars.x_transformer_layers_0_cross_attn_to_44, 0, NumDims.x_transformer_layers_0_cross_attn_to_118, NumDims.x_transformer_layers_0_cross_attn_to_44);
Vars.x_transformer_layers_0_cross_attn_to_44 = [];
Vars.x_transformer_layers_0_cross_attn_to_118 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_to_67 = fix(Vars.x_transformer_layers_0_cross_attn_to_78 ./ Vars.x_transformer_layers_0_cross_attn_to_46);
Vars.x_transformer_layers_0_cross_attn_to_46 = [];
Vars.x_transformer_layers_0_cross_attn_to_78 = [];
NumDims.x_transformer_layers_0_cross_attn_to_67 = max(NumDims.x_transformer_layers_0_cross_attn_to_78, NumDims.x_transformer_layers_0_cross_attn_to_46);

% Cast:
Vars.x_transformer_layers_0_cross_attn_to_11 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_to_67)), 'like', Vars.x_transformer_layers_0_cross_attn_to_67);
Vars.x_transformer_layers_0_cross_attn_to_67 = [];
NumDims.x_transformer_layers_0_cross_attn_to_11 = NumDims.x_transformer_layers_0_cross_attn_to_67;

% Cast:
Vars.x_transformer_layers_0_cross_attn_to_2 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_to_11)), 'like', Vars.x_transformer_layers_0_cross_attn_to_11);
Vars.x_transformer_layers_0_cross_attn_to_11 = [];
NumDims.x_transformer_layers_0_cross_attn_to_2 = NumDims.x_transformer_layers_0_cross_attn_to_11;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_167] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_93, Vars.onnx__Unsqueeze_707, NumDims.x_transformer_layers_0_cross_attn_to_93);
Vars.onnx__Unsqueeze_707 = [];
Vars.x_transformer_layers_0_cross_attn_to_167 = reshape(Vars.x_transformer_layers_0_cross_attn_to_93, shape);
Vars.x_transformer_layers_0_cross_attn_to_93 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_150] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_76, Vars.onnx__Unsqueeze_709, NumDims.x_transformer_layers_0_cross_attn_to_76);
Vars.onnx__Unsqueeze_709 = [];
Vars.x_transformer_layers_0_cross_attn_to_150 = reshape(Vars.x_transformer_layers_0_cross_attn_to_76, shape);
Vars.x_transformer_layers_0_cross_attn_to_76 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_152] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_2, Vars.onnx__Unsqueeze_713, NumDims.x_transformer_layers_0_cross_attn_to_2);
Vars.onnx__Unsqueeze_713 = [];
Vars.x_transformer_layers_0_cross_attn_to_152 = reshape(Vars.x_transformer_layers_0_cross_attn_to_2, shape);
Vars.x_transformer_layers_0_cross_attn_to_2 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_to_19, NumDims.x_transformer_layers_0_cross_attn_to_19] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_to_167, Vars.x_transformer_layers_0_cross_attn_to_150, Vars.x_transformer_layers_0_cross_attn_to_48, Vars.x_transformer_layers_0_cross_attn_to_152}, [NumDims.x_transformer_layers_0_cross_attn_to_167, NumDims.x_transformer_layers_0_cross_attn_to_150, NumDims.x_transformer_layers_0_cross_attn_to_48, NumDims.x_transformer_layers_0_cross_attn_to_152]);
Vars.x_transformer_layers_0_cross_attn_to_152 = [];
Vars.x_transformer_layers_0_cross_attn_to_48 = [];
Vars.x_transformer_layers_0_cross_attn_to_150 = [];
Vars.x_transformer_layers_0_cross_attn_to_167 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_107] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_to_177, Vars.x_transformer_layers_0_cross_attn_to_19, NumDims.x_transformer_layers_0_cross_attn_to_177, 0);
Vars.x_transformer_layers_0_cross_attn_to_19 = [];
Vars.x_transformer_layers_0_cross_attn_to_107 = reshape(Vars.x_transformer_layers_0_cross_attn_to_177, shape{:});
Vars.x_transformer_layers_0_cross_attn_to_177 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_to_143] = prepareTransposeArgs(Vars.TransposePerm1028, NumDims.x_transformer_layers_0_cross_attn_to_107);
Vars.TransposePerm1028 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_to_143 = permute(Vars.x_transformer_layers_0_cross_attn_to_107, perm);
Vars.x_transformer_layers_0_cross_attn_to_107 = [];
end

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_120, NumDims.x_transformer_layers_0_cross_attn_to_120] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_169, NumDims.x_transformer_layers_0_cross_attn_to_169);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_80, NumDims.x_transformer_layers_0_cross_attn_to_80] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_120, Vars.x_transformer_layers_0_cross_attn_to_50, 0, NumDims.x_transformer_layers_0_cross_attn_to_120, NumDims.x_transformer_layers_0_cross_attn_to_50);
Vars.x_transformer_layers_0_cross_attn_to_50 = [];
Vars.x_transformer_layers_0_cross_attn_to_120 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_122, NumDims.x_transformer_layers_0_cross_attn_to_122] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_169, NumDims.x_transformer_layers_0_cross_attn_to_169);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_82, NumDims.x_transformer_layers_0_cross_attn_to_82] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_122, Vars.x_transformer_layers_0_cross_attn_to_52, 0, NumDims.x_transformer_layers_0_cross_attn_to_122, NumDims.x_transformer_layers_0_cross_attn_to_52);
Vars.x_transformer_layers_0_cross_attn_to_52 = [];
Vars.x_transformer_layers_0_cross_attn_to_122 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_124, NumDims.x_transformer_layers_0_cross_attn_to_124] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_169, NumDims.x_transformer_layers_0_cross_attn_to_169);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_84, NumDims.x_transformer_layers_0_cross_attn_to_84] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_124, Vars.x_transformer_layers_0_cross_attn_to_54, 0, NumDims.x_transformer_layers_0_cross_attn_to_124, NumDims.x_transformer_layers_0_cross_attn_to_54);
Vars.x_transformer_layers_0_cross_attn_to_54 = [];
Vars.x_transformer_layers_0_cross_attn_to_124 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_to_62 = fix(Vars.x_transformer_layers_0_cross_attn_to_84 ./ Vars.x_transformer_layers_0_cross_attn_to_56);
Vars.x_transformer_layers_0_cross_attn_to_56 = [];
Vars.x_transformer_layers_0_cross_attn_to_84 = [];
NumDims.x_transformer_layers_0_cross_attn_to_62 = max(NumDims.x_transformer_layers_0_cross_attn_to_84, NumDims.x_transformer_layers_0_cross_attn_to_56);

% Cast:
Vars.x_transformer_layers_0_cross_attn_to_4 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_to_62)), 'like', Vars.x_transformer_layers_0_cross_attn_to_62);
Vars.x_transformer_layers_0_cross_attn_to_62 = [];
NumDims.x_transformer_layers_0_cross_attn_to_4 = NumDims.x_transformer_layers_0_cross_attn_to_62;

% Cast:
Vars.x_transformer_layers_0_cross_attn_to_6 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_to_4)), 'like', Vars.x_transformer_layers_0_cross_attn_to_4);
Vars.x_transformer_layers_0_cross_attn_to_4 = [];
NumDims.x_transformer_layers_0_cross_attn_to_6 = NumDims.x_transformer_layers_0_cross_attn_to_4;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_154] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_80, Vars.onnx__Unsqueeze_731, NumDims.x_transformer_layers_0_cross_attn_to_80);
Vars.onnx__Unsqueeze_731 = [];
Vars.x_transformer_layers_0_cross_attn_to_154 = reshape(Vars.x_transformer_layers_0_cross_attn_to_80, shape);
Vars.x_transformer_layers_0_cross_attn_to_80 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_156] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_82, Vars.onnx__Unsqueeze_733, NumDims.x_transformer_layers_0_cross_attn_to_82);
Vars.onnx__Unsqueeze_733 = [];
Vars.x_transformer_layers_0_cross_attn_to_156 = reshape(Vars.x_transformer_layers_0_cross_attn_to_82, shape);
Vars.x_transformer_layers_0_cross_attn_to_82 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_158] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_6, Vars.onnx__Unsqueeze_737, NumDims.x_transformer_layers_0_cross_attn_to_6);
Vars.onnx__Unsqueeze_737 = [];
Vars.x_transformer_layers_0_cross_attn_to_158 = reshape(Vars.x_transformer_layers_0_cross_attn_to_6, shape);
Vars.x_transformer_layers_0_cross_attn_to_6 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_to_14, NumDims.x_transformer_layers_0_cross_attn_to_14] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_to_154, Vars.x_transformer_layers_0_cross_attn_to_156, Vars.x_transformer_layers_0_cross_attn_to_58, Vars.x_transformer_layers_0_cross_attn_to_158}, [NumDims.x_transformer_layers_0_cross_attn_to_154, NumDims.x_transformer_layers_0_cross_attn_to_156, NumDims.x_transformer_layers_0_cross_attn_to_58, NumDims.x_transformer_layers_0_cross_attn_to_158]);
Vars.x_transformer_layers_0_cross_attn_to_158 = [];
Vars.x_transformer_layers_0_cross_attn_to_58 = [];
Vars.x_transformer_layers_0_cross_attn_to_156 = [];
Vars.x_transformer_layers_0_cross_attn_to_154 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_102] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_to_169, Vars.x_transformer_layers_0_cross_attn_to_14, NumDims.x_transformer_layers_0_cross_attn_to_169, 0);
Vars.x_transformer_layers_0_cross_attn_to_14 = [];
Vars.x_transformer_layers_0_cross_attn_to_102 = reshape(Vars.x_transformer_layers_0_cross_attn_to_169, shape{:});
Vars.x_transformer_layers_0_cross_attn_to_169 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_126, NumDims.x_transformer_layers_0_cross_attn_to_126] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_181, NumDims.x_transformer_layers_0_cross_attn_to_181);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_86, NumDims.x_transformer_layers_0_cross_attn_to_86] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_126, Vars.x_transformer_layers_0_cross_attn_to_23, 0, NumDims.x_transformer_layers_0_cross_attn_to_126, NumDims.x_transformer_layers_0_cross_attn_to_23);
Vars.x_transformer_layers_0_cross_attn_to_23 = [];
Vars.x_transformer_layers_0_cross_attn_to_126 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_128, NumDims.x_transformer_layers_0_cross_attn_to_128] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_181, NumDims.x_transformer_layers_0_cross_attn_to_181);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_88, NumDims.x_transformer_layers_0_cross_attn_to_88] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_128, Vars.x_transformer_layers_0_cross_attn_to_25, 0, NumDims.x_transformer_layers_0_cross_attn_to_128, NumDims.x_transformer_layers_0_cross_attn_to_25);
Vars.x_transformer_layers_0_cross_attn_to_25 = [];
Vars.x_transformer_layers_0_cross_attn_to_128 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_130, NumDims.x_transformer_layers_0_cross_attn_to_130] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_181, NumDims.x_transformer_layers_0_cross_attn_to_181);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_90, NumDims.x_transformer_layers_0_cross_attn_to_90] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_130, Vars.x_transformer_layers_0_cross_attn_to_27, 0, NumDims.x_transformer_layers_0_cross_attn_to_130, NumDims.x_transformer_layers_0_cross_attn_to_27);
Vars.x_transformer_layers_0_cross_attn_to_27 = [];
Vars.x_transformer_layers_0_cross_attn_to_130 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_to_64 = fix(Vars.x_transformer_layers_0_cross_attn_to_90 ./ Vars.x_transformer_layers_0_cross_attn_to_29);
Vars.x_transformer_layers_0_cross_attn_to_29 = [];
Vars.x_transformer_layers_0_cross_attn_to_90 = [];
NumDims.x_transformer_layers_0_cross_attn_to_64 = max(NumDims.x_transformer_layers_0_cross_attn_to_90, NumDims.x_transformer_layers_0_cross_attn_to_29);

% Cast:
Vars.x_transformer_layers_0_cross_attn_to_8 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_to_64)), 'like', Vars.x_transformer_layers_0_cross_attn_to_64);
Vars.x_transformer_layers_0_cross_attn_to_64 = [];
NumDims.x_transformer_layers_0_cross_attn_to_8 = NumDims.x_transformer_layers_0_cross_attn_to_64;

% Cast:
Vars.x_transformer_layers_0_cross_attn_to_10 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_to_8)), 'like', Vars.x_transformer_layers_0_cross_attn_to_8);
Vars.x_transformer_layers_0_cross_attn_to_8 = [];
NumDims.x_transformer_layers_0_cross_attn_to_10 = NumDims.x_transformer_layers_0_cross_attn_to_8;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_160] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_86, Vars.onnx__Unsqueeze_754, NumDims.x_transformer_layers_0_cross_attn_to_86);
Vars.onnx__Unsqueeze_754 = [];
Vars.x_transformer_layers_0_cross_attn_to_160 = reshape(Vars.x_transformer_layers_0_cross_attn_to_86, shape);
Vars.x_transformer_layers_0_cross_attn_to_86 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_162] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_88, Vars.onnx__Unsqueeze_756, NumDims.x_transformer_layers_0_cross_attn_to_88);
Vars.onnx__Unsqueeze_756 = [];
Vars.x_transformer_layers_0_cross_attn_to_162 = reshape(Vars.x_transformer_layers_0_cross_attn_to_88, shape);
Vars.x_transformer_layers_0_cross_attn_to_88 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_164] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_10, Vars.onnx__Unsqueeze_760, NumDims.x_transformer_layers_0_cross_attn_to_10);
Vars.onnx__Unsqueeze_760 = [];
Vars.x_transformer_layers_0_cross_attn_to_164 = reshape(Vars.x_transformer_layers_0_cross_attn_to_10, shape);
Vars.x_transformer_layers_0_cross_attn_to_10 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_to_16, NumDims.x_transformer_layers_0_cross_attn_to_16] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_to_160, Vars.x_transformer_layers_0_cross_attn_to_162, Vars.x_transformer_layers_0_cross_attn_to_31, Vars.x_transformer_layers_0_cross_attn_to_164}, [NumDims.x_transformer_layers_0_cross_attn_to_160, NumDims.x_transformer_layers_0_cross_attn_to_162, NumDims.x_transformer_layers_0_cross_attn_to_31, NumDims.x_transformer_layers_0_cross_attn_to_164]);
Vars.x_transformer_layers_0_cross_attn_to_164 = [];
Vars.x_transformer_layers_0_cross_attn_to_31 = [];
Vars.x_transformer_layers_0_cross_attn_to_162 = [];
Vars.x_transformer_layers_0_cross_attn_to_160 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_104] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_to_181, Vars.x_transformer_layers_0_cross_attn_to_16, NumDims.x_transformer_layers_0_cross_attn_to_181, 0);
Vars.x_transformer_layers_0_cross_attn_to_16 = [];
Vars.x_transformer_layers_0_cross_attn_to_104 = reshape(Vars.x_transformer_layers_0_cross_attn_to_181, shape{:});
Vars.x_transformer_layers_0_cross_attn_to_181 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_to_138] = prepareTransposeArgs(Vars.TransposePerm1029, NumDims.x_transformer_layers_0_cross_attn_to_104);
Vars.TransposePerm1029 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_to_138 = permute(Vars.x_transformer_layers_0_cross_attn_to_104, perm);
Vars.x_transformer_layers_0_cross_attn_to_104 = [];
end

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_to_140] = prepareTransposeArgs(Vars.TransposePerm1030, NumDims.x_transformer_layers_0_cross_attn_to_102);
Vars.TransposePerm1030 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_to_140 = permute(Vars.x_transformer_layers_0_cross_attn_to_102, perm);
Vars.x_transformer_layers_0_cross_attn_to_102 = [];
end

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_to_97, NumDims.x_transformer_layers_0_cross_attn_to_97] = onnxMatMul(Vars.x_transformer_layers_0_cross_attn_to_143, Vars.x_transformer_layers_0_cross_attn_to_140, NumDims.x_transformer_layers_0_cross_attn_to_143, NumDims.x_transformer_layers_0_cross_attn_to_140);
Vars.x_transformer_layers_0_cross_attn_to_140 = [];
Vars.x_transformer_layers_0_cross_attn_to_143 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_to_66 = Vars.x_transformer_layers_0_cross_attn_to_97 ./ Vars.x_transformer_layers_0_cross_attn_to_33;
Vars.x_transformer_layers_0_cross_attn_to_33 = [];
Vars.x_transformer_layers_0_cross_attn_to_97 = [];
NumDims.x_transformer_layers_0_cross_attn_to_66 = max(NumDims.x_transformer_layers_0_cross_attn_to_97, NumDims.x_transformer_layers_0_cross_attn_to_33);

% Softmax:
[Vars.x_transformer_layers_0_cross_attn_to_135, NumDims.x_transformer_layers_0_cross_attn_to_135] = onnxSoftmax13(Vars.x_transformer_layers_0_cross_attn_to_66, -1, NumDims.x_transformer_layers_0_cross_attn_to_66);
Vars.x_transformer_layers_0_cross_attn_to_66 = [];

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_to_96, NumDims.x_transformer_layers_0_cross_attn_to_96] = onnxMatMul(Vars.x_transformer_layers_0_cross_attn_to_135, Vars.x_transformer_layers_0_cross_attn_to_138, NumDims.x_transformer_layers_0_cross_attn_to_135, NumDims.x_transformer_layers_0_cross_attn_to_138);
Vars.x_transformer_layers_0_cross_attn_to_138 = [];
Vars.x_transformer_layers_0_cross_attn_to_135 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_132, NumDims.x_transformer_layers_0_cross_attn_to_132] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_96, NumDims.x_transformer_layers_0_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_92, NumDims.x_transformer_layers_0_cross_attn_to_92] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_132, Vars.x_transformer_layers_0_cross_attn_to_35, 0, NumDims.x_transformer_layers_0_cross_attn_to_132, NumDims.x_transformer_layers_0_cross_attn_to_35);
Vars.x_transformer_layers_0_cross_attn_to_35 = [];
Vars.x_transformer_layers_0_cross_attn_to_132 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_111, NumDims.x_transformer_layers_0_cross_attn_to_111] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_96, NumDims.x_transformer_layers_0_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_71, NumDims.x_transformer_layers_0_cross_attn_to_71] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_111, Vars.x_transformer_layers_0_cross_attn_to_37, 0, NumDims.x_transformer_layers_0_cross_attn_to_111, NumDims.x_transformer_layers_0_cross_attn_to_37);
Vars.x_transformer_layers_0_cross_attn_to_37 = [];
Vars.x_transformer_layers_0_cross_attn_to_111 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_113, NumDims.x_transformer_layers_0_cross_attn_to_113] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_96, NumDims.x_transformer_layers_0_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_73, NumDims.x_transformer_layers_0_cross_attn_to_73] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_113, Vars.x_transformer_layers_0_cross_attn_to_39, 0, NumDims.x_transformer_layers_0_cross_attn_to_113, NumDims.x_transformer_layers_0_cross_attn_to_39);
Vars.x_transformer_layers_0_cross_attn_to_39 = [];
Vars.x_transformer_layers_0_cross_attn_to_113 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_to_115, NumDims.x_transformer_layers_0_cross_attn_to_115] = onnxShape(Vars.x_transformer_layers_0_cross_attn_to_96, NumDims.x_transformer_layers_0_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_to_75, NumDims.x_transformer_layers_0_cross_attn_to_75] = onnxGather(Vars.x_transformer_layers_0_cross_attn_to_115, Vars.x_transformer_layers_0_cross_attn_to_41, 0, NumDims.x_transformer_layers_0_cross_attn_to_115, NumDims.x_transformer_layers_0_cross_attn_to_41);
Vars.x_transformer_layers_0_cross_attn_to_41 = [];
Vars.x_transformer_layers_0_cross_attn_to_115 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_to_142] = prepareTransposeArgs(Vars.TransposePerm1031, NumDims.x_transformer_layers_0_cross_attn_to_96);
Vars.TransposePerm1031 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_to_142 = permute(Vars.x_transformer_layers_0_cross_attn_to_96, perm);
Vars.x_transformer_layers_0_cross_attn_to_96 = [];
end

% Mul:
Vars.x_transformer_layers_0_cross_attn_to_99 = Vars.x_transformer_layers_0_cross_attn_to_71 .* Vars.x_transformer_layers_0_cross_attn_to_75;
Vars.x_transformer_layers_0_cross_attn_to_75 = [];
Vars.x_transformer_layers_0_cross_attn_to_71 = [];
NumDims.x_transformer_layers_0_cross_attn_to_99 = max(NumDims.x_transformer_layers_0_cross_attn_to_71, NumDims.x_transformer_layers_0_cross_attn_to_75);

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_166] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_92, Vars.onnx__Unsqueeze_785, NumDims.x_transformer_layers_0_cross_attn_to_92);
Vars.onnx__Unsqueeze_785 = [];
Vars.x_transformer_layers_0_cross_attn_to_166 = reshape(Vars.x_transformer_layers_0_cross_attn_to_92, shape);
Vars.x_transformer_layers_0_cross_attn_to_92 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_147] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_73, Vars.onnx__Unsqueeze_787, NumDims.x_transformer_layers_0_cross_attn_to_73);
Vars.onnx__Unsqueeze_787 = [];
Vars.x_transformer_layers_0_cross_attn_to_147 = reshape(Vars.x_transformer_layers_0_cross_attn_to_73, shape);
Vars.x_transformer_layers_0_cross_attn_to_73 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_149] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_to_99, Vars.onnx__Unsqueeze_789, NumDims.x_transformer_layers_0_cross_attn_to_99);
Vars.onnx__Unsqueeze_789 = [];
Vars.x_transformer_layers_0_cross_attn_to_149 = reshape(Vars.x_transformer_layers_0_cross_attn_to_99, shape);
Vars.x_transformer_layers_0_cross_attn_to_99 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_to_18, NumDims.x_transformer_layers_0_cross_attn_to_18] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_to_166, Vars.x_transformer_layers_0_cross_attn_to_147, Vars.x_transformer_layers_0_cross_attn_to_149}, [NumDims.x_transformer_layers_0_cross_attn_to_166, NumDims.x_transformer_layers_0_cross_attn_to_147, NumDims.x_transformer_layers_0_cross_attn_to_149]);
Vars.x_transformer_layers_0_cross_attn_to_149 = [];
Vars.x_transformer_layers_0_cross_attn_to_147 = [];
Vars.x_transformer_layers_0_cross_attn_to_166 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_to_106] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_to_142, Vars.x_transformer_layers_0_cross_attn_to_18, NumDims.x_transformer_layers_0_cross_attn_to_142, 0);
Vars.x_transformer_layers_0_cross_attn_to_18 = [];
Vars.x_transformer_layers_0_cross_attn_to_106 = reshape(Vars.x_transformer_layers_0_cross_attn_to_142, shape{:});
Vars.x_transformer_layers_0_cross_attn_to_142 = [];

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_to_175, NumDims.x_transformer_layers_0_cross_attn_to_175] = onnxMatMul(Vars.x_transformer_layers_0_cross_attn_to_106, Vars.onnx__MatMul_1676, NumDims.x_transformer_layers_0_cross_attn_to_106, NumDims.onnx__MatMul_1676);
Vars.onnx__MatMul_1676 = [];
Vars.x_transformer_layers_0_cross_attn_to_106 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_to_173 = Vars.mask_decoder_transformer_layers_0_cros_5 + Vars.x_transformer_layers_0_cross_attn_to_175;
Vars.x_transformer_layers_0_cross_attn_to_175 = [];
Vars.mask_decoder_transformer_layers_0_cros_5 = [];
NumDims.x_transformer_layers_0_cross_attn_to_173 = max(NumDims.mask_decoder_transformer_layers_0_cros_5, NumDims.x_transformer_layers_0_cross_attn_to_175);

% Add:
Vars.x_transformer_layers_0_Add_2_output_0 = Vars.x_transformer_layers_0_norm1_Add_1_outpu + Vars.x_transformer_layers_0_cross_attn_to_173;
Vars.x_transformer_layers_0_cross_attn_to_173 = [];
Vars.x_transformer_layers_0_norm1_Add_1_outpu = [];
NumDims.x_transformer_layers_0_Add_2_output_0 = max(NumDims.x_transformer_layers_0_norm1_Add_1_outpu, NumDims.x_transformer_layers_0_cross_attn_to_173);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1032, NumDims.x_transformer_layers_0_Add_2_output_0);
Vars.ReduceMeanAxes1032 = [];
Vars.x_transformer_layers_0_norm2_ReduceMea_2 = mean(Vars.x_transformer_layers_0_Add_2_output_0, dims);
NumDims.x_transformer_layers_0_norm2_ReduceMea_2 = NumDims.x_transformer_layers_0_Add_2_output_0;

% Sub:
Vars.x_transformer_layers_0_norm2_Sub_output_ = Vars.x_transformer_layers_0_Add_2_output_0 - Vars.x_transformer_layers_0_norm2_ReduceMea_2;
Vars.x_transformer_layers_0_norm2_ReduceMea_2 = [];
Vars.x_transformer_layers_0_Add_2_output_0 = [];
NumDims.x_transformer_layers_0_norm2_Sub_output_ = max(NumDims.x_transformer_layers_0_Add_2_output_0, NumDims.x_transformer_layers_0_norm2_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_0_norm2_Pow_output_ = power(Vars.x_transformer_layers_0_norm2_Sub_output_, Vars.x_transformer_layers_0_norm2_Constant_ou);
Vars.x_transformer_layers_0_norm2_Constant_ou = [];
NumDims.x_transformer_layers_0_norm2_Pow_output_ = max(NumDims.x_transformer_layers_0_norm2_Sub_output_, NumDims.x_transformer_layers_0_norm2_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1033, NumDims.x_transformer_layers_0_norm2_Pow_output_);
Vars.ReduceMeanAxes1033 = [];
Vars.x_transformer_layers_0_norm2_ReduceMea_1 = mean(Vars.x_transformer_layers_0_norm2_Pow_output_, dims);
Vars.x_transformer_layers_0_norm2_Pow_output_ = [];
NumDims.x_transformer_layers_0_norm2_ReduceMea_1 = NumDims.x_transformer_layers_0_norm2_Pow_output_;

% Add:
Vars.x_transformer_layers_0_norm2_Add_output_ = Vars.x_transformer_layers_0_norm2_ReduceMea_1 + Vars.x_transformer_layers_0_norm2_Constant_1_;
Vars.x_transformer_layers_0_norm2_Constant_1_ = [];
Vars.x_transformer_layers_0_norm2_ReduceMea_1 = [];
NumDims.x_transformer_layers_0_norm2_Add_output_ = max(NumDims.x_transformer_layers_0_norm2_ReduceMea_1, NumDims.x_transformer_layers_0_norm2_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_0_norm2_Sqrt_output = sqrt(Vars.x_transformer_layers_0_norm2_Add_output_);
Vars.x_transformer_layers_0_norm2_Add_output_ = [];
NumDims.x_transformer_layers_0_norm2_Sqrt_output = NumDims.x_transformer_layers_0_norm2_Add_output_;

% Div:
Vars.x_transformer_layers_0_norm2_Div_output_ = Vars.x_transformer_layers_0_norm2_Sub_output_ ./ Vars.x_transformer_layers_0_norm2_Sqrt_output;
Vars.x_transformer_layers_0_norm2_Sqrt_output = [];
Vars.x_transformer_layers_0_norm2_Sub_output_ = [];
NumDims.x_transformer_layers_0_norm2_Div_output_ = max(NumDims.x_transformer_layers_0_norm2_Sub_output_, NumDims.x_transformer_layers_0_norm2_Sqrt_output);

% Mul:
Vars.x_transformer_layers_0_norm2_Mul_output_ = Vars.x_transformer_layers_0_norm2_Div_output_ .* Vars.mask_decoder_transformer_layers_0_norm_2;
Vars.mask_decoder_transformer_layers_0_norm_2 = [];
Vars.x_transformer_layers_0_norm2_Div_output_ = [];
NumDims.x_transformer_layers_0_norm2_Mul_output_ = max(NumDims.x_transformer_layers_0_norm2_Div_output_, NumDims.mask_decoder_transformer_layers_0_norm_2);

% Add:
Vars.x_transformer_layers_0_norm2_Add_1_outpu = Vars.x_transformer_layers_0_norm2_Mul_output_ + Vars.mask_decoder_transformer_layers_0_norm2_;
Vars.mask_decoder_transformer_layers_0_norm2_ = [];
Vars.x_transformer_layers_0_norm2_Mul_output_ = [];
NumDims.x_transformer_layers_0_norm2_Add_1_outpu = max(NumDims.x_transformer_layers_0_norm2_Mul_output_, NumDims.mask_decoder_transformer_layers_0_norm2_);

% MatMul:
[Vars.x_transformer_layers_0_mlp_lin1_MatMul_o, NumDims.x_transformer_layers_0_mlp_lin1_MatMul_o] = onnxMatMul(Vars.x_transformer_layers_0_norm2_Add_1_outpu, Vars.onnx__MatMul_1677, NumDims.x_transformer_layers_0_norm2_Add_1_outpu, NumDims.onnx__MatMul_1677);
Vars.onnx__MatMul_1677 = [];

% Add:
Vars.x_transformer_layers_0_mlp_lin1_Add_outp = Vars.mask_decoder_transformer_layers_0_mlp_li + Vars.x_transformer_layers_0_mlp_lin1_MatMul_o;
Vars.x_transformer_layers_0_mlp_lin1_MatMul_o = [];
Vars.mask_decoder_transformer_layers_0_mlp_li = [];
NumDims.x_transformer_layers_0_mlp_lin1_Add_outp = max(NumDims.mask_decoder_transformer_layers_0_mlp_li, NumDims.x_transformer_layers_0_mlp_lin1_MatMul_o);

% Relu:
Vars.x_transformer_layers_0_mlp_act_Relu_outp = relu(Vars.x_transformer_layers_0_mlp_lin1_Add_outp);
Vars.x_transformer_layers_0_mlp_lin1_Add_outp = [];
NumDims.x_transformer_layers_0_mlp_act_Relu_outp = NumDims.x_transformer_layers_0_mlp_lin1_Add_outp;

% MatMul:
[Vars.x_transformer_layers_0_mlp_lin2_MatMul_o, NumDims.x_transformer_layers_0_mlp_lin2_MatMul_o] = onnxMatMul(Vars.x_transformer_layers_0_mlp_act_Relu_outp, Vars.onnx__MatMul_1678, NumDims.x_transformer_layers_0_mlp_act_Relu_outp, NumDims.onnx__MatMul_1678);
Vars.onnx__MatMul_1678 = [];
Vars.x_transformer_layers_0_mlp_act_Relu_outp = [];

% Add:
Vars.x_transformer_layers_0_mlp_lin2_Add_outp = Vars.mask_decoder_transformer_layers_0_mlp__1 + Vars.x_transformer_layers_0_mlp_lin2_MatMul_o;
Vars.x_transformer_layers_0_mlp_lin2_MatMul_o = [];
Vars.mask_decoder_transformer_layers_0_mlp__1 = [];
NumDims.x_transformer_layers_0_mlp_lin2_Add_outp = max(NumDims.mask_decoder_transformer_layers_0_mlp__1, NumDims.x_transformer_layers_0_mlp_lin2_MatMul_o);

% Add:
Vars.x_transformer_layers_0_Add_3_output_0 = Vars.x_transformer_layers_0_norm2_Add_1_outpu + Vars.x_transformer_layers_0_mlp_lin2_Add_outp;
Vars.x_transformer_layers_0_mlp_lin2_Add_outp = [];
Vars.x_transformer_layers_0_norm2_Add_1_outpu = [];
NumDims.x_transformer_layers_0_Add_3_output_0 = max(NumDims.x_transformer_layers_0_norm2_Add_1_outpu, NumDims.x_transformer_layers_0_mlp_lin2_Add_outp);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1034, NumDims.x_transformer_layers_0_Add_3_output_0);
Vars.ReduceMeanAxes1034 = [];
Vars.x_transformer_layers_0_norm3_ReduceMea_2 = mean(Vars.x_transformer_layers_0_Add_3_output_0, dims);
NumDims.x_transformer_layers_0_norm3_ReduceMea_2 = NumDims.x_transformer_layers_0_Add_3_output_0;

% Sub:
Vars.x_transformer_layers_0_norm3_Sub_output_ = Vars.x_transformer_layers_0_Add_3_output_0 - Vars.x_transformer_layers_0_norm3_ReduceMea_2;
Vars.x_transformer_layers_0_norm3_ReduceMea_2 = [];
Vars.x_transformer_layers_0_Add_3_output_0 = [];
NumDims.x_transformer_layers_0_norm3_Sub_output_ = max(NumDims.x_transformer_layers_0_Add_3_output_0, NumDims.x_transformer_layers_0_norm3_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_0_norm3_Pow_output_ = power(Vars.x_transformer_layers_0_norm3_Sub_output_, Vars.x_transformer_layers_0_norm3_Constant_ou);
Vars.x_transformer_layers_0_norm3_Constant_ou = [];
NumDims.x_transformer_layers_0_norm3_Pow_output_ = max(NumDims.x_transformer_layers_0_norm3_Sub_output_, NumDims.x_transformer_layers_0_norm3_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1035, NumDims.x_transformer_layers_0_norm3_Pow_output_);
Vars.ReduceMeanAxes1035 = [];
Vars.x_transformer_layers_0_norm3_ReduceMea_1 = mean(Vars.x_transformer_layers_0_norm3_Pow_output_, dims);
Vars.x_transformer_layers_0_norm3_Pow_output_ = [];
NumDims.x_transformer_layers_0_norm3_ReduceMea_1 = NumDims.x_transformer_layers_0_norm3_Pow_output_;

% Add:
Vars.x_transformer_layers_0_norm3_Add_output_ = Vars.x_transformer_layers_0_norm3_ReduceMea_1 + Vars.x_transformer_layers_0_norm3_Constant_1_;
Vars.x_transformer_layers_0_norm3_Constant_1_ = [];
Vars.x_transformer_layers_0_norm3_ReduceMea_1 = [];
NumDims.x_transformer_layers_0_norm3_Add_output_ = max(NumDims.x_transformer_layers_0_norm3_ReduceMea_1, NumDims.x_transformer_layers_0_norm3_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_0_norm3_Sqrt_output = sqrt(Vars.x_transformer_layers_0_norm3_Add_output_);
Vars.x_transformer_layers_0_norm3_Add_output_ = [];
NumDims.x_transformer_layers_0_norm3_Sqrt_output = NumDims.x_transformer_layers_0_norm3_Add_output_;

% Div:
Vars.x_transformer_layers_0_norm3_Div_output_ = Vars.x_transformer_layers_0_norm3_Sub_output_ ./ Vars.x_transformer_layers_0_norm3_Sqrt_output;
Vars.x_transformer_layers_0_norm3_Sqrt_output = [];
Vars.x_transformer_layers_0_norm3_Sub_output_ = [];
NumDims.x_transformer_layers_0_norm3_Div_output_ = max(NumDims.x_transformer_layers_0_norm3_Sub_output_, NumDims.x_transformer_layers_0_norm3_Sqrt_output);

% Mul:
Vars.x_transformer_layers_0_norm3_Mul_output_ = Vars.x_transformer_layers_0_norm3_Div_output_ .* Vars.mask_decoder_transformer_layers_0_norm_3;
Vars.mask_decoder_transformer_layers_0_norm_3 = [];
Vars.x_transformer_layers_0_norm3_Div_output_ = [];
NumDims.x_transformer_layers_0_norm3_Mul_output_ = max(NumDims.x_transformer_layers_0_norm3_Div_output_, NumDims.mask_decoder_transformer_layers_0_norm_3);

% Add:
Vars.x_transformer_layers_0_norm3_Add_1_outpu = Vars.x_transformer_layers_0_norm3_Mul_output_ + Vars.mask_decoder_transformer_layers_0_norm3_;
Vars.mask_decoder_transformer_layers_0_norm3_ = [];
Vars.x_transformer_layers_0_norm3_Mul_output_ = [];
NumDims.x_transformer_layers_0_norm3_Add_1_outpu = max(NumDims.x_transformer_layers_0_norm3_Mul_output_, NumDims.mask_decoder_transformer_layers_0_norm3_);

% Add:
Vars.x_transformer_layers_0_Add_4_output_0 = Vars.x_transformer_layers_0_norm3_Add_1_outpu + Vars.x_Concat_2_output_0;
NumDims.x_transformer_layers_0_Add_4_output_0 = max(NumDims.x_transformer_layers_0_norm3_Add_1_outpu, NumDims.x_Concat_2_output_0);

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_im_179, NumDims.x_transformer_layers_0_cross_attn_im_179] = onnxMatMul(Vars.x_transformer_layers_0_Add_1_output_0, Vars.onnx__MatMul_1679, NumDims.x_transformer_layers_0_Add_1_output_0, NumDims.onnx__MatMul_1679);
Vars.onnx__MatMul_1679 = [];
Vars.x_transformer_layers_0_Add_1_output_0 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_im_177 = Vars.mask_decoder_transformer_layers_0_cros_2 + Vars.x_transformer_layers_0_cross_attn_im_179;
Vars.x_transformer_layers_0_cross_attn_im_179 = [];
Vars.mask_decoder_transformer_layers_0_cros_2 = [];
NumDims.x_transformer_layers_0_cross_attn_im_177 = max(NumDims.mask_decoder_transformer_layers_0_cros_2, NumDims.x_transformer_layers_0_cross_attn_im_179);

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_im_171, NumDims.x_transformer_layers_0_cross_attn_im_171] = onnxMatMul(Vars.x_transformer_layers_0_Add_4_output_0, Vars.onnx__MatMul_1680, NumDims.x_transformer_layers_0_Add_4_output_0, NumDims.onnx__MatMul_1680);
Vars.onnx__MatMul_1680 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_im_169 = Vars.mask_decoder_transformer_layers_0_cross_ + Vars.x_transformer_layers_0_cross_attn_im_171;
Vars.x_transformer_layers_0_cross_attn_im_171 = [];
Vars.mask_decoder_transformer_layers_0_cross_ = [];
NumDims.x_transformer_layers_0_cross_attn_im_169 = max(NumDims.mask_decoder_transformer_layers_0_cross_, NumDims.x_transformer_layers_0_cross_attn_im_171);

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_im_183, NumDims.x_transformer_layers_0_cross_attn_im_183] = onnxMatMul(Vars.x_transformer_layers_0_norm3_Add_1_outpu, Vars.onnx__MatMul_1681, NumDims.x_transformer_layers_0_norm3_Add_1_outpu, NumDims.onnx__MatMul_1681);
Vars.onnx__MatMul_1681 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_im_181 = Vars.mask_decoder_transformer_layers_0_cros_3 + Vars.x_transformer_layers_0_cross_attn_im_183;
Vars.x_transformer_layers_0_cross_attn_im_183 = [];
Vars.mask_decoder_transformer_layers_0_cros_3 = [];
NumDims.x_transformer_layers_0_cross_attn_im_181 = max(NumDims.mask_decoder_transformer_layers_0_cros_3, NumDims.x_transformer_layers_0_cross_attn_im_183);

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_133, NumDims.x_transformer_layers_0_cross_attn_im_133] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_177, NumDims.x_transformer_layers_0_cross_attn_im_177);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_93, NumDims.x_transformer_layers_0_cross_attn_im_93] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_133, Vars.x_transformer_layers_0_cross_attn_im_59, 0, NumDims.x_transformer_layers_0_cross_attn_im_133, NumDims.x_transformer_layers_0_cross_attn_im_59);
Vars.x_transformer_layers_0_cross_attn_im_59 = [];
Vars.x_transformer_layers_0_cross_attn_im_133 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_116, NumDims.x_transformer_layers_0_cross_attn_im_116] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_177, NumDims.x_transformer_layers_0_cross_attn_im_177);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_76, NumDims.x_transformer_layers_0_cross_attn_im_76] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_116, Vars.x_transformer_layers_0_cross_attn_im_42, 0, NumDims.x_transformer_layers_0_cross_attn_im_116, NumDims.x_transformer_layers_0_cross_attn_im_42);
Vars.x_transformer_layers_0_cross_attn_im_42 = [];
Vars.x_transformer_layers_0_cross_attn_im_116 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_118, NumDims.x_transformer_layers_0_cross_attn_im_118] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_177, NumDims.x_transformer_layers_0_cross_attn_im_177);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_78, NumDims.x_transformer_layers_0_cross_attn_im_78] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_118, Vars.x_transformer_layers_0_cross_attn_im_44, 0, NumDims.x_transformer_layers_0_cross_attn_im_118, NumDims.x_transformer_layers_0_cross_attn_im_44);
Vars.x_transformer_layers_0_cross_attn_im_44 = [];
Vars.x_transformer_layers_0_cross_attn_im_118 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_im_67 = fix(Vars.x_transformer_layers_0_cross_attn_im_78 ./ Vars.x_transformer_layers_0_cross_attn_im_46);
Vars.x_transformer_layers_0_cross_attn_im_46 = [];
Vars.x_transformer_layers_0_cross_attn_im_78 = [];
NumDims.x_transformer_layers_0_cross_attn_im_67 = max(NumDims.x_transformer_layers_0_cross_attn_im_78, NumDims.x_transformer_layers_0_cross_attn_im_46);

% Cast:
Vars.x_transformer_layers_0_cross_attn_im_11 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_im_67)), 'like', Vars.x_transformer_layers_0_cross_attn_im_67);
Vars.x_transformer_layers_0_cross_attn_im_67 = [];
NumDims.x_transformer_layers_0_cross_attn_im_11 = NumDims.x_transformer_layers_0_cross_attn_im_67;

% Cast:
Vars.x_transformer_layers_0_cross_attn_im_2 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_im_11)), 'like', Vars.x_transformer_layers_0_cross_attn_im_11);
Vars.x_transformer_layers_0_cross_attn_im_11 = [];
NumDims.x_transformer_layers_0_cross_attn_im_2 = NumDims.x_transformer_layers_0_cross_attn_im_11;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_167] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_93, Vars.onnx__Unsqueeze_850, NumDims.x_transformer_layers_0_cross_attn_im_93);
Vars.onnx__Unsqueeze_850 = [];
Vars.x_transformer_layers_0_cross_attn_im_167 = reshape(Vars.x_transformer_layers_0_cross_attn_im_93, shape);
Vars.x_transformer_layers_0_cross_attn_im_93 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_150] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_76, Vars.onnx__Unsqueeze_852, NumDims.x_transformer_layers_0_cross_attn_im_76);
Vars.onnx__Unsqueeze_852 = [];
Vars.x_transformer_layers_0_cross_attn_im_150 = reshape(Vars.x_transformer_layers_0_cross_attn_im_76, shape);
Vars.x_transformer_layers_0_cross_attn_im_76 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_152] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_2, Vars.onnx__Unsqueeze_856, NumDims.x_transformer_layers_0_cross_attn_im_2);
Vars.onnx__Unsqueeze_856 = [];
Vars.x_transformer_layers_0_cross_attn_im_152 = reshape(Vars.x_transformer_layers_0_cross_attn_im_2, shape);
Vars.x_transformer_layers_0_cross_attn_im_2 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_im_19, NumDims.x_transformer_layers_0_cross_attn_im_19] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_im_167, Vars.x_transformer_layers_0_cross_attn_im_150, Vars.x_transformer_layers_0_cross_attn_im_48, Vars.x_transformer_layers_0_cross_attn_im_152}, [NumDims.x_transformer_layers_0_cross_attn_im_167, NumDims.x_transformer_layers_0_cross_attn_im_150, NumDims.x_transformer_layers_0_cross_attn_im_48, NumDims.x_transformer_layers_0_cross_attn_im_152]);
Vars.x_transformer_layers_0_cross_attn_im_152 = [];
Vars.x_transformer_layers_0_cross_attn_im_48 = [];
Vars.x_transformer_layers_0_cross_attn_im_150 = [];
Vars.x_transformer_layers_0_cross_attn_im_167 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_107] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_im_177, Vars.x_transformer_layers_0_cross_attn_im_19, NumDims.x_transformer_layers_0_cross_attn_im_177, 0);
Vars.x_transformer_layers_0_cross_attn_im_19 = [];
Vars.x_transformer_layers_0_cross_attn_im_107 = reshape(Vars.x_transformer_layers_0_cross_attn_im_177, shape{:});
Vars.x_transformer_layers_0_cross_attn_im_177 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_im_143] = prepareTransposeArgs(Vars.TransposePerm1036, NumDims.x_transformer_layers_0_cross_attn_im_107);
Vars.TransposePerm1036 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_im_143 = permute(Vars.x_transformer_layers_0_cross_attn_im_107, perm);
Vars.x_transformer_layers_0_cross_attn_im_107 = [];
end

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_120, NumDims.x_transformer_layers_0_cross_attn_im_120] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_169, NumDims.x_transformer_layers_0_cross_attn_im_169);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_80, NumDims.x_transformer_layers_0_cross_attn_im_80] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_120, Vars.x_transformer_layers_0_cross_attn_im_50, 0, NumDims.x_transformer_layers_0_cross_attn_im_120, NumDims.x_transformer_layers_0_cross_attn_im_50);
Vars.x_transformer_layers_0_cross_attn_im_50 = [];
Vars.x_transformer_layers_0_cross_attn_im_120 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_122, NumDims.x_transformer_layers_0_cross_attn_im_122] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_169, NumDims.x_transformer_layers_0_cross_attn_im_169);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_82, NumDims.x_transformer_layers_0_cross_attn_im_82] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_122, Vars.x_transformer_layers_0_cross_attn_im_52, 0, NumDims.x_transformer_layers_0_cross_attn_im_122, NumDims.x_transformer_layers_0_cross_attn_im_52);
Vars.x_transformer_layers_0_cross_attn_im_52 = [];
Vars.x_transformer_layers_0_cross_attn_im_122 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_124, NumDims.x_transformer_layers_0_cross_attn_im_124] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_169, NumDims.x_transformer_layers_0_cross_attn_im_169);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_84, NumDims.x_transformer_layers_0_cross_attn_im_84] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_124, Vars.x_transformer_layers_0_cross_attn_im_54, 0, NumDims.x_transformer_layers_0_cross_attn_im_124, NumDims.x_transformer_layers_0_cross_attn_im_54);
Vars.x_transformer_layers_0_cross_attn_im_54 = [];
Vars.x_transformer_layers_0_cross_attn_im_124 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_im_62 = fix(Vars.x_transformer_layers_0_cross_attn_im_84 ./ Vars.x_transformer_layers_0_cross_attn_im_56);
Vars.x_transformer_layers_0_cross_attn_im_56 = [];
Vars.x_transformer_layers_0_cross_attn_im_84 = [];
NumDims.x_transformer_layers_0_cross_attn_im_62 = max(NumDims.x_transformer_layers_0_cross_attn_im_84, NumDims.x_transformer_layers_0_cross_attn_im_56);

% Cast:
Vars.x_transformer_layers_0_cross_attn_im_4 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_im_62)), 'like', Vars.x_transformer_layers_0_cross_attn_im_62);
Vars.x_transformer_layers_0_cross_attn_im_62 = [];
NumDims.x_transformer_layers_0_cross_attn_im_4 = NumDims.x_transformer_layers_0_cross_attn_im_62;

% Cast:
Vars.x_transformer_layers_0_cross_attn_im_6 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_im_4)), 'like', Vars.x_transformer_layers_0_cross_attn_im_4);
Vars.x_transformer_layers_0_cross_attn_im_4 = [];
NumDims.x_transformer_layers_0_cross_attn_im_6 = NumDims.x_transformer_layers_0_cross_attn_im_4;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_154] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_80, Vars.onnx__Unsqueeze_874, NumDims.x_transformer_layers_0_cross_attn_im_80);
Vars.onnx__Unsqueeze_874 = [];
Vars.x_transformer_layers_0_cross_attn_im_154 = reshape(Vars.x_transformer_layers_0_cross_attn_im_80, shape);
Vars.x_transformer_layers_0_cross_attn_im_80 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_156] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_82, Vars.onnx__Unsqueeze_876, NumDims.x_transformer_layers_0_cross_attn_im_82);
Vars.onnx__Unsqueeze_876 = [];
Vars.x_transformer_layers_0_cross_attn_im_156 = reshape(Vars.x_transformer_layers_0_cross_attn_im_82, shape);
Vars.x_transformer_layers_0_cross_attn_im_82 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_158] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_6, Vars.onnx__Unsqueeze_880, NumDims.x_transformer_layers_0_cross_attn_im_6);
Vars.onnx__Unsqueeze_880 = [];
Vars.x_transformer_layers_0_cross_attn_im_158 = reshape(Vars.x_transformer_layers_0_cross_attn_im_6, shape);
Vars.x_transformer_layers_0_cross_attn_im_6 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_im_14, NumDims.x_transformer_layers_0_cross_attn_im_14] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_im_154, Vars.x_transformer_layers_0_cross_attn_im_156, Vars.x_transformer_layers_0_cross_attn_im_58, Vars.x_transformer_layers_0_cross_attn_im_158}, [NumDims.x_transformer_layers_0_cross_attn_im_154, NumDims.x_transformer_layers_0_cross_attn_im_156, NumDims.x_transformer_layers_0_cross_attn_im_58, NumDims.x_transformer_layers_0_cross_attn_im_158]);
Vars.x_transformer_layers_0_cross_attn_im_158 = [];
Vars.x_transformer_layers_0_cross_attn_im_58 = [];
Vars.x_transformer_layers_0_cross_attn_im_156 = [];
Vars.x_transformer_layers_0_cross_attn_im_154 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_102] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_im_169, Vars.x_transformer_layers_0_cross_attn_im_14, NumDims.x_transformer_layers_0_cross_attn_im_169, 0);
Vars.x_transformer_layers_0_cross_attn_im_14 = [];
Vars.x_transformer_layers_0_cross_attn_im_102 = reshape(Vars.x_transformer_layers_0_cross_attn_im_169, shape{:});
Vars.x_transformer_layers_0_cross_attn_im_169 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_126, NumDims.x_transformer_layers_0_cross_attn_im_126] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_181, NumDims.x_transformer_layers_0_cross_attn_im_181);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_86, NumDims.x_transformer_layers_0_cross_attn_im_86] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_126, Vars.x_transformer_layers_0_cross_attn_im_23, 0, NumDims.x_transformer_layers_0_cross_attn_im_126, NumDims.x_transformer_layers_0_cross_attn_im_23);
Vars.x_transformer_layers_0_cross_attn_im_23 = [];
Vars.x_transformer_layers_0_cross_attn_im_126 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_128, NumDims.x_transformer_layers_0_cross_attn_im_128] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_181, NumDims.x_transformer_layers_0_cross_attn_im_181);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_88, NumDims.x_transformer_layers_0_cross_attn_im_88] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_128, Vars.x_transformer_layers_0_cross_attn_im_25, 0, NumDims.x_transformer_layers_0_cross_attn_im_128, NumDims.x_transformer_layers_0_cross_attn_im_25);
Vars.x_transformer_layers_0_cross_attn_im_25 = [];
Vars.x_transformer_layers_0_cross_attn_im_128 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_130, NumDims.x_transformer_layers_0_cross_attn_im_130] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_181, NumDims.x_transformer_layers_0_cross_attn_im_181);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_90, NumDims.x_transformer_layers_0_cross_attn_im_90] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_130, Vars.x_transformer_layers_0_cross_attn_im_27, 0, NumDims.x_transformer_layers_0_cross_attn_im_130, NumDims.x_transformer_layers_0_cross_attn_im_27);
Vars.x_transformer_layers_0_cross_attn_im_27 = [];
Vars.x_transformer_layers_0_cross_attn_im_130 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_im_64 = fix(Vars.x_transformer_layers_0_cross_attn_im_90 ./ Vars.x_transformer_layers_0_cross_attn_im_29);
Vars.x_transformer_layers_0_cross_attn_im_29 = [];
Vars.x_transformer_layers_0_cross_attn_im_90 = [];
NumDims.x_transformer_layers_0_cross_attn_im_64 = max(NumDims.x_transformer_layers_0_cross_attn_im_90, NumDims.x_transformer_layers_0_cross_attn_im_29);

% Cast:
Vars.x_transformer_layers_0_cross_attn_im_8 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_im_64)), 'like', Vars.x_transformer_layers_0_cross_attn_im_64);
Vars.x_transformer_layers_0_cross_attn_im_64 = [];
NumDims.x_transformer_layers_0_cross_attn_im_8 = NumDims.x_transformer_layers_0_cross_attn_im_64;

% Cast:
Vars.x_transformer_layers_0_cross_attn_im_10 = cast(int64(extractdata(Vars.x_transformer_layers_0_cross_attn_im_8)), 'like', Vars.x_transformer_layers_0_cross_attn_im_8);
Vars.x_transformer_layers_0_cross_attn_im_8 = [];
NumDims.x_transformer_layers_0_cross_attn_im_10 = NumDims.x_transformer_layers_0_cross_attn_im_8;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_160] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_86, Vars.onnx__Unsqueeze_897, NumDims.x_transformer_layers_0_cross_attn_im_86);
Vars.onnx__Unsqueeze_897 = [];
Vars.x_transformer_layers_0_cross_attn_im_160 = reshape(Vars.x_transformer_layers_0_cross_attn_im_86, shape);
Vars.x_transformer_layers_0_cross_attn_im_86 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_162] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_88, Vars.onnx__Unsqueeze_899, NumDims.x_transformer_layers_0_cross_attn_im_88);
Vars.onnx__Unsqueeze_899 = [];
Vars.x_transformer_layers_0_cross_attn_im_162 = reshape(Vars.x_transformer_layers_0_cross_attn_im_88, shape);
Vars.x_transformer_layers_0_cross_attn_im_88 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_164] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_10, Vars.onnx__Unsqueeze_903, NumDims.x_transformer_layers_0_cross_attn_im_10);
Vars.onnx__Unsqueeze_903 = [];
Vars.x_transformer_layers_0_cross_attn_im_164 = reshape(Vars.x_transformer_layers_0_cross_attn_im_10, shape);
Vars.x_transformer_layers_0_cross_attn_im_10 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_im_16, NumDims.x_transformer_layers_0_cross_attn_im_16] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_im_160, Vars.x_transformer_layers_0_cross_attn_im_162, Vars.x_transformer_layers_0_cross_attn_im_31, Vars.x_transformer_layers_0_cross_attn_im_164}, [NumDims.x_transformer_layers_0_cross_attn_im_160, NumDims.x_transformer_layers_0_cross_attn_im_162, NumDims.x_transformer_layers_0_cross_attn_im_31, NumDims.x_transformer_layers_0_cross_attn_im_164]);
Vars.x_transformer_layers_0_cross_attn_im_164 = [];
Vars.x_transformer_layers_0_cross_attn_im_31 = [];
Vars.x_transformer_layers_0_cross_attn_im_162 = [];
Vars.x_transformer_layers_0_cross_attn_im_160 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_104] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_im_181, Vars.x_transformer_layers_0_cross_attn_im_16, NumDims.x_transformer_layers_0_cross_attn_im_181, 0);
Vars.x_transformer_layers_0_cross_attn_im_16 = [];
Vars.x_transformer_layers_0_cross_attn_im_104 = reshape(Vars.x_transformer_layers_0_cross_attn_im_181, shape{:});
Vars.x_transformer_layers_0_cross_attn_im_181 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_im_138] = prepareTransposeArgs(Vars.TransposePerm1037, NumDims.x_transformer_layers_0_cross_attn_im_104);
Vars.TransposePerm1037 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_im_138 = permute(Vars.x_transformer_layers_0_cross_attn_im_104, perm);
Vars.x_transformer_layers_0_cross_attn_im_104 = [];
end

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_im_140] = prepareTransposeArgs(Vars.TransposePerm1038, NumDims.x_transformer_layers_0_cross_attn_im_102);
Vars.TransposePerm1038 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_im_140 = permute(Vars.x_transformer_layers_0_cross_attn_im_102, perm);
Vars.x_transformer_layers_0_cross_attn_im_102 = [];
end

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_im_97, NumDims.x_transformer_layers_0_cross_attn_im_97] = onnxMatMul(Vars.x_transformer_layers_0_cross_attn_im_143, Vars.x_transformer_layers_0_cross_attn_im_140, NumDims.x_transformer_layers_0_cross_attn_im_143, NumDims.x_transformer_layers_0_cross_attn_im_140);
Vars.x_transformer_layers_0_cross_attn_im_140 = [];
Vars.x_transformer_layers_0_cross_attn_im_143 = [];

% Div:
Vars.x_transformer_layers_0_cross_attn_im_66 = Vars.x_transformer_layers_0_cross_attn_im_97 ./ Vars.x_transformer_layers_0_cross_attn_im_33;
Vars.x_transformer_layers_0_cross_attn_im_33 = [];
Vars.x_transformer_layers_0_cross_attn_im_97 = [];
NumDims.x_transformer_layers_0_cross_attn_im_66 = max(NumDims.x_transformer_layers_0_cross_attn_im_97, NumDims.x_transformer_layers_0_cross_attn_im_33);

% Softmax:
[Vars.x_transformer_layers_0_cross_attn_im_135, NumDims.x_transformer_layers_0_cross_attn_im_135] = onnxSoftmax13(Vars.x_transformer_layers_0_cross_attn_im_66, -1, NumDims.x_transformer_layers_0_cross_attn_im_66);
Vars.x_transformer_layers_0_cross_attn_im_66 = [];

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_im_96, NumDims.x_transformer_layers_0_cross_attn_im_96] = onnxMatMul(Vars.x_transformer_layers_0_cross_attn_im_135, Vars.x_transformer_layers_0_cross_attn_im_138, NumDims.x_transformer_layers_0_cross_attn_im_135, NumDims.x_transformer_layers_0_cross_attn_im_138);
Vars.x_transformer_layers_0_cross_attn_im_138 = [];
Vars.x_transformer_layers_0_cross_attn_im_135 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_132, NumDims.x_transformer_layers_0_cross_attn_im_132] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_96, NumDims.x_transformer_layers_0_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_92, NumDims.x_transformer_layers_0_cross_attn_im_92] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_132, Vars.x_transformer_layers_0_cross_attn_im_35, 0, NumDims.x_transformer_layers_0_cross_attn_im_132, NumDims.x_transformer_layers_0_cross_attn_im_35);
Vars.x_transformer_layers_0_cross_attn_im_35 = [];
Vars.x_transformer_layers_0_cross_attn_im_132 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_111, NumDims.x_transformer_layers_0_cross_attn_im_111] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_96, NumDims.x_transformer_layers_0_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_71, NumDims.x_transformer_layers_0_cross_attn_im_71] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_111, Vars.x_transformer_layers_0_cross_attn_im_37, 0, NumDims.x_transformer_layers_0_cross_attn_im_111, NumDims.x_transformer_layers_0_cross_attn_im_37);
Vars.x_transformer_layers_0_cross_attn_im_37 = [];
Vars.x_transformer_layers_0_cross_attn_im_111 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_113, NumDims.x_transformer_layers_0_cross_attn_im_113] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_96, NumDims.x_transformer_layers_0_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_73, NumDims.x_transformer_layers_0_cross_attn_im_73] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_113, Vars.x_transformer_layers_0_cross_attn_im_39, 0, NumDims.x_transformer_layers_0_cross_attn_im_113, NumDims.x_transformer_layers_0_cross_attn_im_39);
Vars.x_transformer_layers_0_cross_attn_im_39 = [];
Vars.x_transformer_layers_0_cross_attn_im_113 = [];

% Shape:
[Vars.x_transformer_layers_0_cross_attn_im_115, NumDims.x_transformer_layers_0_cross_attn_im_115] = onnxShape(Vars.x_transformer_layers_0_cross_attn_im_96, NumDims.x_transformer_layers_0_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_0_cross_attn_im_75, NumDims.x_transformer_layers_0_cross_attn_im_75] = onnxGather(Vars.x_transformer_layers_0_cross_attn_im_115, Vars.x_transformer_layers_0_cross_attn_im_41, 0, NumDims.x_transformer_layers_0_cross_attn_im_115, NumDims.x_transformer_layers_0_cross_attn_im_41);
Vars.x_transformer_layers_0_cross_attn_im_41 = [];
Vars.x_transformer_layers_0_cross_attn_im_115 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_0_cross_attn_im_142] = prepareTransposeArgs(Vars.TransposePerm1039, NumDims.x_transformer_layers_0_cross_attn_im_96);
Vars.TransposePerm1039 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_0_cross_attn_im_142 = permute(Vars.x_transformer_layers_0_cross_attn_im_96, perm);
Vars.x_transformer_layers_0_cross_attn_im_96 = [];
end

% Mul:
Vars.x_transformer_layers_0_cross_attn_im_99 = Vars.x_transformer_layers_0_cross_attn_im_71 .* Vars.x_transformer_layers_0_cross_attn_im_75;
Vars.x_transformer_layers_0_cross_attn_im_75 = [];
Vars.x_transformer_layers_0_cross_attn_im_71 = [];
NumDims.x_transformer_layers_0_cross_attn_im_99 = max(NumDims.x_transformer_layers_0_cross_attn_im_71, NumDims.x_transformer_layers_0_cross_attn_im_75);

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_166] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_92, Vars.onnx__Unsqueeze_928, NumDims.x_transformer_layers_0_cross_attn_im_92);
Vars.onnx__Unsqueeze_928 = [];
Vars.x_transformer_layers_0_cross_attn_im_166 = reshape(Vars.x_transformer_layers_0_cross_attn_im_92, shape);
Vars.x_transformer_layers_0_cross_attn_im_92 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_147] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_73, Vars.onnx__Unsqueeze_930, NumDims.x_transformer_layers_0_cross_attn_im_73);
Vars.onnx__Unsqueeze_930 = [];
Vars.x_transformer_layers_0_cross_attn_im_147 = reshape(Vars.x_transformer_layers_0_cross_attn_im_73, shape);
Vars.x_transformer_layers_0_cross_attn_im_73 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_149] = prepareUnsqueezeArgs(Vars.x_transformer_layers_0_cross_attn_im_99, Vars.onnx__Unsqueeze_932, NumDims.x_transformer_layers_0_cross_attn_im_99);
Vars.onnx__Unsqueeze_932 = [];
Vars.x_transformer_layers_0_cross_attn_im_149 = reshape(Vars.x_transformer_layers_0_cross_attn_im_99, shape);
Vars.x_transformer_layers_0_cross_attn_im_99 = [];

% Concat:
[Vars.x_transformer_layers_0_cross_attn_im_18, NumDims.x_transformer_layers_0_cross_attn_im_18] = onnxConcat(0, {Vars.x_transformer_layers_0_cross_attn_im_166, Vars.x_transformer_layers_0_cross_attn_im_147, Vars.x_transformer_layers_0_cross_attn_im_149}, [NumDims.x_transformer_layers_0_cross_attn_im_166, NumDims.x_transformer_layers_0_cross_attn_im_147, NumDims.x_transformer_layers_0_cross_attn_im_149]);
Vars.x_transformer_layers_0_cross_attn_im_149 = [];
Vars.x_transformer_layers_0_cross_attn_im_147 = [];
Vars.x_transformer_layers_0_cross_attn_im_166 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_0_cross_attn_im_106] = prepareReshapeArgs(Vars.x_transformer_layers_0_cross_attn_im_142, Vars.x_transformer_layers_0_cross_attn_im_18, NumDims.x_transformer_layers_0_cross_attn_im_142, 0);
Vars.x_transformer_layers_0_cross_attn_im_18 = [];
Vars.x_transformer_layers_0_cross_attn_im_106 = reshape(Vars.x_transformer_layers_0_cross_attn_im_142, shape{:});
Vars.x_transformer_layers_0_cross_attn_im_142 = [];

% MatMul:
[Vars.x_transformer_layers_0_cross_attn_im_175, NumDims.x_transformer_layers_0_cross_attn_im_175] = onnxMatMul(Vars.x_transformer_layers_0_cross_attn_im_106, Vars.onnx__MatMul_1685, NumDims.x_transformer_layers_0_cross_attn_im_106, NumDims.onnx__MatMul_1685);
Vars.onnx__MatMul_1685 = [];
Vars.x_transformer_layers_0_cross_attn_im_106 = [];

% Add:
Vars.x_transformer_layers_0_cross_attn_im_173 = Vars.mask_decoder_transformer_layers_0_cros_1 + Vars.x_transformer_layers_0_cross_attn_im_175;
Vars.x_transformer_layers_0_cross_attn_im_175 = [];
Vars.mask_decoder_transformer_layers_0_cros_1 = [];
NumDims.x_transformer_layers_0_cross_attn_im_173 = max(NumDims.mask_decoder_transformer_layers_0_cros_1, NumDims.x_transformer_layers_0_cross_attn_im_175);

% Add:
Vars.x_transformer_layers_0_Add_5_output_0 = Vars.x_transformer_Transpose_output_0 + Vars.x_transformer_layers_0_cross_attn_im_173;
Vars.x_transformer_layers_0_cross_attn_im_173 = [];
Vars.x_transformer_Transpose_output_0 = [];
NumDims.x_transformer_layers_0_Add_5_output_0 = max(NumDims.x_transformer_Transpose_output_0, NumDims.x_transformer_layers_0_cross_attn_im_173);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1040, NumDims.x_transformer_layers_0_Add_5_output_0);
Vars.ReduceMeanAxes1040 = [];
Vars.x_transformer_layers_0_norm4_ReduceMea_2 = mean(Vars.x_transformer_layers_0_Add_5_output_0, dims);
NumDims.x_transformer_layers_0_norm4_ReduceMea_2 = NumDims.x_transformer_layers_0_Add_5_output_0;

% Sub:
Vars.x_transformer_layers_0_norm4_Sub_output_ = Vars.x_transformer_layers_0_Add_5_output_0 - Vars.x_transformer_layers_0_norm4_ReduceMea_2;
Vars.x_transformer_layers_0_norm4_ReduceMea_2 = [];
Vars.x_transformer_layers_0_Add_5_output_0 = [];
NumDims.x_transformer_layers_0_norm4_Sub_output_ = max(NumDims.x_transformer_layers_0_Add_5_output_0, NumDims.x_transformer_layers_0_norm4_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_0_norm4_Pow_output_ = power(Vars.x_transformer_layers_0_norm4_Sub_output_, Vars.x_transformer_layers_0_norm4_Constant_ou);
Vars.x_transformer_layers_0_norm4_Constant_ou = [];
NumDims.x_transformer_layers_0_norm4_Pow_output_ = max(NumDims.x_transformer_layers_0_norm4_Sub_output_, NumDims.x_transformer_layers_0_norm4_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1041, NumDims.x_transformer_layers_0_norm4_Pow_output_);
Vars.ReduceMeanAxes1041 = [];
Vars.x_transformer_layers_0_norm4_ReduceMea_1 = mean(Vars.x_transformer_layers_0_norm4_Pow_output_, dims);
Vars.x_transformer_layers_0_norm4_Pow_output_ = [];
NumDims.x_transformer_layers_0_norm4_ReduceMea_1 = NumDims.x_transformer_layers_0_norm4_Pow_output_;

% Add:
Vars.x_transformer_layers_0_norm4_Add_output_ = Vars.x_transformer_layers_0_norm4_ReduceMea_1 + Vars.x_transformer_layers_0_norm4_Constant_1_;
Vars.x_transformer_layers_0_norm4_Constant_1_ = [];
Vars.x_transformer_layers_0_norm4_ReduceMea_1 = [];
NumDims.x_transformer_layers_0_norm4_Add_output_ = max(NumDims.x_transformer_layers_0_norm4_ReduceMea_1, NumDims.x_transformer_layers_0_norm4_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_0_norm4_Sqrt_output = sqrt(Vars.x_transformer_layers_0_norm4_Add_output_);
Vars.x_transformer_layers_0_norm4_Add_output_ = [];
NumDims.x_transformer_layers_0_norm4_Sqrt_output = NumDims.x_transformer_layers_0_norm4_Add_output_;

% Div:
Vars.x_transformer_layers_0_norm4_Div_output_ = Vars.x_transformer_layers_0_norm4_Sub_output_ ./ Vars.x_transformer_layers_0_norm4_Sqrt_output;
Vars.x_transformer_layers_0_norm4_Sqrt_output = [];
Vars.x_transformer_layers_0_norm4_Sub_output_ = [];
NumDims.x_transformer_layers_0_norm4_Div_output_ = max(NumDims.x_transformer_layers_0_norm4_Sub_output_, NumDims.x_transformer_layers_0_norm4_Sqrt_output);

% Mul:
Vars.x_transformer_layers_0_norm4_Mul_output_ = Vars.x_transformer_layers_0_norm4_Div_output_ .* Vars.mask_decoder_transformer_layers_0_norm_4;
Vars.mask_decoder_transformer_layers_0_norm_4 = [];
Vars.x_transformer_layers_0_norm4_Div_output_ = [];
NumDims.x_transformer_layers_0_norm4_Mul_output_ = max(NumDims.x_transformer_layers_0_norm4_Div_output_, NumDims.mask_decoder_transformer_layers_0_norm_4);

% Add:
Vars.x_transformer_layers_0_norm4_Add_1_outpu = Vars.x_transformer_layers_0_norm4_Mul_output_ + Vars.mask_decoder_transformer_layers_0_norm4_;
Vars.mask_decoder_transformer_layers_0_norm4_ = [];
Vars.x_transformer_layers_0_norm4_Mul_output_ = [];
NumDims.x_transformer_layers_0_norm4_Add_1_outpu = max(NumDims.x_transformer_layers_0_norm4_Mul_output_, NumDims.mask_decoder_transformer_layers_0_norm4_);

% MatMul:
[Vars.x_transformer_layers_1_self_attn_q_pro_3, NumDims.x_transformer_layers_1_self_attn_q_pro_3] = onnxMatMul(Vars.x_transformer_layers_0_Add_4_output_0, Vars.onnx__MatMul_1686, NumDims.x_transformer_layers_0_Add_4_output_0, NumDims.onnx__MatMul_1686);
Vars.onnx__MatMul_1686 = [];

% Add:
Vars.x_transformer_layers_1_self_attn_q_pro_1 = Vars.mask_decoder_transformer_layers_1_self_2 + Vars.x_transformer_layers_1_self_attn_q_pro_3;
Vars.x_transformer_layers_1_self_attn_q_pro_3 = [];
Vars.mask_decoder_transformer_layers_1_self_2 = [];
NumDims.x_transformer_layers_1_self_attn_q_pro_1 = max(NumDims.mask_decoder_transformer_layers_1_self_2, NumDims.x_transformer_layers_1_self_attn_q_pro_3);

% MatMul:
[Vars.x_transformer_layers_1_self_attn_k_pro_3, NumDims.x_transformer_layers_1_self_attn_k_pro_3] = onnxMatMul(Vars.x_transformer_layers_0_Add_4_output_0, Vars.onnx__MatMul_1687, NumDims.x_transformer_layers_0_Add_4_output_0, NumDims.onnx__MatMul_1687);
Vars.onnx__MatMul_1687 = [];
Vars.x_transformer_layers_0_Add_4_output_0 = [];

% Add:
Vars.x_transformer_layers_1_self_attn_k_pro_1 = Vars.mask_decoder_transformer_layers_1_self_a + Vars.x_transformer_layers_1_self_attn_k_pro_3;
Vars.x_transformer_layers_1_self_attn_k_pro_3 = [];
Vars.mask_decoder_transformer_layers_1_self_a = [];
NumDims.x_transformer_layers_1_self_attn_k_pro_1 = max(NumDims.mask_decoder_transformer_layers_1_self_a, NumDims.x_transformer_layers_1_self_attn_k_pro_3);

% MatMul:
[Vars.x_transformer_layers_1_self_attn_v_pro_3, NumDims.x_transformer_layers_1_self_attn_v_pro_3] = onnxMatMul(Vars.x_transformer_layers_0_norm3_Add_1_outpu, Vars.onnx__MatMul_1688, NumDims.x_transformer_layers_0_norm3_Add_1_outpu, NumDims.onnx__MatMul_1688);
Vars.onnx__MatMul_1688 = [];

% Add:
Vars.x_transformer_layers_1_self_attn_v_pro_1 = Vars.mask_decoder_transformer_layers_1_self_3 + Vars.x_transformer_layers_1_self_attn_v_pro_3;
Vars.x_transformer_layers_1_self_attn_v_pro_3 = [];
Vars.mask_decoder_transformer_layers_1_self_3 = [];
NumDims.x_transformer_layers_1_self_attn_v_pro_1 = max(NumDims.mask_decoder_transformer_layers_1_self_3, NumDims.x_transformer_layers_1_self_attn_v_pro_3);

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shape_o, NumDims.x_transformer_layers_1_self_attn_Shape_o] = onnxShape(Vars.x_transformer_layers_1_self_attn_q_pro_1, NumDims.x_transformer_layers_1_self_attn_q_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_24, NumDims.x_transformer_layers_1_self_attn_Gath_24] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shape_o, Vars.x_transformer_layers_1_self_attn_Cons_39, 0, NumDims.x_transformer_layers_1_self_attn_Shape_o, NumDims.x_transformer_layers_1_self_attn_Cons_39);
Vars.x_transformer_layers_1_self_attn_Cons_39 = [];
Vars.x_transformer_layers_1_self_attn_Shape_o = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_7, NumDims.x_transformer_layers_1_self_attn_Shap_7] = onnxShape(Vars.x_transformer_layers_1_self_attn_q_pro_1, NumDims.x_transformer_layers_1_self_attn_q_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_7, NumDims.x_transformer_layers_1_self_attn_Gath_7] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_7, Vars.x_transformer_layers_1_self_attn_Cons_22, 0, NumDims.x_transformer_layers_1_self_attn_Shap_7, NumDims.x_transformer_layers_1_self_attn_Cons_22);
Vars.x_transformer_layers_1_self_attn_Cons_22 = [];
Vars.x_transformer_layers_1_self_attn_Shap_7 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_8, NumDims.x_transformer_layers_1_self_attn_Shap_8] = onnxShape(Vars.x_transformer_layers_1_self_attn_q_pro_1, NumDims.x_transformer_layers_1_self_attn_q_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_9, NumDims.x_transformer_layers_1_self_attn_Gath_9] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_8, Vars.x_transformer_layers_1_self_attn_Cons_24, 0, NumDims.x_transformer_layers_1_self_attn_Shap_8, NumDims.x_transformer_layers_1_self_attn_Cons_24);
Vars.x_transformer_layers_1_self_attn_Cons_24 = [];
Vars.x_transformer_layers_1_self_attn_Shap_8 = [];

% Div:
Vars.x_transformer_layers_1_self_attn_Div_out = fix(Vars.x_transformer_layers_1_self_attn_Gath_9 ./ Vars.x_transformer_layers_1_self_attn_Cons_26);
Vars.x_transformer_layers_1_self_attn_Cons_26 = [];
Vars.x_transformer_layers_1_self_attn_Gath_9 = [];
NumDims.x_transformer_layers_1_self_attn_Div_out = max(NumDims.x_transformer_layers_1_self_attn_Gath_9, NumDims.x_transformer_layers_1_self_attn_Cons_26);

% Cast:
Vars.x_transformer_layers_1_self_attn_Cast_ou = cast(int64(extractdata(Vars.x_transformer_layers_1_self_attn_Div_out)), 'like', Vars.x_transformer_layers_1_self_attn_Div_out);
Vars.x_transformer_layers_1_self_attn_Div_out = [];
NumDims.x_transformer_layers_1_self_attn_Cast_ou = NumDims.x_transformer_layers_1_self_attn_Div_out;

% Cast:
Vars.x_transformer_layers_1_self_attn_Cast_1_ = cast(int64(extractdata(Vars.x_transformer_layers_1_self_attn_Cast_ou)), 'like', Vars.x_transformer_layers_1_self_attn_Cast_ou);
Vars.x_transformer_layers_1_self_attn_Cast_ou = [];
NumDims.x_transformer_layers_1_self_attn_Cast_1_ = NumDims.x_transformer_layers_1_self_attn_Cast_ou;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_23] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_24, Vars.onnx__Unsqueeze_973, NumDims.x_transformer_layers_1_self_attn_Gath_24);
Vars.onnx__Unsqueeze_973 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_23 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_24, shape);
Vars.x_transformer_layers_1_self_attn_Gath_24 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_6] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_7, Vars.onnx__Unsqueeze_975, NumDims.x_transformer_layers_1_self_attn_Gath_7);
Vars.onnx__Unsqueeze_975 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_6 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_7, shape);
Vars.x_transformer_layers_1_self_attn_Gath_7 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_8] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Cast_1_, Vars.onnx__Unsqueeze_979, NumDims.x_transformer_layers_1_self_attn_Cast_1_);
Vars.onnx__Unsqueeze_979 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_8 = reshape(Vars.x_transformer_layers_1_self_attn_Cast_1_, shape);
Vars.x_transformer_layers_1_self_attn_Cast_1_ = [];

% Concat:
[Vars.x_transformer_layers_1_self_attn_Conca_6, NumDims.x_transformer_layers_1_self_attn_Conca_6] = onnxConcat(0, {Vars.x_transformer_layers_1_self_attn_Unsq_23, Vars.x_transformer_layers_1_self_attn_Unsq_6, Vars.x_transformer_layers_1_self_attn_Cons_28, Vars.x_transformer_layers_1_self_attn_Unsq_8}, [NumDims.x_transformer_layers_1_self_attn_Unsq_23, NumDims.x_transformer_layers_1_self_attn_Unsq_6, NumDims.x_transformer_layers_1_self_attn_Cons_28, NumDims.x_transformer_layers_1_self_attn_Unsq_8]);
Vars.x_transformer_layers_1_self_attn_Unsq_8 = [];
Vars.x_transformer_layers_1_self_attn_Cons_28 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_6 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_23 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_self_attn_Resha_7] = prepareReshapeArgs(Vars.x_transformer_layers_1_self_attn_q_pro_1, Vars.x_transformer_layers_1_self_attn_Conca_6, NumDims.x_transformer_layers_1_self_attn_q_pro_1, 0);
Vars.x_transformer_layers_1_self_attn_Conca_6 = [];
Vars.x_transformer_layers_1_self_attn_Resha_7 = reshape(Vars.x_transformer_layers_1_self_attn_q_pro_1, shape{:});
Vars.x_transformer_layers_1_self_attn_q_pro_1 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_self_attn_Trans_7] = prepareTransposeArgs(Vars.TransposePerm1042, NumDims.x_transformer_layers_1_self_attn_Resha_7);
Vars.TransposePerm1042 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_self_attn_Trans_7 = permute(Vars.x_transformer_layers_1_self_attn_Resha_7, perm);
Vars.x_transformer_layers_1_self_attn_Resha_7 = [];
end

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_9, NumDims.x_transformer_layers_1_self_attn_Shap_9] = onnxShape(Vars.x_transformer_layers_1_self_attn_k_pro_1, NumDims.x_transformer_layers_1_self_attn_k_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_11, NumDims.x_transformer_layers_1_self_attn_Gath_11] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_9, Vars.x_transformer_layers_1_self_attn_Cons_30, 0, NumDims.x_transformer_layers_1_self_attn_Shap_9, NumDims.x_transformer_layers_1_self_attn_Cons_30);
Vars.x_transformer_layers_1_self_attn_Cons_30 = [];
Vars.x_transformer_layers_1_self_attn_Shap_9 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_10, NumDims.x_transformer_layers_1_self_attn_Shap_10] = onnxShape(Vars.x_transformer_layers_1_self_attn_k_pro_1, NumDims.x_transformer_layers_1_self_attn_k_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_13, NumDims.x_transformer_layers_1_self_attn_Gath_13] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_10, Vars.x_transformer_layers_1_self_attn_Cons_32, 0, NumDims.x_transformer_layers_1_self_attn_Shap_10, NumDims.x_transformer_layers_1_self_attn_Cons_32);
Vars.x_transformer_layers_1_self_attn_Cons_32 = [];
Vars.x_transformer_layers_1_self_attn_Shap_10 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_11, NumDims.x_transformer_layers_1_self_attn_Shap_11] = onnxShape(Vars.x_transformer_layers_1_self_attn_k_pro_1, NumDims.x_transformer_layers_1_self_attn_k_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_15, NumDims.x_transformer_layers_1_self_attn_Gath_15] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_11, Vars.x_transformer_layers_1_self_attn_Cons_34, 0, NumDims.x_transformer_layers_1_self_attn_Shap_11, NumDims.x_transformer_layers_1_self_attn_Cons_34);
Vars.x_transformer_layers_1_self_attn_Cons_34 = [];
Vars.x_transformer_layers_1_self_attn_Shap_11 = [];

% Div:
Vars.x_transformer_layers_1_self_attn_Div_1_o = fix(Vars.x_transformer_layers_1_self_attn_Gath_15 ./ Vars.x_transformer_layers_1_self_attn_Cons_36);
Vars.x_transformer_layers_1_self_attn_Cons_36 = [];
Vars.x_transformer_layers_1_self_attn_Gath_15 = [];
NumDims.x_transformer_layers_1_self_attn_Div_1_o = max(NumDims.x_transformer_layers_1_self_attn_Gath_15, NumDims.x_transformer_layers_1_self_attn_Cons_36);

% Cast:
Vars.x_transformer_layers_1_self_attn_Cast_2_ = cast(int64(extractdata(Vars.x_transformer_layers_1_self_attn_Div_1_o)), 'like', Vars.x_transformer_layers_1_self_attn_Div_1_o);
Vars.x_transformer_layers_1_self_attn_Div_1_o = [];
NumDims.x_transformer_layers_1_self_attn_Cast_2_ = NumDims.x_transformer_layers_1_self_attn_Div_1_o;

% Cast:
Vars.x_transformer_layers_1_self_attn_Cast_3_ = cast(int64(extractdata(Vars.x_transformer_layers_1_self_attn_Cast_2_)), 'like', Vars.x_transformer_layers_1_self_attn_Cast_2_);
Vars.x_transformer_layers_1_self_attn_Cast_2_ = [];
NumDims.x_transformer_layers_1_self_attn_Cast_3_ = NumDims.x_transformer_layers_1_self_attn_Cast_2_;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_10] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_11, Vars.onnx__Unsqueeze_997, NumDims.x_transformer_layers_1_self_attn_Gath_11);
Vars.onnx__Unsqueeze_997 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_10 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_11, shape);
Vars.x_transformer_layers_1_self_attn_Gath_11 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_12] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_13, Vars.onnx__Unsqueeze_999, NumDims.x_transformer_layers_1_self_attn_Gath_13);
Vars.onnx__Unsqueeze_999 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_12 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_13, shape);
Vars.x_transformer_layers_1_self_attn_Gath_13 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_14] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Cast_3_, Vars.onnx__Unsqueeze_1003, NumDims.x_transformer_layers_1_self_attn_Cast_3_);
Vars.onnx__Unsqueeze_1003 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_14 = reshape(Vars.x_transformer_layers_1_self_attn_Cast_3_, shape);
Vars.x_transformer_layers_1_self_attn_Cast_3_ = [];

% Concat:
[Vars.x_transformer_layers_1_self_attn_Conca_1, NumDims.x_transformer_layers_1_self_attn_Conca_1] = onnxConcat(0, {Vars.x_transformer_layers_1_self_attn_Unsq_10, Vars.x_transformer_layers_1_self_attn_Unsq_12, Vars.x_transformer_layers_1_self_attn_Cons_38, Vars.x_transformer_layers_1_self_attn_Unsq_14}, [NumDims.x_transformer_layers_1_self_attn_Unsq_10, NumDims.x_transformer_layers_1_self_attn_Unsq_12, NumDims.x_transformer_layers_1_self_attn_Cons_38, NumDims.x_transformer_layers_1_self_attn_Unsq_14]);
Vars.x_transformer_layers_1_self_attn_Unsq_14 = [];
Vars.x_transformer_layers_1_self_attn_Cons_38 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_12 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_10 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_self_attn_Resha_2] = prepareReshapeArgs(Vars.x_transformer_layers_1_self_attn_k_pro_1, Vars.x_transformer_layers_1_self_attn_Conca_1, NumDims.x_transformer_layers_1_self_attn_k_pro_1, 0);
Vars.x_transformer_layers_1_self_attn_Conca_1 = [];
Vars.x_transformer_layers_1_self_attn_Resha_2 = reshape(Vars.x_transformer_layers_1_self_attn_k_pro_1, shape{:});
Vars.x_transformer_layers_1_self_attn_k_pro_1 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_12, NumDims.x_transformer_layers_1_self_attn_Shap_12] = onnxShape(Vars.x_transformer_layers_1_self_attn_v_pro_1, NumDims.x_transformer_layers_1_self_attn_v_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_17, NumDims.x_transformer_layers_1_self_attn_Gath_17] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_12, Vars.x_transformer_layers_1_self_attn_Cons_3, 0, NumDims.x_transformer_layers_1_self_attn_Shap_12, NumDims.x_transformer_layers_1_self_attn_Cons_3);
Vars.x_transformer_layers_1_self_attn_Cons_3 = [];
Vars.x_transformer_layers_1_self_attn_Shap_12 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_13, NumDims.x_transformer_layers_1_self_attn_Shap_13] = onnxShape(Vars.x_transformer_layers_1_self_attn_v_pro_1, NumDims.x_transformer_layers_1_self_attn_v_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_19, NumDims.x_transformer_layers_1_self_attn_Gath_19] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_13, Vars.x_transformer_layers_1_self_attn_Cons_5, 0, NumDims.x_transformer_layers_1_self_attn_Shap_13, NumDims.x_transformer_layers_1_self_attn_Cons_5);
Vars.x_transformer_layers_1_self_attn_Cons_5 = [];
Vars.x_transformer_layers_1_self_attn_Shap_13 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_14, NumDims.x_transformer_layers_1_self_attn_Shap_14] = onnxShape(Vars.x_transformer_layers_1_self_attn_v_pro_1, NumDims.x_transformer_layers_1_self_attn_v_pro_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_21, NumDims.x_transformer_layers_1_self_attn_Gath_21] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_14, Vars.x_transformer_layers_1_self_attn_Cons_7, 0, NumDims.x_transformer_layers_1_self_attn_Shap_14, NumDims.x_transformer_layers_1_self_attn_Cons_7);
Vars.x_transformer_layers_1_self_attn_Cons_7 = [];
Vars.x_transformer_layers_1_self_attn_Shap_14 = [];

% Div:
Vars.x_transformer_layers_1_self_attn_Div_2_o = fix(Vars.x_transformer_layers_1_self_attn_Gath_21 ./ Vars.x_transformer_layers_1_self_attn_Cons_9);
Vars.x_transformer_layers_1_self_attn_Cons_9 = [];
Vars.x_transformer_layers_1_self_attn_Gath_21 = [];
NumDims.x_transformer_layers_1_self_attn_Div_2_o = max(NumDims.x_transformer_layers_1_self_attn_Gath_21, NumDims.x_transformer_layers_1_self_attn_Cons_9);

% Cast:
Vars.x_transformer_layers_1_self_attn_Cast_4_ = cast(int64(extractdata(Vars.x_transformer_layers_1_self_attn_Div_2_o)), 'like', Vars.x_transformer_layers_1_self_attn_Div_2_o);
Vars.x_transformer_layers_1_self_attn_Div_2_o = [];
NumDims.x_transformer_layers_1_self_attn_Cast_4_ = NumDims.x_transformer_layers_1_self_attn_Div_2_o;

% Cast:
Vars.x_transformer_layers_1_self_attn_Cast_5_ = cast(int64(extractdata(Vars.x_transformer_layers_1_self_attn_Cast_4_)), 'like', Vars.x_transformer_layers_1_self_attn_Cast_4_);
Vars.x_transformer_layers_1_self_attn_Cast_4_ = [];
NumDims.x_transformer_layers_1_self_attn_Cast_5_ = NumDims.x_transformer_layers_1_self_attn_Cast_4_;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_16] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_17, Vars.onnx__Unsqueeze_1020, NumDims.x_transformer_layers_1_self_attn_Gath_17);
Vars.onnx__Unsqueeze_1020 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_16 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_17, shape);
Vars.x_transformer_layers_1_self_attn_Gath_17 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_18] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_19, Vars.onnx__Unsqueeze_1022, NumDims.x_transformer_layers_1_self_attn_Gath_19);
Vars.onnx__Unsqueeze_1022 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_18 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_19, shape);
Vars.x_transformer_layers_1_self_attn_Gath_19 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_20] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Cast_5_, Vars.onnx__Unsqueeze_1026, NumDims.x_transformer_layers_1_self_attn_Cast_5_);
Vars.onnx__Unsqueeze_1026 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_20 = reshape(Vars.x_transformer_layers_1_self_attn_Cast_5_, shape);
Vars.x_transformer_layers_1_self_attn_Cast_5_ = [];

% Concat:
[Vars.x_transformer_layers_1_self_attn_Conca_3, NumDims.x_transformer_layers_1_self_attn_Conca_3] = onnxConcat(0, {Vars.x_transformer_layers_1_self_attn_Unsq_16, Vars.x_transformer_layers_1_self_attn_Unsq_18, Vars.x_transformer_layers_1_self_attn_Cons_11, Vars.x_transformer_layers_1_self_attn_Unsq_20}, [NumDims.x_transformer_layers_1_self_attn_Unsq_16, NumDims.x_transformer_layers_1_self_attn_Unsq_18, NumDims.x_transformer_layers_1_self_attn_Cons_11, NumDims.x_transformer_layers_1_self_attn_Unsq_20]);
Vars.x_transformer_layers_1_self_attn_Unsq_20 = [];
Vars.x_transformer_layers_1_self_attn_Cons_11 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_18 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_16 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_self_attn_Resha_4] = prepareReshapeArgs(Vars.x_transformer_layers_1_self_attn_v_pro_1, Vars.x_transformer_layers_1_self_attn_Conca_3, NumDims.x_transformer_layers_1_self_attn_v_pro_1, 0);
Vars.x_transformer_layers_1_self_attn_Conca_3 = [];
Vars.x_transformer_layers_1_self_attn_Resha_4 = reshape(Vars.x_transformer_layers_1_self_attn_v_pro_1, shape{:});
Vars.x_transformer_layers_1_self_attn_v_pro_1 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_self_attn_Trans_2] = prepareTransposeArgs(Vars.TransposePerm1043, NumDims.x_transformer_layers_1_self_attn_Resha_4);
Vars.TransposePerm1043 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_self_attn_Trans_2 = permute(Vars.x_transformer_layers_1_self_attn_Resha_4, perm);
Vars.x_transformer_layers_1_self_attn_Resha_4 = [];
end

% Transpose:
[perm, NumDims.x_transformer_layers_1_self_attn_Trans_4] = prepareTransposeArgs(Vars.TransposePerm1044, NumDims.x_transformer_layers_1_self_attn_Resha_2);
Vars.TransposePerm1044 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_self_attn_Trans_4 = permute(Vars.x_transformer_layers_1_self_attn_Resha_2, perm);
Vars.x_transformer_layers_1_self_attn_Resha_2 = [];
end

% MatMul:
[Vars.x_transformer_layers_1_self_attn_MatMu_2, NumDims.x_transformer_layers_1_self_attn_MatMu_2] = onnxMatMul(Vars.x_transformer_layers_1_self_attn_Trans_7, Vars.x_transformer_layers_1_self_attn_Trans_4, NumDims.x_transformer_layers_1_self_attn_Trans_7, NumDims.x_transformer_layers_1_self_attn_Trans_4);
Vars.x_transformer_layers_1_self_attn_Trans_4 = [];
Vars.x_transformer_layers_1_self_attn_Trans_7 = [];

% Div:
Vars.x_transformer_layers_1_self_attn_Div_3_o = Vars.x_transformer_layers_1_self_attn_MatMu_2 ./ Vars.x_transformer_layers_1_self_attn_Cons_13;
Vars.x_transformer_layers_1_self_attn_Cons_13 = [];
Vars.x_transformer_layers_1_self_attn_MatMu_2 = [];
NumDims.x_transformer_layers_1_self_attn_Div_3_o = max(NumDims.x_transformer_layers_1_self_attn_MatMu_2, NumDims.x_transformer_layers_1_self_attn_Cons_13);

% Softmax:
[Vars.x_transformer_layers_1_self_attn_Softm_1, NumDims.x_transformer_layers_1_self_attn_Softm_1] = onnxSoftmax13(Vars.x_transformer_layers_1_self_attn_Div_3_o, -1, NumDims.x_transformer_layers_1_self_attn_Div_3_o);
Vars.x_transformer_layers_1_self_attn_Div_3_o = [];

% MatMul:
[Vars.x_transformer_layers_1_self_attn_MatMu_1, NumDims.x_transformer_layers_1_self_attn_MatMu_1] = onnxMatMul(Vars.x_transformer_layers_1_self_attn_Softm_1, Vars.x_transformer_layers_1_self_attn_Trans_2, NumDims.x_transformer_layers_1_self_attn_Softm_1, NumDims.x_transformer_layers_1_self_attn_Trans_2);
Vars.x_transformer_layers_1_self_attn_Trans_2 = [];
Vars.x_transformer_layers_1_self_attn_Softm_1 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_15, NumDims.x_transformer_layers_1_self_attn_Shap_15] = onnxShape(Vars.x_transformer_layers_1_self_attn_MatMu_1, NumDims.x_transformer_layers_1_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_23, NumDims.x_transformer_layers_1_self_attn_Gath_23] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_15, Vars.x_transformer_layers_1_self_attn_Cons_15, 0, NumDims.x_transformer_layers_1_self_attn_Shap_15, NumDims.x_transformer_layers_1_self_attn_Cons_15);
Vars.x_transformer_layers_1_self_attn_Cons_15 = [];
Vars.x_transformer_layers_1_self_attn_Shap_15 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_2, NumDims.x_transformer_layers_1_self_attn_Shap_2] = onnxShape(Vars.x_transformer_layers_1_self_attn_MatMu_1, NumDims.x_transformer_layers_1_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_2, NumDims.x_transformer_layers_1_self_attn_Gath_2] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_2, Vars.x_transformer_layers_1_self_attn_Cons_17, 0, NumDims.x_transformer_layers_1_self_attn_Shap_2, NumDims.x_transformer_layers_1_self_attn_Cons_17);
Vars.x_transformer_layers_1_self_attn_Cons_17 = [];
Vars.x_transformer_layers_1_self_attn_Shap_2 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_4, NumDims.x_transformer_layers_1_self_attn_Shap_4] = onnxShape(Vars.x_transformer_layers_1_self_attn_MatMu_1, NumDims.x_transformer_layers_1_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_4, NumDims.x_transformer_layers_1_self_attn_Gath_4] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_4, Vars.x_transformer_layers_1_self_attn_Cons_19, 0, NumDims.x_transformer_layers_1_self_attn_Shap_4, NumDims.x_transformer_layers_1_self_attn_Cons_19);
Vars.x_transformer_layers_1_self_attn_Cons_19 = [];
Vars.x_transformer_layers_1_self_attn_Shap_4 = [];

% Shape:
[Vars.x_transformer_layers_1_self_attn_Shap_6, NumDims.x_transformer_layers_1_self_attn_Shap_6] = onnxShape(Vars.x_transformer_layers_1_self_attn_MatMu_1, NumDims.x_transformer_layers_1_self_attn_MatMu_1);

% Gather:
[Vars.x_transformer_layers_1_self_attn_Gath_6, NumDims.x_transformer_layers_1_self_attn_Gath_6] = onnxGather(Vars.x_transformer_layers_1_self_attn_Shap_6, Vars.x_transformer_layers_1_self_attn_Cons_21, 0, NumDims.x_transformer_layers_1_self_attn_Shap_6, NumDims.x_transformer_layers_1_self_attn_Cons_21);
Vars.x_transformer_layers_1_self_attn_Cons_21 = [];
Vars.x_transformer_layers_1_self_attn_Shap_6 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_self_attn_Trans_6] = prepareTransposeArgs(Vars.TransposePerm1045, NumDims.x_transformer_layers_1_self_attn_MatMu_1);
Vars.TransposePerm1045 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_self_attn_Trans_6 = permute(Vars.x_transformer_layers_1_self_attn_MatMu_1, perm);
Vars.x_transformer_layers_1_self_attn_MatMu_1 = [];
end

% Mul:
Vars.x_transformer_layers_1_self_attn_Mul_out = Vars.x_transformer_layers_1_self_attn_Gath_2 .* Vars.x_transformer_layers_1_self_attn_Gath_6;
Vars.x_transformer_layers_1_self_attn_Gath_6 = [];
Vars.x_transformer_layers_1_self_attn_Gath_2 = [];
NumDims.x_transformer_layers_1_self_attn_Mul_out = max(NumDims.x_transformer_layers_1_self_attn_Gath_2, NumDims.x_transformer_layers_1_self_attn_Gath_6);

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_22] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_23, Vars.onnx__Unsqueeze_1051, NumDims.x_transformer_layers_1_self_attn_Gath_23);
Vars.onnx__Unsqueeze_1051 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_22 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_23, shape);
Vars.x_transformer_layers_1_self_attn_Gath_23 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_3] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Gath_4, Vars.onnx__Unsqueeze_1053, NumDims.x_transformer_layers_1_self_attn_Gath_4);
Vars.onnx__Unsqueeze_1053 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_3 = reshape(Vars.x_transformer_layers_1_self_attn_Gath_4, shape);
Vars.x_transformer_layers_1_self_attn_Gath_4 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_self_attn_Unsq_5] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_self_attn_Mul_out, Vars.onnx__Unsqueeze_1055, NumDims.x_transformer_layers_1_self_attn_Mul_out);
Vars.onnx__Unsqueeze_1055 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_5 = reshape(Vars.x_transformer_layers_1_self_attn_Mul_out, shape);
Vars.x_transformer_layers_1_self_attn_Mul_out = [];

% Concat:
[Vars.x_transformer_layers_1_self_attn_Conca_5, NumDims.x_transformer_layers_1_self_attn_Conca_5] = onnxConcat(0, {Vars.x_transformer_layers_1_self_attn_Unsq_22, Vars.x_transformer_layers_1_self_attn_Unsq_3, Vars.x_transformer_layers_1_self_attn_Unsq_5}, [NumDims.x_transformer_layers_1_self_attn_Unsq_22, NumDims.x_transformer_layers_1_self_attn_Unsq_3, NumDims.x_transformer_layers_1_self_attn_Unsq_5]);
Vars.x_transformer_layers_1_self_attn_Unsq_5 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_3 = [];
Vars.x_transformer_layers_1_self_attn_Unsq_22 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_self_attn_Resha_6] = prepareReshapeArgs(Vars.x_transformer_layers_1_self_attn_Trans_6, Vars.x_transformer_layers_1_self_attn_Conca_5, NumDims.x_transformer_layers_1_self_attn_Trans_6, 0);
Vars.x_transformer_layers_1_self_attn_Conca_5 = [];
Vars.x_transformer_layers_1_self_attn_Resha_6 = reshape(Vars.x_transformer_layers_1_self_attn_Trans_6, shape{:});
Vars.x_transformer_layers_1_self_attn_Trans_6 = [];

% MatMul:
[Vars.x_transformer_layers_1_self_attn_out_p_3, NumDims.x_transformer_layers_1_self_attn_out_p_3] = onnxMatMul(Vars.x_transformer_layers_1_self_attn_Resha_6, Vars.onnx__MatMul_1692, NumDims.x_transformer_layers_1_self_attn_Resha_6, NumDims.onnx__MatMul_1692);
Vars.onnx__MatMul_1692 = [];
Vars.x_transformer_layers_1_self_attn_Resha_6 = [];

% Add:
Vars.x_transformer_layers_1_self_attn_out_p_1 = Vars.mask_decoder_transformer_layers_1_self_1 + Vars.x_transformer_layers_1_self_attn_out_p_3;
Vars.x_transformer_layers_1_self_attn_out_p_3 = [];
Vars.mask_decoder_transformer_layers_1_self_1 = [];
NumDims.x_transformer_layers_1_self_attn_out_p_1 = max(NumDims.mask_decoder_transformer_layers_1_self_1, NumDims.x_transformer_layers_1_self_attn_out_p_3);

% Add:
Vars.x_transformer_layers_1_Add_output_0 = Vars.x_transformer_layers_0_norm3_Add_1_outpu + Vars.x_transformer_layers_1_self_attn_out_p_1;
Vars.x_transformer_layers_1_self_attn_out_p_1 = [];
Vars.x_transformer_layers_0_norm3_Add_1_outpu = [];
NumDims.x_transformer_layers_1_Add_output_0 = max(NumDims.x_transformer_layers_0_norm3_Add_1_outpu, NumDims.x_transformer_layers_1_self_attn_out_p_1);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1046, NumDims.x_transformer_layers_1_Add_output_0);
Vars.ReduceMeanAxes1046 = [];
Vars.x_transformer_layers_1_norm1_ReduceMea_2 = mean(Vars.x_transformer_layers_1_Add_output_0, dims);
NumDims.x_transformer_layers_1_norm1_ReduceMea_2 = NumDims.x_transformer_layers_1_Add_output_0;

% Sub:
Vars.x_transformer_layers_1_norm1_Sub_output_ = Vars.x_transformer_layers_1_Add_output_0 - Vars.x_transformer_layers_1_norm1_ReduceMea_2;
Vars.x_transformer_layers_1_norm1_ReduceMea_2 = [];
Vars.x_transformer_layers_1_Add_output_0 = [];
NumDims.x_transformer_layers_1_norm1_Sub_output_ = max(NumDims.x_transformer_layers_1_Add_output_0, NumDims.x_transformer_layers_1_norm1_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_1_norm1_Pow_output_ = power(Vars.x_transformer_layers_1_norm1_Sub_output_, Vars.x_transformer_layers_1_norm1_Constant_ou);
Vars.x_transformer_layers_1_norm1_Constant_ou = [];
NumDims.x_transformer_layers_1_norm1_Pow_output_ = max(NumDims.x_transformer_layers_1_norm1_Sub_output_, NumDims.x_transformer_layers_1_norm1_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1047, NumDims.x_transformer_layers_1_norm1_Pow_output_);
Vars.ReduceMeanAxes1047 = [];
Vars.x_transformer_layers_1_norm1_ReduceMea_1 = mean(Vars.x_transformer_layers_1_norm1_Pow_output_, dims);
Vars.x_transformer_layers_1_norm1_Pow_output_ = [];
NumDims.x_transformer_layers_1_norm1_ReduceMea_1 = NumDims.x_transformer_layers_1_norm1_Pow_output_;

% Add:
Vars.x_transformer_layers_1_norm1_Add_output_ = Vars.x_transformer_layers_1_norm1_ReduceMea_1 + Vars.x_transformer_layers_1_norm1_Constant_1_;
Vars.x_transformer_layers_1_norm1_Constant_1_ = [];
Vars.x_transformer_layers_1_norm1_ReduceMea_1 = [];
NumDims.x_transformer_layers_1_norm1_Add_output_ = max(NumDims.x_transformer_layers_1_norm1_ReduceMea_1, NumDims.x_transformer_layers_1_norm1_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_1_norm1_Sqrt_output = sqrt(Vars.x_transformer_layers_1_norm1_Add_output_);
Vars.x_transformer_layers_1_norm1_Add_output_ = [];
NumDims.x_transformer_layers_1_norm1_Sqrt_output = NumDims.x_transformer_layers_1_norm1_Add_output_;

% Div:
Vars.x_transformer_layers_1_norm1_Div_output_ = Vars.x_transformer_layers_1_norm1_Sub_output_ ./ Vars.x_transformer_layers_1_norm1_Sqrt_output;
Vars.x_transformer_layers_1_norm1_Sqrt_output = [];
Vars.x_transformer_layers_1_norm1_Sub_output_ = [];
NumDims.x_transformer_layers_1_norm1_Div_output_ = max(NumDims.x_transformer_layers_1_norm1_Sub_output_, NumDims.x_transformer_layers_1_norm1_Sqrt_output);

% Mul:
Vars.x_transformer_layers_1_norm1_Mul_output_ = Vars.x_transformer_layers_1_norm1_Div_output_ .* Vars.mask_decoder_transformer_layers_1_norm_1;
Vars.mask_decoder_transformer_layers_1_norm_1 = [];
Vars.x_transformer_layers_1_norm1_Div_output_ = [];
NumDims.x_transformer_layers_1_norm1_Mul_output_ = max(NumDims.x_transformer_layers_1_norm1_Div_output_, NumDims.mask_decoder_transformer_layers_1_norm_1);

% Add:
Vars.x_transformer_layers_1_norm1_Add_1_outpu = Vars.x_transformer_layers_1_norm1_Mul_output_ + Vars.mask_decoder_transformer_layers_1_norm1_;
Vars.mask_decoder_transformer_layers_1_norm1_ = [];
Vars.x_transformer_layers_1_norm1_Mul_output_ = [];
NumDims.x_transformer_layers_1_norm1_Add_1_outpu = max(NumDims.x_transformer_layers_1_norm1_Mul_output_, NumDims.mask_decoder_transformer_layers_1_norm1_);

% Add:
Vars.x_transformer_layers_1_Add_1_output_0 = Vars.x_transformer_layers_1_norm1_Add_1_outpu + Vars.x_Concat_2_output_0;
NumDims.x_transformer_layers_1_Add_1_output_0 = max(NumDims.x_transformer_layers_1_norm1_Add_1_outpu, NumDims.x_Concat_2_output_0);

% Add:
Vars.x_transformer_layers_1_Add_2_output_0 = Vars.x_transformer_layers_0_norm4_Add_1_outpu + Vars.x_transformer_Transpose_1_output_0;
NumDims.x_transformer_layers_1_Add_2_output_0 = max(NumDims.x_transformer_layers_0_norm4_Add_1_outpu, NumDims.x_transformer_Transpose_1_output_0);

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_to_179, NumDims.x_transformer_layers_1_cross_attn_to_179] = onnxMatMul(Vars.x_transformer_layers_1_Add_1_output_0, Vars.onnx__MatMul_1693, NumDims.x_transformer_layers_1_Add_1_output_0, NumDims.onnx__MatMul_1693);
Vars.onnx__MatMul_1693 = [];
Vars.x_transformer_layers_1_Add_1_output_0 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_to_177 = Vars.mask_decoder_transformer_layers_1_cros_6 + Vars.x_transformer_layers_1_cross_attn_to_179;
Vars.x_transformer_layers_1_cross_attn_to_179 = [];
Vars.mask_decoder_transformer_layers_1_cros_6 = [];
NumDims.x_transformer_layers_1_cross_attn_to_177 = max(NumDims.mask_decoder_transformer_layers_1_cros_6, NumDims.x_transformer_layers_1_cross_attn_to_179);

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_to_171, NumDims.x_transformer_layers_1_cross_attn_to_171] = onnxMatMul(Vars.x_transformer_layers_1_Add_2_output_0, Vars.onnx__MatMul_1694, NumDims.x_transformer_layers_1_Add_2_output_0, NumDims.onnx__MatMul_1694);
Vars.onnx__MatMul_1694 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_to_169 = Vars.mask_decoder_transformer_layers_1_cros_4 + Vars.x_transformer_layers_1_cross_attn_to_171;
Vars.x_transformer_layers_1_cross_attn_to_171 = [];
Vars.mask_decoder_transformer_layers_1_cros_4 = [];
NumDims.x_transformer_layers_1_cross_attn_to_169 = max(NumDims.mask_decoder_transformer_layers_1_cros_4, NumDims.x_transformer_layers_1_cross_attn_to_171);

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_to_183, NumDims.x_transformer_layers_1_cross_attn_to_183] = onnxMatMul(Vars.x_transformer_layers_0_norm4_Add_1_outpu, Vars.onnx__MatMul_1695, NumDims.x_transformer_layers_0_norm4_Add_1_outpu, NumDims.onnx__MatMul_1695);
Vars.onnx__MatMul_1695 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_to_181 = Vars.mask_decoder_transformer_layers_1_cros_7 + Vars.x_transformer_layers_1_cross_attn_to_183;
Vars.x_transformer_layers_1_cross_attn_to_183 = [];
Vars.mask_decoder_transformer_layers_1_cros_7 = [];
NumDims.x_transformer_layers_1_cross_attn_to_181 = max(NumDims.mask_decoder_transformer_layers_1_cros_7, NumDims.x_transformer_layers_1_cross_attn_to_183);

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_133, NumDims.x_transformer_layers_1_cross_attn_to_133] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_177, NumDims.x_transformer_layers_1_cross_attn_to_177);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_93, NumDims.x_transformer_layers_1_cross_attn_to_93] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_133, Vars.x_transformer_layers_1_cross_attn_to_59, 0, NumDims.x_transformer_layers_1_cross_attn_to_133, NumDims.x_transformer_layers_1_cross_attn_to_59);
Vars.x_transformer_layers_1_cross_attn_to_59 = [];
Vars.x_transformer_layers_1_cross_attn_to_133 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_116, NumDims.x_transformer_layers_1_cross_attn_to_116] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_177, NumDims.x_transformer_layers_1_cross_attn_to_177);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_76, NumDims.x_transformer_layers_1_cross_attn_to_76] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_116, Vars.x_transformer_layers_1_cross_attn_to_42, 0, NumDims.x_transformer_layers_1_cross_attn_to_116, NumDims.x_transformer_layers_1_cross_attn_to_42);
Vars.x_transformer_layers_1_cross_attn_to_42 = [];
Vars.x_transformer_layers_1_cross_attn_to_116 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_118, NumDims.x_transformer_layers_1_cross_attn_to_118] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_177, NumDims.x_transformer_layers_1_cross_attn_to_177);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_78, NumDims.x_transformer_layers_1_cross_attn_to_78] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_118, Vars.x_transformer_layers_1_cross_attn_to_44, 0, NumDims.x_transformer_layers_1_cross_attn_to_118, NumDims.x_transformer_layers_1_cross_attn_to_44);
Vars.x_transformer_layers_1_cross_attn_to_44 = [];
Vars.x_transformer_layers_1_cross_attn_to_118 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_to_67 = fix(Vars.x_transformer_layers_1_cross_attn_to_78 ./ Vars.x_transformer_layers_1_cross_attn_to_46);
Vars.x_transformer_layers_1_cross_attn_to_46 = [];
Vars.x_transformer_layers_1_cross_attn_to_78 = [];
NumDims.x_transformer_layers_1_cross_attn_to_67 = max(NumDims.x_transformer_layers_1_cross_attn_to_78, NumDims.x_transformer_layers_1_cross_attn_to_46);

% Cast:
Vars.x_transformer_layers_1_cross_attn_to_11 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_to_67)), 'like', Vars.x_transformer_layers_1_cross_attn_to_67);
Vars.x_transformer_layers_1_cross_attn_to_67 = [];
NumDims.x_transformer_layers_1_cross_attn_to_11 = NumDims.x_transformer_layers_1_cross_attn_to_67;

% Cast:
Vars.x_transformer_layers_1_cross_attn_to_2 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_to_11)), 'like', Vars.x_transformer_layers_1_cross_attn_to_11);
Vars.x_transformer_layers_1_cross_attn_to_11 = [];
NumDims.x_transformer_layers_1_cross_attn_to_2 = NumDims.x_transformer_layers_1_cross_attn_to_11;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_167] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_93, Vars.onnx__Unsqueeze_1098, NumDims.x_transformer_layers_1_cross_attn_to_93);
Vars.onnx__Unsqueeze_1098 = [];
Vars.x_transformer_layers_1_cross_attn_to_167 = reshape(Vars.x_transformer_layers_1_cross_attn_to_93, shape);
Vars.x_transformer_layers_1_cross_attn_to_93 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_150] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_76, Vars.onnx__Unsqueeze_1100, NumDims.x_transformer_layers_1_cross_attn_to_76);
Vars.onnx__Unsqueeze_1100 = [];
Vars.x_transformer_layers_1_cross_attn_to_150 = reshape(Vars.x_transformer_layers_1_cross_attn_to_76, shape);
Vars.x_transformer_layers_1_cross_attn_to_76 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_152] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_2, Vars.onnx__Unsqueeze_1104, NumDims.x_transformer_layers_1_cross_attn_to_2);
Vars.onnx__Unsqueeze_1104 = [];
Vars.x_transformer_layers_1_cross_attn_to_152 = reshape(Vars.x_transformer_layers_1_cross_attn_to_2, shape);
Vars.x_transformer_layers_1_cross_attn_to_2 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_to_19, NumDims.x_transformer_layers_1_cross_attn_to_19] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_to_167, Vars.x_transformer_layers_1_cross_attn_to_150, Vars.x_transformer_layers_1_cross_attn_to_48, Vars.x_transformer_layers_1_cross_attn_to_152}, [NumDims.x_transformer_layers_1_cross_attn_to_167, NumDims.x_transformer_layers_1_cross_attn_to_150, NumDims.x_transformer_layers_1_cross_attn_to_48, NumDims.x_transformer_layers_1_cross_attn_to_152]);
Vars.x_transformer_layers_1_cross_attn_to_152 = [];
Vars.x_transformer_layers_1_cross_attn_to_48 = [];
Vars.x_transformer_layers_1_cross_attn_to_150 = [];
Vars.x_transformer_layers_1_cross_attn_to_167 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_107] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_to_177, Vars.x_transformer_layers_1_cross_attn_to_19, NumDims.x_transformer_layers_1_cross_attn_to_177, 0);
Vars.x_transformer_layers_1_cross_attn_to_19 = [];
Vars.x_transformer_layers_1_cross_attn_to_107 = reshape(Vars.x_transformer_layers_1_cross_attn_to_177, shape{:});
Vars.x_transformer_layers_1_cross_attn_to_177 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_to_143] = prepareTransposeArgs(Vars.TransposePerm1048, NumDims.x_transformer_layers_1_cross_attn_to_107);
Vars.TransposePerm1048 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_to_143 = permute(Vars.x_transformer_layers_1_cross_attn_to_107, perm);
Vars.x_transformer_layers_1_cross_attn_to_107 = [];
end

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_120, NumDims.x_transformer_layers_1_cross_attn_to_120] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_169, NumDims.x_transformer_layers_1_cross_attn_to_169);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_80, NumDims.x_transformer_layers_1_cross_attn_to_80] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_120, Vars.x_transformer_layers_1_cross_attn_to_50, 0, NumDims.x_transformer_layers_1_cross_attn_to_120, NumDims.x_transformer_layers_1_cross_attn_to_50);
Vars.x_transformer_layers_1_cross_attn_to_50 = [];
Vars.x_transformer_layers_1_cross_attn_to_120 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_122, NumDims.x_transformer_layers_1_cross_attn_to_122] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_169, NumDims.x_transformer_layers_1_cross_attn_to_169);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_82, NumDims.x_transformer_layers_1_cross_attn_to_82] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_122, Vars.x_transformer_layers_1_cross_attn_to_52, 0, NumDims.x_transformer_layers_1_cross_attn_to_122, NumDims.x_transformer_layers_1_cross_attn_to_52);
Vars.x_transformer_layers_1_cross_attn_to_52 = [];
Vars.x_transformer_layers_1_cross_attn_to_122 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_124, NumDims.x_transformer_layers_1_cross_attn_to_124] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_169, NumDims.x_transformer_layers_1_cross_attn_to_169);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_84, NumDims.x_transformer_layers_1_cross_attn_to_84] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_124, Vars.x_transformer_layers_1_cross_attn_to_54, 0, NumDims.x_transformer_layers_1_cross_attn_to_124, NumDims.x_transformer_layers_1_cross_attn_to_54);
Vars.x_transformer_layers_1_cross_attn_to_54 = [];
Vars.x_transformer_layers_1_cross_attn_to_124 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_to_62 = fix(Vars.x_transformer_layers_1_cross_attn_to_84 ./ Vars.x_transformer_layers_1_cross_attn_to_56);
Vars.x_transformer_layers_1_cross_attn_to_56 = [];
Vars.x_transformer_layers_1_cross_attn_to_84 = [];
NumDims.x_transformer_layers_1_cross_attn_to_62 = max(NumDims.x_transformer_layers_1_cross_attn_to_84, NumDims.x_transformer_layers_1_cross_attn_to_56);

% Cast:
Vars.x_transformer_layers_1_cross_attn_to_4 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_to_62)), 'like', Vars.x_transformer_layers_1_cross_attn_to_62);
Vars.x_transformer_layers_1_cross_attn_to_62 = [];
NumDims.x_transformer_layers_1_cross_attn_to_4 = NumDims.x_transformer_layers_1_cross_attn_to_62;

% Cast:
Vars.x_transformer_layers_1_cross_attn_to_6 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_to_4)), 'like', Vars.x_transformer_layers_1_cross_attn_to_4);
Vars.x_transformer_layers_1_cross_attn_to_4 = [];
NumDims.x_transformer_layers_1_cross_attn_to_6 = NumDims.x_transformer_layers_1_cross_attn_to_4;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_154] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_80, Vars.onnx__Unsqueeze_1122, NumDims.x_transformer_layers_1_cross_attn_to_80);
Vars.onnx__Unsqueeze_1122 = [];
Vars.x_transformer_layers_1_cross_attn_to_154 = reshape(Vars.x_transformer_layers_1_cross_attn_to_80, shape);
Vars.x_transformer_layers_1_cross_attn_to_80 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_156] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_82, Vars.onnx__Unsqueeze_1124, NumDims.x_transformer_layers_1_cross_attn_to_82);
Vars.onnx__Unsqueeze_1124 = [];
Vars.x_transformer_layers_1_cross_attn_to_156 = reshape(Vars.x_transformer_layers_1_cross_attn_to_82, shape);
Vars.x_transformer_layers_1_cross_attn_to_82 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_158] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_6, Vars.onnx__Unsqueeze_1128, NumDims.x_transformer_layers_1_cross_attn_to_6);
Vars.onnx__Unsqueeze_1128 = [];
Vars.x_transformer_layers_1_cross_attn_to_158 = reshape(Vars.x_transformer_layers_1_cross_attn_to_6, shape);
Vars.x_transformer_layers_1_cross_attn_to_6 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_to_14, NumDims.x_transformer_layers_1_cross_attn_to_14] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_to_154, Vars.x_transformer_layers_1_cross_attn_to_156, Vars.x_transformer_layers_1_cross_attn_to_58, Vars.x_transformer_layers_1_cross_attn_to_158}, [NumDims.x_transformer_layers_1_cross_attn_to_154, NumDims.x_transformer_layers_1_cross_attn_to_156, NumDims.x_transformer_layers_1_cross_attn_to_58, NumDims.x_transformer_layers_1_cross_attn_to_158]);
Vars.x_transformer_layers_1_cross_attn_to_158 = [];
Vars.x_transformer_layers_1_cross_attn_to_58 = [];
Vars.x_transformer_layers_1_cross_attn_to_156 = [];
Vars.x_transformer_layers_1_cross_attn_to_154 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_102] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_to_169, Vars.x_transformer_layers_1_cross_attn_to_14, NumDims.x_transformer_layers_1_cross_attn_to_169, 0);
Vars.x_transformer_layers_1_cross_attn_to_14 = [];
Vars.x_transformer_layers_1_cross_attn_to_102 = reshape(Vars.x_transformer_layers_1_cross_attn_to_169, shape{:});
Vars.x_transformer_layers_1_cross_attn_to_169 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_126, NumDims.x_transformer_layers_1_cross_attn_to_126] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_181, NumDims.x_transformer_layers_1_cross_attn_to_181);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_86, NumDims.x_transformer_layers_1_cross_attn_to_86] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_126, Vars.x_transformer_layers_1_cross_attn_to_23, 0, NumDims.x_transformer_layers_1_cross_attn_to_126, NumDims.x_transformer_layers_1_cross_attn_to_23);
Vars.x_transformer_layers_1_cross_attn_to_23 = [];
Vars.x_transformer_layers_1_cross_attn_to_126 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_128, NumDims.x_transformer_layers_1_cross_attn_to_128] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_181, NumDims.x_transformer_layers_1_cross_attn_to_181);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_88, NumDims.x_transformer_layers_1_cross_attn_to_88] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_128, Vars.x_transformer_layers_1_cross_attn_to_25, 0, NumDims.x_transformer_layers_1_cross_attn_to_128, NumDims.x_transformer_layers_1_cross_attn_to_25);
Vars.x_transformer_layers_1_cross_attn_to_25 = [];
Vars.x_transformer_layers_1_cross_attn_to_128 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_130, NumDims.x_transformer_layers_1_cross_attn_to_130] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_181, NumDims.x_transformer_layers_1_cross_attn_to_181);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_90, NumDims.x_transformer_layers_1_cross_attn_to_90] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_130, Vars.x_transformer_layers_1_cross_attn_to_27, 0, NumDims.x_transformer_layers_1_cross_attn_to_130, NumDims.x_transformer_layers_1_cross_attn_to_27);
Vars.x_transformer_layers_1_cross_attn_to_27 = [];
Vars.x_transformer_layers_1_cross_attn_to_130 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_to_64 = fix(Vars.x_transformer_layers_1_cross_attn_to_90 ./ Vars.x_transformer_layers_1_cross_attn_to_29);
Vars.x_transformer_layers_1_cross_attn_to_29 = [];
Vars.x_transformer_layers_1_cross_attn_to_90 = [];
NumDims.x_transformer_layers_1_cross_attn_to_64 = max(NumDims.x_transformer_layers_1_cross_attn_to_90, NumDims.x_transformer_layers_1_cross_attn_to_29);

% Cast:
Vars.x_transformer_layers_1_cross_attn_to_8 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_to_64)), 'like', Vars.x_transformer_layers_1_cross_attn_to_64);
Vars.x_transformer_layers_1_cross_attn_to_64 = [];
NumDims.x_transformer_layers_1_cross_attn_to_8 = NumDims.x_transformer_layers_1_cross_attn_to_64;

% Cast:
Vars.x_transformer_layers_1_cross_attn_to_10 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_to_8)), 'like', Vars.x_transformer_layers_1_cross_attn_to_8);
Vars.x_transformer_layers_1_cross_attn_to_8 = [];
NumDims.x_transformer_layers_1_cross_attn_to_10 = NumDims.x_transformer_layers_1_cross_attn_to_8;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_160] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_86, Vars.onnx__Unsqueeze_1145, NumDims.x_transformer_layers_1_cross_attn_to_86);
Vars.onnx__Unsqueeze_1145 = [];
Vars.x_transformer_layers_1_cross_attn_to_160 = reshape(Vars.x_transformer_layers_1_cross_attn_to_86, shape);
Vars.x_transformer_layers_1_cross_attn_to_86 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_162] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_88, Vars.onnx__Unsqueeze_1147, NumDims.x_transformer_layers_1_cross_attn_to_88);
Vars.onnx__Unsqueeze_1147 = [];
Vars.x_transformer_layers_1_cross_attn_to_162 = reshape(Vars.x_transformer_layers_1_cross_attn_to_88, shape);
Vars.x_transformer_layers_1_cross_attn_to_88 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_164] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_10, Vars.onnx__Unsqueeze_1151, NumDims.x_transformer_layers_1_cross_attn_to_10);
Vars.onnx__Unsqueeze_1151 = [];
Vars.x_transformer_layers_1_cross_attn_to_164 = reshape(Vars.x_transformer_layers_1_cross_attn_to_10, shape);
Vars.x_transformer_layers_1_cross_attn_to_10 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_to_16, NumDims.x_transformer_layers_1_cross_attn_to_16] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_to_160, Vars.x_transformer_layers_1_cross_attn_to_162, Vars.x_transformer_layers_1_cross_attn_to_31, Vars.x_transformer_layers_1_cross_attn_to_164}, [NumDims.x_transformer_layers_1_cross_attn_to_160, NumDims.x_transformer_layers_1_cross_attn_to_162, NumDims.x_transformer_layers_1_cross_attn_to_31, NumDims.x_transformer_layers_1_cross_attn_to_164]);
Vars.x_transformer_layers_1_cross_attn_to_164 = [];
Vars.x_transformer_layers_1_cross_attn_to_31 = [];
Vars.x_transformer_layers_1_cross_attn_to_162 = [];
Vars.x_transformer_layers_1_cross_attn_to_160 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_104] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_to_181, Vars.x_transformer_layers_1_cross_attn_to_16, NumDims.x_transformer_layers_1_cross_attn_to_181, 0);
Vars.x_transformer_layers_1_cross_attn_to_16 = [];
Vars.x_transformer_layers_1_cross_attn_to_104 = reshape(Vars.x_transformer_layers_1_cross_attn_to_181, shape{:});
Vars.x_transformer_layers_1_cross_attn_to_181 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_to_138] = prepareTransposeArgs(Vars.TransposePerm1049, NumDims.x_transformer_layers_1_cross_attn_to_104);
Vars.TransposePerm1049 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_to_138 = permute(Vars.x_transformer_layers_1_cross_attn_to_104, perm);
Vars.x_transformer_layers_1_cross_attn_to_104 = [];
end

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_to_140] = prepareTransposeArgs(Vars.TransposePerm1050, NumDims.x_transformer_layers_1_cross_attn_to_102);
Vars.TransposePerm1050 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_to_140 = permute(Vars.x_transformer_layers_1_cross_attn_to_102, perm);
Vars.x_transformer_layers_1_cross_attn_to_102 = [];
end

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_to_97, NumDims.x_transformer_layers_1_cross_attn_to_97] = onnxMatMul(Vars.x_transformer_layers_1_cross_attn_to_143, Vars.x_transformer_layers_1_cross_attn_to_140, NumDims.x_transformer_layers_1_cross_attn_to_143, NumDims.x_transformer_layers_1_cross_attn_to_140);
Vars.x_transformer_layers_1_cross_attn_to_140 = [];
Vars.x_transformer_layers_1_cross_attn_to_143 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_to_66 = Vars.x_transformer_layers_1_cross_attn_to_97 ./ Vars.x_transformer_layers_1_cross_attn_to_33;
Vars.x_transformer_layers_1_cross_attn_to_33 = [];
Vars.x_transformer_layers_1_cross_attn_to_97 = [];
NumDims.x_transformer_layers_1_cross_attn_to_66 = max(NumDims.x_transformer_layers_1_cross_attn_to_97, NumDims.x_transformer_layers_1_cross_attn_to_33);

% Softmax:
[Vars.x_transformer_layers_1_cross_attn_to_135, NumDims.x_transformer_layers_1_cross_attn_to_135] = onnxSoftmax13(Vars.x_transformer_layers_1_cross_attn_to_66, -1, NumDims.x_transformer_layers_1_cross_attn_to_66);
Vars.x_transformer_layers_1_cross_attn_to_66 = [];

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_to_96, NumDims.x_transformer_layers_1_cross_attn_to_96] = onnxMatMul(Vars.x_transformer_layers_1_cross_attn_to_135, Vars.x_transformer_layers_1_cross_attn_to_138, NumDims.x_transformer_layers_1_cross_attn_to_135, NumDims.x_transformer_layers_1_cross_attn_to_138);
Vars.x_transformer_layers_1_cross_attn_to_138 = [];
Vars.x_transformer_layers_1_cross_attn_to_135 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_132, NumDims.x_transformer_layers_1_cross_attn_to_132] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_96, NumDims.x_transformer_layers_1_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_92, NumDims.x_transformer_layers_1_cross_attn_to_92] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_132, Vars.x_transformer_layers_1_cross_attn_to_35, 0, NumDims.x_transformer_layers_1_cross_attn_to_132, NumDims.x_transformer_layers_1_cross_attn_to_35);
Vars.x_transformer_layers_1_cross_attn_to_35 = [];
Vars.x_transformer_layers_1_cross_attn_to_132 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_111, NumDims.x_transformer_layers_1_cross_attn_to_111] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_96, NumDims.x_transformer_layers_1_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_71, NumDims.x_transformer_layers_1_cross_attn_to_71] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_111, Vars.x_transformer_layers_1_cross_attn_to_37, 0, NumDims.x_transformer_layers_1_cross_attn_to_111, NumDims.x_transformer_layers_1_cross_attn_to_37);
Vars.x_transformer_layers_1_cross_attn_to_37 = [];
Vars.x_transformer_layers_1_cross_attn_to_111 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_113, NumDims.x_transformer_layers_1_cross_attn_to_113] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_96, NumDims.x_transformer_layers_1_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_73, NumDims.x_transformer_layers_1_cross_attn_to_73] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_113, Vars.x_transformer_layers_1_cross_attn_to_39, 0, NumDims.x_transformer_layers_1_cross_attn_to_113, NumDims.x_transformer_layers_1_cross_attn_to_39);
Vars.x_transformer_layers_1_cross_attn_to_39 = [];
Vars.x_transformer_layers_1_cross_attn_to_113 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_to_115, NumDims.x_transformer_layers_1_cross_attn_to_115] = onnxShape(Vars.x_transformer_layers_1_cross_attn_to_96, NumDims.x_transformer_layers_1_cross_attn_to_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_to_75, NumDims.x_transformer_layers_1_cross_attn_to_75] = onnxGather(Vars.x_transformer_layers_1_cross_attn_to_115, Vars.x_transformer_layers_1_cross_attn_to_41, 0, NumDims.x_transformer_layers_1_cross_attn_to_115, NumDims.x_transformer_layers_1_cross_attn_to_41);
Vars.x_transformer_layers_1_cross_attn_to_41 = [];
Vars.x_transformer_layers_1_cross_attn_to_115 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_to_142] = prepareTransposeArgs(Vars.TransposePerm1051, NumDims.x_transformer_layers_1_cross_attn_to_96);
Vars.TransposePerm1051 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_to_142 = permute(Vars.x_transformer_layers_1_cross_attn_to_96, perm);
Vars.x_transformer_layers_1_cross_attn_to_96 = [];
end

% Mul:
Vars.x_transformer_layers_1_cross_attn_to_99 = Vars.x_transformer_layers_1_cross_attn_to_71 .* Vars.x_transformer_layers_1_cross_attn_to_75;
Vars.x_transformer_layers_1_cross_attn_to_75 = [];
Vars.x_transformer_layers_1_cross_attn_to_71 = [];
NumDims.x_transformer_layers_1_cross_attn_to_99 = max(NumDims.x_transformer_layers_1_cross_attn_to_71, NumDims.x_transformer_layers_1_cross_attn_to_75);

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_166] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_92, Vars.onnx__Unsqueeze_1176, NumDims.x_transformer_layers_1_cross_attn_to_92);
Vars.onnx__Unsqueeze_1176 = [];
Vars.x_transformer_layers_1_cross_attn_to_166 = reshape(Vars.x_transformer_layers_1_cross_attn_to_92, shape);
Vars.x_transformer_layers_1_cross_attn_to_92 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_147] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_73, Vars.onnx__Unsqueeze_1178, NumDims.x_transformer_layers_1_cross_attn_to_73);
Vars.onnx__Unsqueeze_1178 = [];
Vars.x_transformer_layers_1_cross_attn_to_147 = reshape(Vars.x_transformer_layers_1_cross_attn_to_73, shape);
Vars.x_transformer_layers_1_cross_attn_to_73 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_149] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_to_99, Vars.onnx__Unsqueeze_1180, NumDims.x_transformer_layers_1_cross_attn_to_99);
Vars.onnx__Unsqueeze_1180 = [];
Vars.x_transformer_layers_1_cross_attn_to_149 = reshape(Vars.x_transformer_layers_1_cross_attn_to_99, shape);
Vars.x_transformer_layers_1_cross_attn_to_99 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_to_18, NumDims.x_transformer_layers_1_cross_attn_to_18] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_to_166, Vars.x_transformer_layers_1_cross_attn_to_147, Vars.x_transformer_layers_1_cross_attn_to_149}, [NumDims.x_transformer_layers_1_cross_attn_to_166, NumDims.x_transformer_layers_1_cross_attn_to_147, NumDims.x_transformer_layers_1_cross_attn_to_149]);
Vars.x_transformer_layers_1_cross_attn_to_149 = [];
Vars.x_transformer_layers_1_cross_attn_to_147 = [];
Vars.x_transformer_layers_1_cross_attn_to_166 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_to_106] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_to_142, Vars.x_transformer_layers_1_cross_attn_to_18, NumDims.x_transformer_layers_1_cross_attn_to_142, 0);
Vars.x_transformer_layers_1_cross_attn_to_18 = [];
Vars.x_transformer_layers_1_cross_attn_to_106 = reshape(Vars.x_transformer_layers_1_cross_attn_to_142, shape{:});
Vars.x_transformer_layers_1_cross_attn_to_142 = [];

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_to_175, NumDims.x_transformer_layers_1_cross_attn_to_175] = onnxMatMul(Vars.x_transformer_layers_1_cross_attn_to_106, Vars.onnx__MatMul_1699, NumDims.x_transformer_layers_1_cross_attn_to_106, NumDims.onnx__MatMul_1699);
Vars.onnx__MatMul_1699 = [];
Vars.x_transformer_layers_1_cross_attn_to_106 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_to_173 = Vars.mask_decoder_transformer_layers_1_cros_5 + Vars.x_transformer_layers_1_cross_attn_to_175;
Vars.x_transformer_layers_1_cross_attn_to_175 = [];
Vars.mask_decoder_transformer_layers_1_cros_5 = [];
NumDims.x_transformer_layers_1_cross_attn_to_173 = max(NumDims.mask_decoder_transformer_layers_1_cros_5, NumDims.x_transformer_layers_1_cross_attn_to_175);

% Add:
Vars.x_transformer_layers_1_Add_3_output_0 = Vars.x_transformer_layers_1_norm1_Add_1_outpu + Vars.x_transformer_layers_1_cross_attn_to_173;
Vars.x_transformer_layers_1_cross_attn_to_173 = [];
Vars.x_transformer_layers_1_norm1_Add_1_outpu = [];
NumDims.x_transformer_layers_1_Add_3_output_0 = max(NumDims.x_transformer_layers_1_norm1_Add_1_outpu, NumDims.x_transformer_layers_1_cross_attn_to_173);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1052, NumDims.x_transformer_layers_1_Add_3_output_0);
Vars.ReduceMeanAxes1052 = [];
Vars.x_transformer_layers_1_norm2_ReduceMea_2 = mean(Vars.x_transformer_layers_1_Add_3_output_0, dims);
NumDims.x_transformer_layers_1_norm2_ReduceMea_2 = NumDims.x_transformer_layers_1_Add_3_output_0;

% Sub:
Vars.x_transformer_layers_1_norm2_Sub_output_ = Vars.x_transformer_layers_1_Add_3_output_0 - Vars.x_transformer_layers_1_norm2_ReduceMea_2;
Vars.x_transformer_layers_1_norm2_ReduceMea_2 = [];
Vars.x_transformer_layers_1_Add_3_output_0 = [];
NumDims.x_transformer_layers_1_norm2_Sub_output_ = max(NumDims.x_transformer_layers_1_Add_3_output_0, NumDims.x_transformer_layers_1_norm2_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_1_norm2_Pow_output_ = power(Vars.x_transformer_layers_1_norm2_Sub_output_, Vars.x_transformer_layers_1_norm2_Constant_ou);
Vars.x_transformer_layers_1_norm2_Constant_ou = [];
NumDims.x_transformer_layers_1_norm2_Pow_output_ = max(NumDims.x_transformer_layers_1_norm2_Sub_output_, NumDims.x_transformer_layers_1_norm2_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1053, NumDims.x_transformer_layers_1_norm2_Pow_output_);
Vars.ReduceMeanAxes1053 = [];
Vars.x_transformer_layers_1_norm2_ReduceMea_1 = mean(Vars.x_transformer_layers_1_norm2_Pow_output_, dims);
Vars.x_transformer_layers_1_norm2_Pow_output_ = [];
NumDims.x_transformer_layers_1_norm2_ReduceMea_1 = NumDims.x_transformer_layers_1_norm2_Pow_output_;

% Add:
Vars.x_transformer_layers_1_norm2_Add_output_ = Vars.x_transformer_layers_1_norm2_ReduceMea_1 + Vars.x_transformer_layers_1_norm2_Constant_1_;
Vars.x_transformer_layers_1_norm2_Constant_1_ = [];
Vars.x_transformer_layers_1_norm2_ReduceMea_1 = [];
NumDims.x_transformer_layers_1_norm2_Add_output_ = max(NumDims.x_transformer_layers_1_norm2_ReduceMea_1, NumDims.x_transformer_layers_1_norm2_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_1_norm2_Sqrt_output = sqrt(Vars.x_transformer_layers_1_norm2_Add_output_);
Vars.x_transformer_layers_1_norm2_Add_output_ = [];
NumDims.x_transformer_layers_1_norm2_Sqrt_output = NumDims.x_transformer_layers_1_norm2_Add_output_;

% Div:
Vars.x_transformer_layers_1_norm2_Div_output_ = Vars.x_transformer_layers_1_norm2_Sub_output_ ./ Vars.x_transformer_layers_1_norm2_Sqrt_output;
Vars.x_transformer_layers_1_norm2_Sqrt_output = [];
Vars.x_transformer_layers_1_norm2_Sub_output_ = [];
NumDims.x_transformer_layers_1_norm2_Div_output_ = max(NumDims.x_transformer_layers_1_norm2_Sub_output_, NumDims.x_transformer_layers_1_norm2_Sqrt_output);

% Mul:
Vars.x_transformer_layers_1_norm2_Mul_output_ = Vars.x_transformer_layers_1_norm2_Div_output_ .* Vars.mask_decoder_transformer_layers_1_norm_2;
Vars.mask_decoder_transformer_layers_1_norm_2 = [];
Vars.x_transformer_layers_1_norm2_Div_output_ = [];
NumDims.x_transformer_layers_1_norm2_Mul_output_ = max(NumDims.x_transformer_layers_1_norm2_Div_output_, NumDims.mask_decoder_transformer_layers_1_norm_2);

% Add:
Vars.x_transformer_layers_1_norm2_Add_1_outpu = Vars.x_transformer_layers_1_norm2_Mul_output_ + Vars.mask_decoder_transformer_layers_1_norm2_;
Vars.mask_decoder_transformer_layers_1_norm2_ = [];
Vars.x_transformer_layers_1_norm2_Mul_output_ = [];
NumDims.x_transformer_layers_1_norm2_Add_1_outpu = max(NumDims.x_transformer_layers_1_norm2_Mul_output_, NumDims.mask_decoder_transformer_layers_1_norm2_);

% MatMul:
[Vars.x_transformer_layers_1_mlp_lin1_MatMul_o, NumDims.x_transformer_layers_1_mlp_lin1_MatMul_o] = onnxMatMul(Vars.x_transformer_layers_1_norm2_Add_1_outpu, Vars.onnx__MatMul_1700, NumDims.x_transformer_layers_1_norm2_Add_1_outpu, NumDims.onnx__MatMul_1700);
Vars.onnx__MatMul_1700 = [];

% Add:
Vars.x_transformer_layers_1_mlp_lin1_Add_outp = Vars.mask_decoder_transformer_layers_1_mlp_li + Vars.x_transformer_layers_1_mlp_lin1_MatMul_o;
Vars.x_transformer_layers_1_mlp_lin1_MatMul_o = [];
Vars.mask_decoder_transformer_layers_1_mlp_li = [];
NumDims.x_transformer_layers_1_mlp_lin1_Add_outp = max(NumDims.mask_decoder_transformer_layers_1_mlp_li, NumDims.x_transformer_layers_1_mlp_lin1_MatMul_o);

% Relu:
Vars.x_transformer_layers_1_mlp_act_Relu_outp = relu(Vars.x_transformer_layers_1_mlp_lin1_Add_outp);
Vars.x_transformer_layers_1_mlp_lin1_Add_outp = [];
NumDims.x_transformer_layers_1_mlp_act_Relu_outp = NumDims.x_transformer_layers_1_mlp_lin1_Add_outp;

% MatMul:
[Vars.x_transformer_layers_1_mlp_lin2_MatMul_o, NumDims.x_transformer_layers_1_mlp_lin2_MatMul_o] = onnxMatMul(Vars.x_transformer_layers_1_mlp_act_Relu_outp, Vars.onnx__MatMul_1701, NumDims.x_transformer_layers_1_mlp_act_Relu_outp, NumDims.onnx__MatMul_1701);
Vars.onnx__MatMul_1701 = [];
Vars.x_transformer_layers_1_mlp_act_Relu_outp = [];

% Add:
Vars.x_transformer_layers_1_mlp_lin2_Add_outp = Vars.mask_decoder_transformer_layers_1_mlp__1 + Vars.x_transformer_layers_1_mlp_lin2_MatMul_o;
Vars.x_transformer_layers_1_mlp_lin2_MatMul_o = [];
Vars.mask_decoder_transformer_layers_1_mlp__1 = [];
NumDims.x_transformer_layers_1_mlp_lin2_Add_outp = max(NumDims.mask_decoder_transformer_layers_1_mlp__1, NumDims.x_transformer_layers_1_mlp_lin2_MatMul_o);

% Add:
Vars.x_transformer_layers_1_Add_4_output_0 = Vars.x_transformer_layers_1_norm2_Add_1_outpu + Vars.x_transformer_layers_1_mlp_lin2_Add_outp;
Vars.x_transformer_layers_1_mlp_lin2_Add_outp = [];
Vars.x_transformer_layers_1_norm2_Add_1_outpu = [];
NumDims.x_transformer_layers_1_Add_4_output_0 = max(NumDims.x_transformer_layers_1_norm2_Add_1_outpu, NumDims.x_transformer_layers_1_mlp_lin2_Add_outp);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1054, NumDims.x_transformer_layers_1_Add_4_output_0);
Vars.ReduceMeanAxes1054 = [];
Vars.x_transformer_layers_1_norm3_ReduceMea_2 = mean(Vars.x_transformer_layers_1_Add_4_output_0, dims);
NumDims.x_transformer_layers_1_norm3_ReduceMea_2 = NumDims.x_transformer_layers_1_Add_4_output_0;

% Sub:
Vars.x_transformer_layers_1_norm3_Sub_output_ = Vars.x_transformer_layers_1_Add_4_output_0 - Vars.x_transformer_layers_1_norm3_ReduceMea_2;
Vars.x_transformer_layers_1_norm3_ReduceMea_2 = [];
Vars.x_transformer_layers_1_Add_4_output_0 = [];
NumDims.x_transformer_layers_1_norm3_Sub_output_ = max(NumDims.x_transformer_layers_1_Add_4_output_0, NumDims.x_transformer_layers_1_norm3_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_1_norm3_Pow_output_ = power(Vars.x_transformer_layers_1_norm3_Sub_output_, Vars.x_transformer_layers_1_norm3_Constant_ou);
Vars.x_transformer_layers_1_norm3_Constant_ou = [];
NumDims.x_transformer_layers_1_norm3_Pow_output_ = max(NumDims.x_transformer_layers_1_norm3_Sub_output_, NumDims.x_transformer_layers_1_norm3_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1055, NumDims.x_transformer_layers_1_norm3_Pow_output_);
Vars.ReduceMeanAxes1055 = [];
Vars.x_transformer_layers_1_norm3_ReduceMea_1 = mean(Vars.x_transformer_layers_1_norm3_Pow_output_, dims);
Vars.x_transformer_layers_1_norm3_Pow_output_ = [];
NumDims.x_transformer_layers_1_norm3_ReduceMea_1 = NumDims.x_transformer_layers_1_norm3_Pow_output_;

% Add:
Vars.x_transformer_layers_1_norm3_Add_output_ = Vars.x_transformer_layers_1_norm3_ReduceMea_1 + Vars.x_transformer_layers_1_norm3_Constant_1_;
Vars.x_transformer_layers_1_norm3_Constant_1_ = [];
Vars.x_transformer_layers_1_norm3_ReduceMea_1 = [];
NumDims.x_transformer_layers_1_norm3_Add_output_ = max(NumDims.x_transformer_layers_1_norm3_ReduceMea_1, NumDims.x_transformer_layers_1_norm3_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_1_norm3_Sqrt_output = sqrt(Vars.x_transformer_layers_1_norm3_Add_output_);
Vars.x_transformer_layers_1_norm3_Add_output_ = [];
NumDims.x_transformer_layers_1_norm3_Sqrt_output = NumDims.x_transformer_layers_1_norm3_Add_output_;

% Div:
Vars.x_transformer_layers_1_norm3_Div_output_ = Vars.x_transformer_layers_1_norm3_Sub_output_ ./ Vars.x_transformer_layers_1_norm3_Sqrt_output;
Vars.x_transformer_layers_1_norm3_Sqrt_output = [];
Vars.x_transformer_layers_1_norm3_Sub_output_ = [];
NumDims.x_transformer_layers_1_norm3_Div_output_ = max(NumDims.x_transformer_layers_1_norm3_Sub_output_, NumDims.x_transformer_layers_1_norm3_Sqrt_output);

% Mul:
Vars.x_transformer_layers_1_norm3_Mul_output_ = Vars.x_transformer_layers_1_norm3_Div_output_ .* Vars.mask_decoder_transformer_layers_1_norm_3;
Vars.mask_decoder_transformer_layers_1_norm_3 = [];
Vars.x_transformer_layers_1_norm3_Div_output_ = [];
NumDims.x_transformer_layers_1_norm3_Mul_output_ = max(NumDims.x_transformer_layers_1_norm3_Div_output_, NumDims.mask_decoder_transformer_layers_1_norm_3);

% Add:
Vars.x_transformer_layers_1_norm3_Add_1_outpu = Vars.x_transformer_layers_1_norm3_Mul_output_ + Vars.mask_decoder_transformer_layers_1_norm3_;
Vars.mask_decoder_transformer_layers_1_norm3_ = [];
Vars.x_transformer_layers_1_norm3_Mul_output_ = [];
NumDims.x_transformer_layers_1_norm3_Add_1_outpu = max(NumDims.x_transformer_layers_1_norm3_Mul_output_, NumDims.mask_decoder_transformer_layers_1_norm3_);

% Add:
Vars.x_transformer_layers_1_Add_5_output_0 = Vars.x_transformer_layers_1_norm3_Add_1_outpu + Vars.x_Concat_2_output_0;
Vars.x_Concat_2_output_0 = [];
NumDims.x_transformer_layers_1_Add_5_output_0 = max(NumDims.x_transformer_layers_1_norm3_Add_1_outpu, NumDims.x_Concat_2_output_0);

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_im_179, NumDims.x_transformer_layers_1_cross_attn_im_179] = onnxMatMul(Vars.x_transformer_layers_1_Add_2_output_0, Vars.onnx__MatMul_1702, NumDims.x_transformer_layers_1_Add_2_output_0, NumDims.onnx__MatMul_1702);
Vars.onnx__MatMul_1702 = [];
Vars.x_transformer_layers_1_Add_2_output_0 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_im_177 = Vars.mask_decoder_transformer_layers_1_cros_2 + Vars.x_transformer_layers_1_cross_attn_im_179;
Vars.x_transformer_layers_1_cross_attn_im_179 = [];
Vars.mask_decoder_transformer_layers_1_cros_2 = [];
NumDims.x_transformer_layers_1_cross_attn_im_177 = max(NumDims.mask_decoder_transformer_layers_1_cros_2, NumDims.x_transformer_layers_1_cross_attn_im_179);

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_im_171, NumDims.x_transformer_layers_1_cross_attn_im_171] = onnxMatMul(Vars.x_transformer_layers_1_Add_5_output_0, Vars.onnx__MatMul_1703, NumDims.x_transformer_layers_1_Add_5_output_0, NumDims.onnx__MatMul_1703);
Vars.onnx__MatMul_1703 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_im_169 = Vars.mask_decoder_transformer_layers_1_cross_ + Vars.x_transformer_layers_1_cross_attn_im_171;
Vars.x_transformer_layers_1_cross_attn_im_171 = [];
Vars.mask_decoder_transformer_layers_1_cross_ = [];
NumDims.x_transformer_layers_1_cross_attn_im_169 = max(NumDims.mask_decoder_transformer_layers_1_cross_, NumDims.x_transformer_layers_1_cross_attn_im_171);

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_im_183, NumDims.x_transformer_layers_1_cross_attn_im_183] = onnxMatMul(Vars.x_transformer_layers_1_norm3_Add_1_outpu, Vars.onnx__MatMul_1704, NumDims.x_transformer_layers_1_norm3_Add_1_outpu, NumDims.onnx__MatMul_1704);
Vars.onnx__MatMul_1704 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_im_181 = Vars.mask_decoder_transformer_layers_1_cros_3 + Vars.x_transformer_layers_1_cross_attn_im_183;
Vars.x_transformer_layers_1_cross_attn_im_183 = [];
Vars.mask_decoder_transformer_layers_1_cros_3 = [];
NumDims.x_transformer_layers_1_cross_attn_im_181 = max(NumDims.mask_decoder_transformer_layers_1_cros_3, NumDims.x_transformer_layers_1_cross_attn_im_183);

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_133, NumDims.x_transformer_layers_1_cross_attn_im_133] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_177, NumDims.x_transformer_layers_1_cross_attn_im_177);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_93, NumDims.x_transformer_layers_1_cross_attn_im_93] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_133, Vars.x_transformer_layers_1_cross_attn_im_59, 0, NumDims.x_transformer_layers_1_cross_attn_im_133, NumDims.x_transformer_layers_1_cross_attn_im_59);
Vars.x_transformer_layers_1_cross_attn_im_59 = [];
Vars.x_transformer_layers_1_cross_attn_im_133 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_116, NumDims.x_transformer_layers_1_cross_attn_im_116] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_177, NumDims.x_transformer_layers_1_cross_attn_im_177);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_76, NumDims.x_transformer_layers_1_cross_attn_im_76] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_116, Vars.x_transformer_layers_1_cross_attn_im_42, 0, NumDims.x_transformer_layers_1_cross_attn_im_116, NumDims.x_transformer_layers_1_cross_attn_im_42);
Vars.x_transformer_layers_1_cross_attn_im_42 = [];
Vars.x_transformer_layers_1_cross_attn_im_116 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_118, NumDims.x_transformer_layers_1_cross_attn_im_118] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_177, NumDims.x_transformer_layers_1_cross_attn_im_177);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_78, NumDims.x_transformer_layers_1_cross_attn_im_78] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_118, Vars.x_transformer_layers_1_cross_attn_im_44, 0, NumDims.x_transformer_layers_1_cross_attn_im_118, NumDims.x_transformer_layers_1_cross_attn_im_44);
Vars.x_transformer_layers_1_cross_attn_im_44 = [];
Vars.x_transformer_layers_1_cross_attn_im_118 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_im_67 = fix(Vars.x_transformer_layers_1_cross_attn_im_78 ./ Vars.x_transformer_layers_1_cross_attn_im_46);
Vars.x_transformer_layers_1_cross_attn_im_46 = [];
Vars.x_transformer_layers_1_cross_attn_im_78 = [];
NumDims.x_transformer_layers_1_cross_attn_im_67 = max(NumDims.x_transformer_layers_1_cross_attn_im_78, NumDims.x_transformer_layers_1_cross_attn_im_46);

% Cast:
Vars.x_transformer_layers_1_cross_attn_im_11 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_im_67)), 'like', Vars.x_transformer_layers_1_cross_attn_im_67);
Vars.x_transformer_layers_1_cross_attn_im_67 = [];
NumDims.x_transformer_layers_1_cross_attn_im_11 = NumDims.x_transformer_layers_1_cross_attn_im_67;

% Cast:
Vars.x_transformer_layers_1_cross_attn_im_2 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_im_11)), 'like', Vars.x_transformer_layers_1_cross_attn_im_11);
Vars.x_transformer_layers_1_cross_attn_im_11 = [];
NumDims.x_transformer_layers_1_cross_attn_im_2 = NumDims.x_transformer_layers_1_cross_attn_im_11;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_167] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_93, Vars.onnx__Unsqueeze_1241, NumDims.x_transformer_layers_1_cross_attn_im_93);
Vars.onnx__Unsqueeze_1241 = [];
Vars.x_transformer_layers_1_cross_attn_im_167 = reshape(Vars.x_transformer_layers_1_cross_attn_im_93, shape);
Vars.x_transformer_layers_1_cross_attn_im_93 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_150] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_76, Vars.onnx__Unsqueeze_1243, NumDims.x_transformer_layers_1_cross_attn_im_76);
Vars.onnx__Unsqueeze_1243 = [];
Vars.x_transformer_layers_1_cross_attn_im_150 = reshape(Vars.x_transformer_layers_1_cross_attn_im_76, shape);
Vars.x_transformer_layers_1_cross_attn_im_76 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_152] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_2, Vars.onnx__Unsqueeze_1247, NumDims.x_transformer_layers_1_cross_attn_im_2);
Vars.onnx__Unsqueeze_1247 = [];
Vars.x_transformer_layers_1_cross_attn_im_152 = reshape(Vars.x_transformer_layers_1_cross_attn_im_2, shape);
Vars.x_transformer_layers_1_cross_attn_im_2 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_im_19, NumDims.x_transformer_layers_1_cross_attn_im_19] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_im_167, Vars.x_transformer_layers_1_cross_attn_im_150, Vars.x_transformer_layers_1_cross_attn_im_48, Vars.x_transformer_layers_1_cross_attn_im_152}, [NumDims.x_transformer_layers_1_cross_attn_im_167, NumDims.x_transformer_layers_1_cross_attn_im_150, NumDims.x_transformer_layers_1_cross_attn_im_48, NumDims.x_transformer_layers_1_cross_attn_im_152]);
Vars.x_transformer_layers_1_cross_attn_im_152 = [];
Vars.x_transformer_layers_1_cross_attn_im_48 = [];
Vars.x_transformer_layers_1_cross_attn_im_150 = [];
Vars.x_transformer_layers_1_cross_attn_im_167 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_107] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_im_177, Vars.x_transformer_layers_1_cross_attn_im_19, NumDims.x_transformer_layers_1_cross_attn_im_177, 0);
Vars.x_transformer_layers_1_cross_attn_im_19 = [];
Vars.x_transformer_layers_1_cross_attn_im_107 = reshape(Vars.x_transformer_layers_1_cross_attn_im_177, shape{:});
Vars.x_transformer_layers_1_cross_attn_im_177 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_im_143] = prepareTransposeArgs(Vars.TransposePerm1056, NumDims.x_transformer_layers_1_cross_attn_im_107);
Vars.TransposePerm1056 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_im_143 = permute(Vars.x_transformer_layers_1_cross_attn_im_107, perm);
Vars.x_transformer_layers_1_cross_attn_im_107 = [];
end

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_120, NumDims.x_transformer_layers_1_cross_attn_im_120] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_169, NumDims.x_transformer_layers_1_cross_attn_im_169);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_80, NumDims.x_transformer_layers_1_cross_attn_im_80] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_120, Vars.x_transformer_layers_1_cross_attn_im_50, 0, NumDims.x_transformer_layers_1_cross_attn_im_120, NumDims.x_transformer_layers_1_cross_attn_im_50);
Vars.x_transformer_layers_1_cross_attn_im_50 = [];
Vars.x_transformer_layers_1_cross_attn_im_120 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_122, NumDims.x_transformer_layers_1_cross_attn_im_122] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_169, NumDims.x_transformer_layers_1_cross_attn_im_169);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_82, NumDims.x_transformer_layers_1_cross_attn_im_82] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_122, Vars.x_transformer_layers_1_cross_attn_im_52, 0, NumDims.x_transformer_layers_1_cross_attn_im_122, NumDims.x_transformer_layers_1_cross_attn_im_52);
Vars.x_transformer_layers_1_cross_attn_im_52 = [];
Vars.x_transformer_layers_1_cross_attn_im_122 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_124, NumDims.x_transformer_layers_1_cross_attn_im_124] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_169, NumDims.x_transformer_layers_1_cross_attn_im_169);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_84, NumDims.x_transformer_layers_1_cross_attn_im_84] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_124, Vars.x_transformer_layers_1_cross_attn_im_54, 0, NumDims.x_transformer_layers_1_cross_attn_im_124, NumDims.x_transformer_layers_1_cross_attn_im_54);
Vars.x_transformer_layers_1_cross_attn_im_54 = [];
Vars.x_transformer_layers_1_cross_attn_im_124 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_im_62 = fix(Vars.x_transformer_layers_1_cross_attn_im_84 ./ Vars.x_transformer_layers_1_cross_attn_im_56);
Vars.x_transformer_layers_1_cross_attn_im_56 = [];
Vars.x_transformer_layers_1_cross_attn_im_84 = [];
NumDims.x_transformer_layers_1_cross_attn_im_62 = max(NumDims.x_transformer_layers_1_cross_attn_im_84, NumDims.x_transformer_layers_1_cross_attn_im_56);

% Cast:
Vars.x_transformer_layers_1_cross_attn_im_4 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_im_62)), 'like', Vars.x_transformer_layers_1_cross_attn_im_62);
Vars.x_transformer_layers_1_cross_attn_im_62 = [];
NumDims.x_transformer_layers_1_cross_attn_im_4 = NumDims.x_transformer_layers_1_cross_attn_im_62;

% Cast:
Vars.x_transformer_layers_1_cross_attn_im_6 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_im_4)), 'like', Vars.x_transformer_layers_1_cross_attn_im_4);
Vars.x_transformer_layers_1_cross_attn_im_4 = [];
NumDims.x_transformer_layers_1_cross_attn_im_6 = NumDims.x_transformer_layers_1_cross_attn_im_4;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_154] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_80, Vars.onnx__Unsqueeze_1265, NumDims.x_transformer_layers_1_cross_attn_im_80);
Vars.onnx__Unsqueeze_1265 = [];
Vars.x_transformer_layers_1_cross_attn_im_154 = reshape(Vars.x_transformer_layers_1_cross_attn_im_80, shape);
Vars.x_transformer_layers_1_cross_attn_im_80 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_156] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_82, Vars.onnx__Unsqueeze_1267, NumDims.x_transformer_layers_1_cross_attn_im_82);
Vars.onnx__Unsqueeze_1267 = [];
Vars.x_transformer_layers_1_cross_attn_im_156 = reshape(Vars.x_transformer_layers_1_cross_attn_im_82, shape);
Vars.x_transformer_layers_1_cross_attn_im_82 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_158] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_6, Vars.onnx__Unsqueeze_1271, NumDims.x_transformer_layers_1_cross_attn_im_6);
Vars.onnx__Unsqueeze_1271 = [];
Vars.x_transformer_layers_1_cross_attn_im_158 = reshape(Vars.x_transformer_layers_1_cross_attn_im_6, shape);
Vars.x_transformer_layers_1_cross_attn_im_6 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_im_14, NumDims.x_transformer_layers_1_cross_attn_im_14] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_im_154, Vars.x_transformer_layers_1_cross_attn_im_156, Vars.x_transformer_layers_1_cross_attn_im_58, Vars.x_transformer_layers_1_cross_attn_im_158}, [NumDims.x_transformer_layers_1_cross_attn_im_154, NumDims.x_transformer_layers_1_cross_attn_im_156, NumDims.x_transformer_layers_1_cross_attn_im_58, NumDims.x_transformer_layers_1_cross_attn_im_158]);
Vars.x_transformer_layers_1_cross_attn_im_158 = [];
Vars.x_transformer_layers_1_cross_attn_im_58 = [];
Vars.x_transformer_layers_1_cross_attn_im_156 = [];
Vars.x_transformer_layers_1_cross_attn_im_154 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_102] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_im_169, Vars.x_transformer_layers_1_cross_attn_im_14, NumDims.x_transformer_layers_1_cross_attn_im_169, 0);
Vars.x_transformer_layers_1_cross_attn_im_14 = [];
Vars.x_transformer_layers_1_cross_attn_im_102 = reshape(Vars.x_transformer_layers_1_cross_attn_im_169, shape{:});
Vars.x_transformer_layers_1_cross_attn_im_169 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_126, NumDims.x_transformer_layers_1_cross_attn_im_126] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_181, NumDims.x_transformer_layers_1_cross_attn_im_181);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_86, NumDims.x_transformer_layers_1_cross_attn_im_86] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_126, Vars.x_transformer_layers_1_cross_attn_im_23, 0, NumDims.x_transformer_layers_1_cross_attn_im_126, NumDims.x_transformer_layers_1_cross_attn_im_23);
Vars.x_transformer_layers_1_cross_attn_im_23 = [];
Vars.x_transformer_layers_1_cross_attn_im_126 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_128, NumDims.x_transformer_layers_1_cross_attn_im_128] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_181, NumDims.x_transformer_layers_1_cross_attn_im_181);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_88, NumDims.x_transformer_layers_1_cross_attn_im_88] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_128, Vars.x_transformer_layers_1_cross_attn_im_25, 0, NumDims.x_transformer_layers_1_cross_attn_im_128, NumDims.x_transformer_layers_1_cross_attn_im_25);
Vars.x_transformer_layers_1_cross_attn_im_25 = [];
Vars.x_transformer_layers_1_cross_attn_im_128 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_130, NumDims.x_transformer_layers_1_cross_attn_im_130] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_181, NumDims.x_transformer_layers_1_cross_attn_im_181);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_90, NumDims.x_transformer_layers_1_cross_attn_im_90] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_130, Vars.x_transformer_layers_1_cross_attn_im_27, 0, NumDims.x_transformer_layers_1_cross_attn_im_130, NumDims.x_transformer_layers_1_cross_attn_im_27);
Vars.x_transformer_layers_1_cross_attn_im_27 = [];
Vars.x_transformer_layers_1_cross_attn_im_130 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_im_64 = fix(Vars.x_transformer_layers_1_cross_attn_im_90 ./ Vars.x_transformer_layers_1_cross_attn_im_29);
Vars.x_transformer_layers_1_cross_attn_im_29 = [];
Vars.x_transformer_layers_1_cross_attn_im_90 = [];
NumDims.x_transformer_layers_1_cross_attn_im_64 = max(NumDims.x_transformer_layers_1_cross_attn_im_90, NumDims.x_transformer_layers_1_cross_attn_im_29);

% Cast:
Vars.x_transformer_layers_1_cross_attn_im_8 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_im_64)), 'like', Vars.x_transformer_layers_1_cross_attn_im_64);
Vars.x_transformer_layers_1_cross_attn_im_64 = [];
NumDims.x_transformer_layers_1_cross_attn_im_8 = NumDims.x_transformer_layers_1_cross_attn_im_64;

% Cast:
Vars.x_transformer_layers_1_cross_attn_im_10 = cast(int64(extractdata(Vars.x_transformer_layers_1_cross_attn_im_8)), 'like', Vars.x_transformer_layers_1_cross_attn_im_8);
Vars.x_transformer_layers_1_cross_attn_im_8 = [];
NumDims.x_transformer_layers_1_cross_attn_im_10 = NumDims.x_transformer_layers_1_cross_attn_im_8;

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_160] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_86, Vars.onnx__Unsqueeze_1288, NumDims.x_transformer_layers_1_cross_attn_im_86);
Vars.onnx__Unsqueeze_1288 = [];
Vars.x_transformer_layers_1_cross_attn_im_160 = reshape(Vars.x_transformer_layers_1_cross_attn_im_86, shape);
Vars.x_transformer_layers_1_cross_attn_im_86 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_162] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_88, Vars.onnx__Unsqueeze_1290, NumDims.x_transformer_layers_1_cross_attn_im_88);
Vars.onnx__Unsqueeze_1290 = [];
Vars.x_transformer_layers_1_cross_attn_im_162 = reshape(Vars.x_transformer_layers_1_cross_attn_im_88, shape);
Vars.x_transformer_layers_1_cross_attn_im_88 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_164] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_10, Vars.onnx__Unsqueeze_1294, NumDims.x_transformer_layers_1_cross_attn_im_10);
Vars.onnx__Unsqueeze_1294 = [];
Vars.x_transformer_layers_1_cross_attn_im_164 = reshape(Vars.x_transformer_layers_1_cross_attn_im_10, shape);
Vars.x_transformer_layers_1_cross_attn_im_10 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_im_16, NumDims.x_transformer_layers_1_cross_attn_im_16] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_im_160, Vars.x_transformer_layers_1_cross_attn_im_162, Vars.x_transformer_layers_1_cross_attn_im_31, Vars.x_transformer_layers_1_cross_attn_im_164}, [NumDims.x_transformer_layers_1_cross_attn_im_160, NumDims.x_transformer_layers_1_cross_attn_im_162, NumDims.x_transformer_layers_1_cross_attn_im_31, NumDims.x_transformer_layers_1_cross_attn_im_164]);
Vars.x_transformer_layers_1_cross_attn_im_164 = [];
Vars.x_transformer_layers_1_cross_attn_im_31 = [];
Vars.x_transformer_layers_1_cross_attn_im_162 = [];
Vars.x_transformer_layers_1_cross_attn_im_160 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_104] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_im_181, Vars.x_transformer_layers_1_cross_attn_im_16, NumDims.x_transformer_layers_1_cross_attn_im_181, 0);
Vars.x_transformer_layers_1_cross_attn_im_16 = [];
Vars.x_transformer_layers_1_cross_attn_im_104 = reshape(Vars.x_transformer_layers_1_cross_attn_im_181, shape{:});
Vars.x_transformer_layers_1_cross_attn_im_181 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_im_138] = prepareTransposeArgs(Vars.TransposePerm1057, NumDims.x_transformer_layers_1_cross_attn_im_104);
Vars.TransposePerm1057 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_im_138 = permute(Vars.x_transformer_layers_1_cross_attn_im_104, perm);
Vars.x_transformer_layers_1_cross_attn_im_104 = [];
end

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_im_140] = prepareTransposeArgs(Vars.TransposePerm1058, NumDims.x_transformer_layers_1_cross_attn_im_102);
Vars.TransposePerm1058 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_im_140 = permute(Vars.x_transformer_layers_1_cross_attn_im_102, perm);
Vars.x_transformer_layers_1_cross_attn_im_102 = [];
end

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_im_97, NumDims.x_transformer_layers_1_cross_attn_im_97] = onnxMatMul(Vars.x_transformer_layers_1_cross_attn_im_143, Vars.x_transformer_layers_1_cross_attn_im_140, NumDims.x_transformer_layers_1_cross_attn_im_143, NumDims.x_transformer_layers_1_cross_attn_im_140);
Vars.x_transformer_layers_1_cross_attn_im_140 = [];
Vars.x_transformer_layers_1_cross_attn_im_143 = [];

% Div:
Vars.x_transformer_layers_1_cross_attn_im_66 = Vars.x_transformer_layers_1_cross_attn_im_97 ./ Vars.x_transformer_layers_1_cross_attn_im_33;
Vars.x_transformer_layers_1_cross_attn_im_33 = [];
Vars.x_transformer_layers_1_cross_attn_im_97 = [];
NumDims.x_transformer_layers_1_cross_attn_im_66 = max(NumDims.x_transformer_layers_1_cross_attn_im_97, NumDims.x_transformer_layers_1_cross_attn_im_33);

% Softmax:
[Vars.x_transformer_layers_1_cross_attn_im_135, NumDims.x_transformer_layers_1_cross_attn_im_135] = onnxSoftmax13(Vars.x_transformer_layers_1_cross_attn_im_66, -1, NumDims.x_transformer_layers_1_cross_attn_im_66);
Vars.x_transformer_layers_1_cross_attn_im_66 = [];

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_im_96, NumDims.x_transformer_layers_1_cross_attn_im_96] = onnxMatMul(Vars.x_transformer_layers_1_cross_attn_im_135, Vars.x_transformer_layers_1_cross_attn_im_138, NumDims.x_transformer_layers_1_cross_attn_im_135, NumDims.x_transformer_layers_1_cross_attn_im_138);
Vars.x_transformer_layers_1_cross_attn_im_138 = [];
Vars.x_transformer_layers_1_cross_attn_im_135 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_132, NumDims.x_transformer_layers_1_cross_attn_im_132] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_96, NumDims.x_transformer_layers_1_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_92, NumDims.x_transformer_layers_1_cross_attn_im_92] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_132, Vars.x_transformer_layers_1_cross_attn_im_35, 0, NumDims.x_transformer_layers_1_cross_attn_im_132, NumDims.x_transformer_layers_1_cross_attn_im_35);
Vars.x_transformer_layers_1_cross_attn_im_35 = [];
Vars.x_transformer_layers_1_cross_attn_im_132 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_111, NumDims.x_transformer_layers_1_cross_attn_im_111] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_96, NumDims.x_transformer_layers_1_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_71, NumDims.x_transformer_layers_1_cross_attn_im_71] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_111, Vars.x_transformer_layers_1_cross_attn_im_37, 0, NumDims.x_transformer_layers_1_cross_attn_im_111, NumDims.x_transformer_layers_1_cross_attn_im_37);
Vars.x_transformer_layers_1_cross_attn_im_37 = [];
Vars.x_transformer_layers_1_cross_attn_im_111 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_113, NumDims.x_transformer_layers_1_cross_attn_im_113] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_96, NumDims.x_transformer_layers_1_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_73, NumDims.x_transformer_layers_1_cross_attn_im_73] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_113, Vars.x_transformer_layers_1_cross_attn_im_39, 0, NumDims.x_transformer_layers_1_cross_attn_im_113, NumDims.x_transformer_layers_1_cross_attn_im_39);
Vars.x_transformer_layers_1_cross_attn_im_39 = [];
Vars.x_transformer_layers_1_cross_attn_im_113 = [];

% Shape:
[Vars.x_transformer_layers_1_cross_attn_im_115, NumDims.x_transformer_layers_1_cross_attn_im_115] = onnxShape(Vars.x_transformer_layers_1_cross_attn_im_96, NumDims.x_transformer_layers_1_cross_attn_im_96);

% Gather:
[Vars.x_transformer_layers_1_cross_attn_im_75, NumDims.x_transformer_layers_1_cross_attn_im_75] = onnxGather(Vars.x_transformer_layers_1_cross_attn_im_115, Vars.x_transformer_layers_1_cross_attn_im_41, 0, NumDims.x_transformer_layers_1_cross_attn_im_115, NumDims.x_transformer_layers_1_cross_attn_im_41);
Vars.x_transformer_layers_1_cross_attn_im_41 = [];
Vars.x_transformer_layers_1_cross_attn_im_115 = [];

% Transpose:
[perm, NumDims.x_transformer_layers_1_cross_attn_im_142] = prepareTransposeArgs(Vars.TransposePerm1059, NumDims.x_transformer_layers_1_cross_attn_im_96);
Vars.TransposePerm1059 = [];
if ~isempty(perm)
    Vars.x_transformer_layers_1_cross_attn_im_142 = permute(Vars.x_transformer_layers_1_cross_attn_im_96, perm);
Vars.x_transformer_layers_1_cross_attn_im_96 = [];
end

% Mul:
Vars.x_transformer_layers_1_cross_attn_im_99 = Vars.x_transformer_layers_1_cross_attn_im_71 .* Vars.x_transformer_layers_1_cross_attn_im_75;
Vars.x_transformer_layers_1_cross_attn_im_75 = [];
Vars.x_transformer_layers_1_cross_attn_im_71 = [];
NumDims.x_transformer_layers_1_cross_attn_im_99 = max(NumDims.x_transformer_layers_1_cross_attn_im_71, NumDims.x_transformer_layers_1_cross_attn_im_75);

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_166] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_92, Vars.onnx__Unsqueeze_1319, NumDims.x_transformer_layers_1_cross_attn_im_92);
Vars.onnx__Unsqueeze_1319 = [];
Vars.x_transformer_layers_1_cross_attn_im_166 = reshape(Vars.x_transformer_layers_1_cross_attn_im_92, shape);
Vars.x_transformer_layers_1_cross_attn_im_92 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_147] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_73, Vars.onnx__Unsqueeze_1321, NumDims.x_transformer_layers_1_cross_attn_im_73);
Vars.onnx__Unsqueeze_1321 = [];
Vars.x_transformer_layers_1_cross_attn_im_147 = reshape(Vars.x_transformer_layers_1_cross_attn_im_73, shape);
Vars.x_transformer_layers_1_cross_attn_im_73 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_149] = prepareUnsqueezeArgs(Vars.x_transformer_layers_1_cross_attn_im_99, Vars.onnx__Unsqueeze_1323, NumDims.x_transformer_layers_1_cross_attn_im_99);
Vars.onnx__Unsqueeze_1323 = [];
Vars.x_transformer_layers_1_cross_attn_im_149 = reshape(Vars.x_transformer_layers_1_cross_attn_im_99, shape);
Vars.x_transformer_layers_1_cross_attn_im_99 = [];

% Concat:
[Vars.x_transformer_layers_1_cross_attn_im_18, NumDims.x_transformer_layers_1_cross_attn_im_18] = onnxConcat(0, {Vars.x_transformer_layers_1_cross_attn_im_166, Vars.x_transformer_layers_1_cross_attn_im_147, Vars.x_transformer_layers_1_cross_attn_im_149}, [NumDims.x_transformer_layers_1_cross_attn_im_166, NumDims.x_transformer_layers_1_cross_attn_im_147, NumDims.x_transformer_layers_1_cross_attn_im_149]);
Vars.x_transformer_layers_1_cross_attn_im_149 = [];
Vars.x_transformer_layers_1_cross_attn_im_147 = [];
Vars.x_transformer_layers_1_cross_attn_im_166 = [];

% Reshape:
[shape, NumDims.x_transformer_layers_1_cross_attn_im_106] = prepareReshapeArgs(Vars.x_transformer_layers_1_cross_attn_im_142, Vars.x_transformer_layers_1_cross_attn_im_18, NumDims.x_transformer_layers_1_cross_attn_im_142, 0);
Vars.x_transformer_layers_1_cross_attn_im_18 = [];
Vars.x_transformer_layers_1_cross_attn_im_106 = reshape(Vars.x_transformer_layers_1_cross_attn_im_142, shape{:});
Vars.x_transformer_layers_1_cross_attn_im_142 = [];

% MatMul:
[Vars.x_transformer_layers_1_cross_attn_im_175, NumDims.x_transformer_layers_1_cross_attn_im_175] = onnxMatMul(Vars.x_transformer_layers_1_cross_attn_im_106, Vars.onnx__MatMul_1708, NumDims.x_transformer_layers_1_cross_attn_im_106, NumDims.onnx__MatMul_1708);
Vars.onnx__MatMul_1708 = [];
Vars.x_transformer_layers_1_cross_attn_im_106 = [];

% Add:
Vars.x_transformer_layers_1_cross_attn_im_173 = Vars.mask_decoder_transformer_layers_1_cros_1 + Vars.x_transformer_layers_1_cross_attn_im_175;
Vars.x_transformer_layers_1_cross_attn_im_175 = [];
Vars.mask_decoder_transformer_layers_1_cros_1 = [];
NumDims.x_transformer_layers_1_cross_attn_im_173 = max(NumDims.mask_decoder_transformer_layers_1_cros_1, NumDims.x_transformer_layers_1_cross_attn_im_175);

% Add:
Vars.x_transformer_layers_1_Add_6_output_0 = Vars.x_transformer_layers_0_norm4_Add_1_outpu + Vars.x_transformer_layers_1_cross_attn_im_173;
Vars.x_transformer_layers_1_cross_attn_im_173 = [];
Vars.x_transformer_layers_0_norm4_Add_1_outpu = [];
NumDims.x_transformer_layers_1_Add_6_output_0 = max(NumDims.x_transformer_layers_0_norm4_Add_1_outpu, NumDims.x_transformer_layers_1_cross_attn_im_173);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1060, NumDims.x_transformer_layers_1_Add_6_output_0);
Vars.ReduceMeanAxes1060 = [];
Vars.x_transformer_layers_1_norm4_ReduceMea_2 = mean(Vars.x_transformer_layers_1_Add_6_output_0, dims);
NumDims.x_transformer_layers_1_norm4_ReduceMea_2 = NumDims.x_transformer_layers_1_Add_6_output_0;

% Sub:
Vars.x_transformer_layers_1_norm4_Sub_output_ = Vars.x_transformer_layers_1_Add_6_output_0 - Vars.x_transformer_layers_1_norm4_ReduceMea_2;
Vars.x_transformer_layers_1_norm4_ReduceMea_2 = [];
Vars.x_transformer_layers_1_Add_6_output_0 = [];
NumDims.x_transformer_layers_1_norm4_Sub_output_ = max(NumDims.x_transformer_layers_1_Add_6_output_0, NumDims.x_transformer_layers_1_norm4_ReduceMea_2);

% Pow:
Vars.x_transformer_layers_1_norm4_Pow_output_ = power(Vars.x_transformer_layers_1_norm4_Sub_output_, Vars.x_transformer_layers_1_norm4_Constant_ou);
Vars.x_transformer_layers_1_norm4_Constant_ou = [];
NumDims.x_transformer_layers_1_norm4_Pow_output_ = max(NumDims.x_transformer_layers_1_norm4_Sub_output_, NumDims.x_transformer_layers_1_norm4_Constant_ou);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1061, NumDims.x_transformer_layers_1_norm4_Pow_output_);
Vars.ReduceMeanAxes1061 = [];
Vars.x_transformer_layers_1_norm4_ReduceMea_1 = mean(Vars.x_transformer_layers_1_norm4_Pow_output_, dims);
Vars.x_transformer_layers_1_norm4_Pow_output_ = [];
NumDims.x_transformer_layers_1_norm4_ReduceMea_1 = NumDims.x_transformer_layers_1_norm4_Pow_output_;

% Add:
Vars.x_transformer_layers_1_norm4_Add_output_ = Vars.x_transformer_layers_1_norm4_ReduceMea_1 + Vars.x_transformer_layers_1_norm4_Constant_1_;
Vars.x_transformer_layers_1_norm4_Constant_1_ = [];
Vars.x_transformer_layers_1_norm4_ReduceMea_1 = [];
NumDims.x_transformer_layers_1_norm4_Add_output_ = max(NumDims.x_transformer_layers_1_norm4_ReduceMea_1, NumDims.x_transformer_layers_1_norm4_Constant_1_);

% Sqrt:
Vars.x_transformer_layers_1_norm4_Sqrt_output = sqrt(Vars.x_transformer_layers_1_norm4_Add_output_);
Vars.x_transformer_layers_1_norm4_Add_output_ = [];
NumDims.x_transformer_layers_1_norm4_Sqrt_output = NumDims.x_transformer_layers_1_norm4_Add_output_;

% Div:
Vars.x_transformer_layers_1_norm4_Div_output_ = Vars.x_transformer_layers_1_norm4_Sub_output_ ./ Vars.x_transformer_layers_1_norm4_Sqrt_output;
Vars.x_transformer_layers_1_norm4_Sqrt_output = [];
Vars.x_transformer_layers_1_norm4_Sub_output_ = [];
NumDims.x_transformer_layers_1_norm4_Div_output_ = max(NumDims.x_transformer_layers_1_norm4_Sub_output_, NumDims.x_transformer_layers_1_norm4_Sqrt_output);

% Mul:
Vars.x_transformer_layers_1_norm4_Mul_output_ = Vars.x_transformer_layers_1_norm4_Div_output_ .* Vars.mask_decoder_transformer_layers_1_norm_4;
Vars.mask_decoder_transformer_layers_1_norm_4 = [];
Vars.x_transformer_layers_1_norm4_Div_output_ = [];
NumDims.x_transformer_layers_1_norm4_Mul_output_ = max(NumDims.x_transformer_layers_1_norm4_Div_output_, NumDims.mask_decoder_transformer_layers_1_norm_4);

% Add:
Vars.x_transformer_layers_1_norm4_Add_1_outpu = Vars.x_transformer_layers_1_norm4_Mul_output_ + Vars.mask_decoder_transformer_layers_1_norm4_;
Vars.mask_decoder_transformer_layers_1_norm4_ = [];
Vars.x_transformer_layers_1_norm4_Mul_output_ = [];
NumDims.x_transformer_layers_1_norm4_Add_1_outpu = max(NumDims.x_transformer_layers_1_norm4_Mul_output_, NumDims.mask_decoder_transformer_layers_1_norm4_);

% Add:
Vars.x_transformer_Add_output_0 = Vars.x_transformer_layers_1_norm4_Add_1_outpu + Vars.x_transformer_Transpose_1_output_0;
Vars.x_transformer_Transpose_1_output_0 = [];
NumDims.x_transformer_Add_output_0 = max(NumDims.x_transformer_layers_1_norm4_Add_1_outpu, NumDims.x_transformer_Transpose_1_output_0);

% MatMul:
[Vars.x_transformer_final_attn_token_to_im_179, NumDims.x_transformer_final_attn_token_to_im_179] = onnxMatMul(Vars.x_transformer_layers_1_Add_5_output_0, Vars.onnx__MatMul_1709, NumDims.x_transformer_layers_1_Add_5_output_0, NumDims.onnx__MatMul_1709);
Vars.onnx__MatMul_1709 = [];
Vars.x_transformer_layers_1_Add_5_output_0 = [];

% Add:
Vars.x_transformer_final_attn_token_to_im_177 = Vars.mask_decoder_transformer_final_attn_to_2 + Vars.x_transformer_final_attn_token_to_im_179;
Vars.x_transformer_final_attn_token_to_im_179 = [];
Vars.mask_decoder_transformer_final_attn_to_2 = [];
NumDims.x_transformer_final_attn_token_to_im_177 = max(NumDims.mask_decoder_transformer_final_attn_to_2, NumDims.x_transformer_final_attn_token_to_im_179);

% MatMul:
[Vars.x_transformer_final_attn_token_to_im_171, NumDims.x_transformer_final_attn_token_to_im_171] = onnxMatMul(Vars.x_transformer_Add_output_0, Vars.onnx__MatMul_1710, NumDims.x_transformer_Add_output_0, NumDims.onnx__MatMul_1710);
Vars.onnx__MatMul_1710 = [];
Vars.x_transformer_Add_output_0 = [];

% Add:
Vars.x_transformer_final_attn_token_to_im_169 = Vars.mask_decoder_transformer_final_attn_toke + Vars.x_transformer_final_attn_token_to_im_171;
Vars.x_transformer_final_attn_token_to_im_171 = [];
Vars.mask_decoder_transformer_final_attn_toke = [];
NumDims.x_transformer_final_attn_token_to_im_169 = max(NumDims.mask_decoder_transformer_final_attn_toke, NumDims.x_transformer_final_attn_token_to_im_171);

% MatMul:
[Vars.x_transformer_final_attn_token_to_im_183, NumDims.x_transformer_final_attn_token_to_im_183] = onnxMatMul(Vars.x_transformer_layers_1_norm4_Add_1_outpu, Vars.onnx__MatMul_1711, NumDims.x_transformer_layers_1_norm4_Add_1_outpu, NumDims.onnx__MatMul_1711);
Vars.onnx__MatMul_1711 = [];

% Add:
Vars.x_transformer_final_attn_token_to_im_181 = Vars.mask_decoder_transformer_final_attn_to_3 + Vars.x_transformer_final_attn_token_to_im_183;
Vars.x_transformer_final_attn_token_to_im_183 = [];
Vars.mask_decoder_transformer_final_attn_to_3 = [];
NumDims.x_transformer_final_attn_token_to_im_181 = max(NumDims.mask_decoder_transformer_final_attn_to_3, NumDims.x_transformer_final_attn_token_to_im_183);

% Shape:
[Vars.x_transformer_final_attn_token_to_im_133, NumDims.x_transformer_final_attn_token_to_im_133] = onnxShape(Vars.x_transformer_final_attn_token_to_im_177, NumDims.x_transformer_final_attn_token_to_im_177);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_93, NumDims.x_transformer_final_attn_token_to_im_93] = onnxGather(Vars.x_transformer_final_attn_token_to_im_133, Vars.x_transformer_final_attn_token_to_im_59, 0, NumDims.x_transformer_final_attn_token_to_im_133, NumDims.x_transformer_final_attn_token_to_im_59);
Vars.x_transformer_final_attn_token_to_im_59 = [];
Vars.x_transformer_final_attn_token_to_im_133 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_116, NumDims.x_transformer_final_attn_token_to_im_116] = onnxShape(Vars.x_transformer_final_attn_token_to_im_177, NumDims.x_transformer_final_attn_token_to_im_177);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_76, NumDims.x_transformer_final_attn_token_to_im_76] = onnxGather(Vars.x_transformer_final_attn_token_to_im_116, Vars.x_transformer_final_attn_token_to_im_42, 0, NumDims.x_transformer_final_attn_token_to_im_116, NumDims.x_transformer_final_attn_token_to_im_42);
Vars.x_transformer_final_attn_token_to_im_42 = [];
Vars.x_transformer_final_attn_token_to_im_116 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_118, NumDims.x_transformer_final_attn_token_to_im_118] = onnxShape(Vars.x_transformer_final_attn_token_to_im_177, NumDims.x_transformer_final_attn_token_to_im_177);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_78, NumDims.x_transformer_final_attn_token_to_im_78] = onnxGather(Vars.x_transformer_final_attn_token_to_im_118, Vars.x_transformer_final_attn_token_to_im_44, 0, NumDims.x_transformer_final_attn_token_to_im_118, NumDims.x_transformer_final_attn_token_to_im_44);
Vars.x_transformer_final_attn_token_to_im_44 = [];
Vars.x_transformer_final_attn_token_to_im_118 = [];

% Div:
Vars.x_transformer_final_attn_token_to_im_67 = fix(Vars.x_transformer_final_attn_token_to_im_78 ./ Vars.x_transformer_final_attn_token_to_im_46);
Vars.x_transformer_final_attn_token_to_im_46 = [];
Vars.x_transformer_final_attn_token_to_im_78 = [];
NumDims.x_transformer_final_attn_token_to_im_67 = max(NumDims.x_transformer_final_attn_token_to_im_78, NumDims.x_transformer_final_attn_token_to_im_46);

% Cast:
Vars.x_transformer_final_attn_token_to_im_11 = cast(int64(extractdata(Vars.x_transformer_final_attn_token_to_im_67)), 'like', Vars.x_transformer_final_attn_token_to_im_67);
Vars.x_transformer_final_attn_token_to_im_67 = [];
NumDims.x_transformer_final_attn_token_to_im_11 = NumDims.x_transformer_final_attn_token_to_im_67;

% Cast:
Vars.x_transformer_final_attn_token_to_im_2 = cast(int64(extractdata(Vars.x_transformer_final_attn_token_to_im_11)), 'like', Vars.x_transformer_final_attn_token_to_im_11);
Vars.x_transformer_final_attn_token_to_im_11 = [];
NumDims.x_transformer_final_attn_token_to_im_2 = NumDims.x_transformer_final_attn_token_to_im_11;

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_167] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_93, Vars.onnx__Unsqueeze_1365, NumDims.x_transformer_final_attn_token_to_im_93);
Vars.onnx__Unsqueeze_1365 = [];
Vars.x_transformer_final_attn_token_to_im_167 = reshape(Vars.x_transformer_final_attn_token_to_im_93, shape);
Vars.x_transformer_final_attn_token_to_im_93 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_150] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_76, Vars.onnx__Unsqueeze_1367, NumDims.x_transformer_final_attn_token_to_im_76);
Vars.onnx__Unsqueeze_1367 = [];
Vars.x_transformer_final_attn_token_to_im_150 = reshape(Vars.x_transformer_final_attn_token_to_im_76, shape);
Vars.x_transformer_final_attn_token_to_im_76 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_152] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_2, Vars.onnx__Unsqueeze_1371, NumDims.x_transformer_final_attn_token_to_im_2);
Vars.onnx__Unsqueeze_1371 = [];
Vars.x_transformer_final_attn_token_to_im_152 = reshape(Vars.x_transformer_final_attn_token_to_im_2, shape);
Vars.x_transformer_final_attn_token_to_im_2 = [];

% Concat:
[Vars.x_transformer_final_attn_token_to_im_19, NumDims.x_transformer_final_attn_token_to_im_19] = onnxConcat(0, {Vars.x_transformer_final_attn_token_to_im_167, Vars.x_transformer_final_attn_token_to_im_150, Vars.x_transformer_final_attn_token_to_im_48, Vars.x_transformer_final_attn_token_to_im_152}, [NumDims.x_transformer_final_attn_token_to_im_167, NumDims.x_transformer_final_attn_token_to_im_150, NumDims.x_transformer_final_attn_token_to_im_48, NumDims.x_transformer_final_attn_token_to_im_152]);
Vars.x_transformer_final_attn_token_to_im_152 = [];
Vars.x_transformer_final_attn_token_to_im_48 = [];
Vars.x_transformer_final_attn_token_to_im_150 = [];
Vars.x_transformer_final_attn_token_to_im_167 = [];

% Reshape:
[shape, NumDims.x_transformer_final_attn_token_to_im_107] = prepareReshapeArgs(Vars.x_transformer_final_attn_token_to_im_177, Vars.x_transformer_final_attn_token_to_im_19, NumDims.x_transformer_final_attn_token_to_im_177, 0);
Vars.x_transformer_final_attn_token_to_im_19 = [];
Vars.x_transformer_final_attn_token_to_im_107 = reshape(Vars.x_transformer_final_attn_token_to_im_177, shape{:});
Vars.x_transformer_final_attn_token_to_im_177 = [];

% Transpose:
[perm, NumDims.x_transformer_final_attn_token_to_im_143] = prepareTransposeArgs(Vars.TransposePerm1062, NumDims.x_transformer_final_attn_token_to_im_107);
Vars.TransposePerm1062 = [];
if ~isempty(perm)
    Vars.x_transformer_final_attn_token_to_im_143 = permute(Vars.x_transformer_final_attn_token_to_im_107, perm);
Vars.x_transformer_final_attn_token_to_im_107 = [];
end

% Shape:
[Vars.x_transformer_final_attn_token_to_im_120, NumDims.x_transformer_final_attn_token_to_im_120] = onnxShape(Vars.x_transformer_final_attn_token_to_im_169, NumDims.x_transformer_final_attn_token_to_im_169);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_80, NumDims.x_transformer_final_attn_token_to_im_80] = onnxGather(Vars.x_transformer_final_attn_token_to_im_120, Vars.x_transformer_final_attn_token_to_im_50, 0, NumDims.x_transformer_final_attn_token_to_im_120, NumDims.x_transformer_final_attn_token_to_im_50);
Vars.x_transformer_final_attn_token_to_im_50 = [];
Vars.x_transformer_final_attn_token_to_im_120 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_122, NumDims.x_transformer_final_attn_token_to_im_122] = onnxShape(Vars.x_transformer_final_attn_token_to_im_169, NumDims.x_transformer_final_attn_token_to_im_169);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_82, NumDims.x_transformer_final_attn_token_to_im_82] = onnxGather(Vars.x_transformer_final_attn_token_to_im_122, Vars.x_transformer_final_attn_token_to_im_52, 0, NumDims.x_transformer_final_attn_token_to_im_122, NumDims.x_transformer_final_attn_token_to_im_52);
Vars.x_transformer_final_attn_token_to_im_52 = [];
Vars.x_transformer_final_attn_token_to_im_122 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_124, NumDims.x_transformer_final_attn_token_to_im_124] = onnxShape(Vars.x_transformer_final_attn_token_to_im_169, NumDims.x_transformer_final_attn_token_to_im_169);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_84, NumDims.x_transformer_final_attn_token_to_im_84] = onnxGather(Vars.x_transformer_final_attn_token_to_im_124, Vars.x_transformer_final_attn_token_to_im_54, 0, NumDims.x_transformer_final_attn_token_to_im_124, NumDims.x_transformer_final_attn_token_to_im_54);
Vars.x_transformer_final_attn_token_to_im_54 = [];
Vars.x_transformer_final_attn_token_to_im_124 = [];

% Div:
Vars.x_transformer_final_attn_token_to_im_62 = fix(Vars.x_transformer_final_attn_token_to_im_84 ./ Vars.x_transformer_final_attn_token_to_im_56);
Vars.x_transformer_final_attn_token_to_im_56 = [];
Vars.x_transformer_final_attn_token_to_im_84 = [];
NumDims.x_transformer_final_attn_token_to_im_62 = max(NumDims.x_transformer_final_attn_token_to_im_84, NumDims.x_transformer_final_attn_token_to_im_56);

% Cast:
Vars.x_transformer_final_attn_token_to_im_4 = cast(int64(extractdata(Vars.x_transformer_final_attn_token_to_im_62)), 'like', Vars.x_transformer_final_attn_token_to_im_62);
Vars.x_transformer_final_attn_token_to_im_62 = [];
NumDims.x_transformer_final_attn_token_to_im_4 = NumDims.x_transformer_final_attn_token_to_im_62;

% Cast:
Vars.x_transformer_final_attn_token_to_im_6 = cast(int64(extractdata(Vars.x_transformer_final_attn_token_to_im_4)), 'like', Vars.x_transformer_final_attn_token_to_im_4);
Vars.x_transformer_final_attn_token_to_im_4 = [];
NumDims.x_transformer_final_attn_token_to_im_6 = NumDims.x_transformer_final_attn_token_to_im_4;

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_154] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_80, Vars.onnx__Unsqueeze_1389, NumDims.x_transformer_final_attn_token_to_im_80);
Vars.onnx__Unsqueeze_1389 = [];
Vars.x_transformer_final_attn_token_to_im_154 = reshape(Vars.x_transformer_final_attn_token_to_im_80, shape);
Vars.x_transformer_final_attn_token_to_im_80 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_156] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_82, Vars.onnx__Unsqueeze_1391, NumDims.x_transformer_final_attn_token_to_im_82);
Vars.onnx__Unsqueeze_1391 = [];
Vars.x_transformer_final_attn_token_to_im_156 = reshape(Vars.x_transformer_final_attn_token_to_im_82, shape);
Vars.x_transformer_final_attn_token_to_im_82 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_158] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_6, Vars.onnx__Unsqueeze_1395, NumDims.x_transformer_final_attn_token_to_im_6);
Vars.onnx__Unsqueeze_1395 = [];
Vars.x_transformer_final_attn_token_to_im_158 = reshape(Vars.x_transformer_final_attn_token_to_im_6, shape);
Vars.x_transformer_final_attn_token_to_im_6 = [];

% Concat:
[Vars.x_transformer_final_attn_token_to_im_14, NumDims.x_transformer_final_attn_token_to_im_14] = onnxConcat(0, {Vars.x_transformer_final_attn_token_to_im_154, Vars.x_transformer_final_attn_token_to_im_156, Vars.x_transformer_final_attn_token_to_im_58, Vars.x_transformer_final_attn_token_to_im_158}, [NumDims.x_transformer_final_attn_token_to_im_154, NumDims.x_transformer_final_attn_token_to_im_156, NumDims.x_transformer_final_attn_token_to_im_58, NumDims.x_transformer_final_attn_token_to_im_158]);
Vars.x_transformer_final_attn_token_to_im_158 = [];
Vars.x_transformer_final_attn_token_to_im_58 = [];
Vars.x_transformer_final_attn_token_to_im_156 = [];
Vars.x_transformer_final_attn_token_to_im_154 = [];

% Reshape:
[shape, NumDims.x_transformer_final_attn_token_to_im_102] = prepareReshapeArgs(Vars.x_transformer_final_attn_token_to_im_169, Vars.x_transformer_final_attn_token_to_im_14, NumDims.x_transformer_final_attn_token_to_im_169, 0);
Vars.x_transformer_final_attn_token_to_im_14 = [];
Vars.x_transformer_final_attn_token_to_im_102 = reshape(Vars.x_transformer_final_attn_token_to_im_169, shape{:});
Vars.x_transformer_final_attn_token_to_im_169 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_126, NumDims.x_transformer_final_attn_token_to_im_126] = onnxShape(Vars.x_transformer_final_attn_token_to_im_181, NumDims.x_transformer_final_attn_token_to_im_181);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_86, NumDims.x_transformer_final_attn_token_to_im_86] = onnxGather(Vars.x_transformer_final_attn_token_to_im_126, Vars.x_transformer_final_attn_token_to_im_23, 0, NumDims.x_transformer_final_attn_token_to_im_126, NumDims.x_transformer_final_attn_token_to_im_23);
Vars.x_transformer_final_attn_token_to_im_23 = [];
Vars.x_transformer_final_attn_token_to_im_126 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_128, NumDims.x_transformer_final_attn_token_to_im_128] = onnxShape(Vars.x_transformer_final_attn_token_to_im_181, NumDims.x_transformer_final_attn_token_to_im_181);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_88, NumDims.x_transformer_final_attn_token_to_im_88] = onnxGather(Vars.x_transformer_final_attn_token_to_im_128, Vars.x_transformer_final_attn_token_to_im_25, 0, NumDims.x_transformer_final_attn_token_to_im_128, NumDims.x_transformer_final_attn_token_to_im_25);
Vars.x_transformer_final_attn_token_to_im_25 = [];
Vars.x_transformer_final_attn_token_to_im_128 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_130, NumDims.x_transformer_final_attn_token_to_im_130] = onnxShape(Vars.x_transformer_final_attn_token_to_im_181, NumDims.x_transformer_final_attn_token_to_im_181);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_90, NumDims.x_transformer_final_attn_token_to_im_90] = onnxGather(Vars.x_transformer_final_attn_token_to_im_130, Vars.x_transformer_final_attn_token_to_im_27, 0, NumDims.x_transformer_final_attn_token_to_im_130, NumDims.x_transformer_final_attn_token_to_im_27);
Vars.x_transformer_final_attn_token_to_im_27 = [];
Vars.x_transformer_final_attn_token_to_im_130 = [];

% Div:
Vars.x_transformer_final_attn_token_to_im_64 = fix(Vars.x_transformer_final_attn_token_to_im_90 ./ Vars.x_transformer_final_attn_token_to_im_29);
Vars.x_transformer_final_attn_token_to_im_29 = [];
Vars.x_transformer_final_attn_token_to_im_90 = [];
NumDims.x_transformer_final_attn_token_to_im_64 = max(NumDims.x_transformer_final_attn_token_to_im_90, NumDims.x_transformer_final_attn_token_to_im_29);

% Cast:
Vars.x_transformer_final_attn_token_to_im_8 = cast(int64(extractdata(Vars.x_transformer_final_attn_token_to_im_64)), 'like', Vars.x_transformer_final_attn_token_to_im_64);
Vars.x_transformer_final_attn_token_to_im_64 = [];
NumDims.x_transformer_final_attn_token_to_im_8 = NumDims.x_transformer_final_attn_token_to_im_64;

% Cast:
Vars.x_transformer_final_attn_token_to_im_10 = cast(int64(extractdata(Vars.x_transformer_final_attn_token_to_im_8)), 'like', Vars.x_transformer_final_attn_token_to_im_8);
Vars.x_transformer_final_attn_token_to_im_8 = [];
NumDims.x_transformer_final_attn_token_to_im_10 = NumDims.x_transformer_final_attn_token_to_im_8;

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_160] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_86, Vars.onnx__Unsqueeze_1412, NumDims.x_transformer_final_attn_token_to_im_86);
Vars.onnx__Unsqueeze_1412 = [];
Vars.x_transformer_final_attn_token_to_im_160 = reshape(Vars.x_transformer_final_attn_token_to_im_86, shape);
Vars.x_transformer_final_attn_token_to_im_86 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_162] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_88, Vars.onnx__Unsqueeze_1414, NumDims.x_transformer_final_attn_token_to_im_88);
Vars.onnx__Unsqueeze_1414 = [];
Vars.x_transformer_final_attn_token_to_im_162 = reshape(Vars.x_transformer_final_attn_token_to_im_88, shape);
Vars.x_transformer_final_attn_token_to_im_88 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_164] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_10, Vars.onnx__Unsqueeze_1418, NumDims.x_transformer_final_attn_token_to_im_10);
Vars.onnx__Unsqueeze_1418 = [];
Vars.x_transformer_final_attn_token_to_im_164 = reshape(Vars.x_transformer_final_attn_token_to_im_10, shape);
Vars.x_transformer_final_attn_token_to_im_10 = [];

% Concat:
[Vars.x_transformer_final_attn_token_to_im_16, NumDims.x_transformer_final_attn_token_to_im_16] = onnxConcat(0, {Vars.x_transformer_final_attn_token_to_im_160, Vars.x_transformer_final_attn_token_to_im_162, Vars.x_transformer_final_attn_token_to_im_31, Vars.x_transformer_final_attn_token_to_im_164}, [NumDims.x_transformer_final_attn_token_to_im_160, NumDims.x_transformer_final_attn_token_to_im_162, NumDims.x_transformer_final_attn_token_to_im_31, NumDims.x_transformer_final_attn_token_to_im_164]);
Vars.x_transformer_final_attn_token_to_im_164 = [];
Vars.x_transformer_final_attn_token_to_im_31 = [];
Vars.x_transformer_final_attn_token_to_im_162 = [];
Vars.x_transformer_final_attn_token_to_im_160 = [];

% Reshape:
[shape, NumDims.x_transformer_final_attn_token_to_im_104] = prepareReshapeArgs(Vars.x_transformer_final_attn_token_to_im_181, Vars.x_transformer_final_attn_token_to_im_16, NumDims.x_transformer_final_attn_token_to_im_181, 0);
Vars.x_transformer_final_attn_token_to_im_16 = [];
Vars.x_transformer_final_attn_token_to_im_104 = reshape(Vars.x_transformer_final_attn_token_to_im_181, shape{:});
Vars.x_transformer_final_attn_token_to_im_181 = [];

% Transpose:
[perm, NumDims.x_transformer_final_attn_token_to_im_138] = prepareTransposeArgs(Vars.TransposePerm1063, NumDims.x_transformer_final_attn_token_to_im_104);
Vars.TransposePerm1063 = [];
if ~isempty(perm)
    Vars.x_transformer_final_attn_token_to_im_138 = permute(Vars.x_transformer_final_attn_token_to_im_104, perm);
Vars.x_transformer_final_attn_token_to_im_104 = [];
end

% Transpose:
[perm, NumDims.x_transformer_final_attn_token_to_im_140] = prepareTransposeArgs(Vars.TransposePerm1064, NumDims.x_transformer_final_attn_token_to_im_102);
Vars.TransposePerm1064 = [];
if ~isempty(perm)
    Vars.x_transformer_final_attn_token_to_im_140 = permute(Vars.x_transformer_final_attn_token_to_im_102, perm);
Vars.x_transformer_final_attn_token_to_im_102 = [];
end

% MatMul:
[Vars.x_transformer_final_attn_token_to_im_97, NumDims.x_transformer_final_attn_token_to_im_97] = onnxMatMul(Vars.x_transformer_final_attn_token_to_im_143, Vars.x_transformer_final_attn_token_to_im_140, NumDims.x_transformer_final_attn_token_to_im_143, NumDims.x_transformer_final_attn_token_to_im_140);
Vars.x_transformer_final_attn_token_to_im_140 = [];
Vars.x_transformer_final_attn_token_to_im_143 = [];

% Div:
Vars.x_transformer_final_attn_token_to_im_66 = Vars.x_transformer_final_attn_token_to_im_97 ./ Vars.x_transformer_final_attn_token_to_im_33;
Vars.x_transformer_final_attn_token_to_im_33 = [];
Vars.x_transformer_final_attn_token_to_im_97 = [];
NumDims.x_transformer_final_attn_token_to_im_66 = max(NumDims.x_transformer_final_attn_token_to_im_97, NumDims.x_transformer_final_attn_token_to_im_33);

% Softmax:
[Vars.x_transformer_final_attn_token_to_im_135, NumDims.x_transformer_final_attn_token_to_im_135] = onnxSoftmax13(Vars.x_transformer_final_attn_token_to_im_66, -1, NumDims.x_transformer_final_attn_token_to_im_66);
Vars.x_transformer_final_attn_token_to_im_66 = [];

% MatMul:
[Vars.x_transformer_final_attn_token_to_im_96, NumDims.x_transformer_final_attn_token_to_im_96] = onnxMatMul(Vars.x_transformer_final_attn_token_to_im_135, Vars.x_transformer_final_attn_token_to_im_138, NumDims.x_transformer_final_attn_token_to_im_135, NumDims.x_transformer_final_attn_token_to_im_138);
Vars.x_transformer_final_attn_token_to_im_138 = [];
Vars.x_transformer_final_attn_token_to_im_135 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_132, NumDims.x_transformer_final_attn_token_to_im_132] = onnxShape(Vars.x_transformer_final_attn_token_to_im_96, NumDims.x_transformer_final_attn_token_to_im_96);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_92, NumDims.x_transformer_final_attn_token_to_im_92] = onnxGather(Vars.x_transformer_final_attn_token_to_im_132, Vars.x_transformer_final_attn_token_to_im_35, 0, NumDims.x_transformer_final_attn_token_to_im_132, NumDims.x_transformer_final_attn_token_to_im_35);
Vars.x_transformer_final_attn_token_to_im_35 = [];
Vars.x_transformer_final_attn_token_to_im_132 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_111, NumDims.x_transformer_final_attn_token_to_im_111] = onnxShape(Vars.x_transformer_final_attn_token_to_im_96, NumDims.x_transformer_final_attn_token_to_im_96);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_71, NumDims.x_transformer_final_attn_token_to_im_71] = onnxGather(Vars.x_transformer_final_attn_token_to_im_111, Vars.x_transformer_final_attn_token_to_im_37, 0, NumDims.x_transformer_final_attn_token_to_im_111, NumDims.x_transformer_final_attn_token_to_im_37);
Vars.x_transformer_final_attn_token_to_im_37 = [];
Vars.x_transformer_final_attn_token_to_im_111 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_113, NumDims.x_transformer_final_attn_token_to_im_113] = onnxShape(Vars.x_transformer_final_attn_token_to_im_96, NumDims.x_transformer_final_attn_token_to_im_96);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_73, NumDims.x_transformer_final_attn_token_to_im_73] = onnxGather(Vars.x_transformer_final_attn_token_to_im_113, Vars.x_transformer_final_attn_token_to_im_39, 0, NumDims.x_transformer_final_attn_token_to_im_113, NumDims.x_transformer_final_attn_token_to_im_39);
Vars.x_transformer_final_attn_token_to_im_39 = [];
Vars.x_transformer_final_attn_token_to_im_113 = [];

% Shape:
[Vars.x_transformer_final_attn_token_to_im_115, NumDims.x_transformer_final_attn_token_to_im_115] = onnxShape(Vars.x_transformer_final_attn_token_to_im_96, NumDims.x_transformer_final_attn_token_to_im_96);

% Gather:
[Vars.x_transformer_final_attn_token_to_im_75, NumDims.x_transformer_final_attn_token_to_im_75] = onnxGather(Vars.x_transformer_final_attn_token_to_im_115, Vars.x_transformer_final_attn_token_to_im_41, 0, NumDims.x_transformer_final_attn_token_to_im_115, NumDims.x_transformer_final_attn_token_to_im_41);
Vars.x_transformer_final_attn_token_to_im_41 = [];
Vars.x_transformer_final_attn_token_to_im_115 = [];

% Transpose:
[perm, NumDims.x_transformer_final_attn_token_to_im_142] = prepareTransposeArgs(Vars.TransposePerm1065, NumDims.x_transformer_final_attn_token_to_im_96);
Vars.TransposePerm1065 = [];
if ~isempty(perm)
    Vars.x_transformer_final_attn_token_to_im_142 = permute(Vars.x_transformer_final_attn_token_to_im_96, perm);
Vars.x_transformer_final_attn_token_to_im_96 = [];
end

% Mul:
Vars.x_transformer_final_attn_token_to_im_99 = Vars.x_transformer_final_attn_token_to_im_71 .* Vars.x_transformer_final_attn_token_to_im_75;
Vars.x_transformer_final_attn_token_to_im_75 = [];
Vars.x_transformer_final_attn_token_to_im_71 = [];
NumDims.x_transformer_final_attn_token_to_im_99 = max(NumDims.x_transformer_final_attn_token_to_im_71, NumDims.x_transformer_final_attn_token_to_im_75);

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_166] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_92, Vars.onnx__Unsqueeze_1443, NumDims.x_transformer_final_attn_token_to_im_92);
Vars.onnx__Unsqueeze_1443 = [];
Vars.x_transformer_final_attn_token_to_im_166 = reshape(Vars.x_transformer_final_attn_token_to_im_92, shape);
Vars.x_transformer_final_attn_token_to_im_92 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_147] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_73, Vars.onnx__Unsqueeze_1445, NumDims.x_transformer_final_attn_token_to_im_73);
Vars.onnx__Unsqueeze_1445 = [];
Vars.x_transformer_final_attn_token_to_im_147 = reshape(Vars.x_transformer_final_attn_token_to_im_73, shape);
Vars.x_transformer_final_attn_token_to_im_73 = [];

% Unsqueeze:
[shape, NumDims.x_transformer_final_attn_token_to_im_149] = prepareUnsqueezeArgs(Vars.x_transformer_final_attn_token_to_im_99, Vars.onnx__Unsqueeze_1447, NumDims.x_transformer_final_attn_token_to_im_99);
Vars.onnx__Unsqueeze_1447 = [];
Vars.x_transformer_final_attn_token_to_im_149 = reshape(Vars.x_transformer_final_attn_token_to_im_99, shape);
Vars.x_transformer_final_attn_token_to_im_99 = [];

% Concat:
[Vars.x_transformer_final_attn_token_to_im_18, NumDims.x_transformer_final_attn_token_to_im_18] = onnxConcat(0, {Vars.x_transformer_final_attn_token_to_im_166, Vars.x_transformer_final_attn_token_to_im_147, Vars.x_transformer_final_attn_token_to_im_149}, [NumDims.x_transformer_final_attn_token_to_im_166, NumDims.x_transformer_final_attn_token_to_im_147, NumDims.x_transformer_final_attn_token_to_im_149]);
Vars.x_transformer_final_attn_token_to_im_149 = [];
Vars.x_transformer_final_attn_token_to_im_147 = [];
Vars.x_transformer_final_attn_token_to_im_166 = [];

% Reshape:
[shape, NumDims.x_transformer_final_attn_token_to_im_106] = prepareReshapeArgs(Vars.x_transformer_final_attn_token_to_im_142, Vars.x_transformer_final_attn_token_to_im_18, NumDims.x_transformer_final_attn_token_to_im_142, 0);
Vars.x_transformer_final_attn_token_to_im_18 = [];
Vars.x_transformer_final_attn_token_to_im_106 = reshape(Vars.x_transformer_final_attn_token_to_im_142, shape{:});
Vars.x_transformer_final_attn_token_to_im_142 = [];

% MatMul:
[Vars.x_transformer_final_attn_token_to_im_175, NumDims.x_transformer_final_attn_token_to_im_175] = onnxMatMul(Vars.x_transformer_final_attn_token_to_im_106, Vars.onnx__MatMul_1715, NumDims.x_transformer_final_attn_token_to_im_106, NumDims.onnx__MatMul_1715);
Vars.onnx__MatMul_1715 = [];
Vars.x_transformer_final_attn_token_to_im_106 = [];

% Add:
Vars.x_transformer_final_attn_token_to_im_173 = Vars.mask_decoder_transformer_final_attn_to_1 + Vars.x_transformer_final_attn_token_to_im_175;
Vars.x_transformer_final_attn_token_to_im_175 = [];
Vars.mask_decoder_transformer_final_attn_to_1 = [];
NumDims.x_transformer_final_attn_token_to_im_173 = max(NumDims.mask_decoder_transformer_final_attn_to_1, NumDims.x_transformer_final_attn_token_to_im_175);

% Add:
Vars.x_transformer_Add_1_output_0 = Vars.x_transformer_layers_1_norm3_Add_1_outpu + Vars.x_transformer_final_attn_token_to_im_173;
Vars.x_transformer_final_attn_token_to_im_173 = [];
Vars.x_transformer_layers_1_norm3_Add_1_outpu = [];
NumDims.x_transformer_Add_1_output_0 = max(NumDims.x_transformer_layers_1_norm3_Add_1_outpu, NumDims.x_transformer_final_attn_token_to_im_173);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1066, NumDims.x_transformer_Add_1_output_0);
Vars.ReduceMeanAxes1066 = [];
Vars.x_transformer_norm_final_attn_ReduceMe_3 = mean(Vars.x_transformer_Add_1_output_0, dims);
NumDims.x_transformer_norm_final_attn_ReduceMe_3 = NumDims.x_transformer_Add_1_output_0;

% Sub:
Vars.x_transformer_norm_final_attn_Sub_output = Vars.x_transformer_Add_1_output_0 - Vars.x_transformer_norm_final_attn_ReduceMe_3;
Vars.x_transformer_norm_final_attn_ReduceMe_3 = [];
Vars.x_transformer_Add_1_output_0 = [];
NumDims.x_transformer_norm_final_attn_Sub_output = max(NumDims.x_transformer_Add_1_output_0, NumDims.x_transformer_norm_final_attn_ReduceMe_3);

% Pow:
Vars.x_transformer_norm_final_attn_Pow_output = power(Vars.x_transformer_norm_final_attn_Sub_output, Vars.x_transformer_norm_final_attn_Constant_o);
Vars.x_transformer_norm_final_attn_Constant_o = [];
NumDims.x_transformer_norm_final_attn_Pow_output = max(NumDims.x_transformer_norm_final_attn_Sub_output, NumDims.x_transformer_norm_final_attn_Constant_o);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1067, NumDims.x_transformer_norm_final_attn_Pow_output);
Vars.ReduceMeanAxes1067 = [];
Vars.x_transformer_norm_final_attn_ReduceMe_2 = mean(Vars.x_transformer_norm_final_attn_Pow_output, dims);
Vars.x_transformer_norm_final_attn_Pow_output = [];
NumDims.x_transformer_norm_final_attn_ReduceMe_2 = NumDims.x_transformer_norm_final_attn_Pow_output;

% Add:
Vars.x_transformer_norm_final_attn_Add_output = Vars.x_transformer_norm_final_attn_ReduceMe_2 + Vars.x_transformer_norm_final_attn_Constant_2;
Vars.x_transformer_norm_final_attn_Constant_2 = [];
Vars.x_transformer_norm_final_attn_ReduceMe_2 = [];
NumDims.x_transformer_norm_final_attn_Add_output = max(NumDims.x_transformer_norm_final_attn_ReduceMe_2, NumDims.x_transformer_norm_final_attn_Constant_2);

% Sqrt:
Vars.x_transformer_norm_final_attn_Sqrt_outpu = sqrt(Vars.x_transformer_norm_final_attn_Add_output);
Vars.x_transformer_norm_final_attn_Add_output = [];
NumDims.x_transformer_norm_final_attn_Sqrt_outpu = NumDims.x_transformer_norm_final_attn_Add_output;

% Div:
Vars.x_transformer_norm_final_attn_Div_output = Vars.x_transformer_norm_final_attn_Sub_output ./ Vars.x_transformer_norm_final_attn_Sqrt_outpu;
Vars.x_transformer_norm_final_attn_Sqrt_outpu = [];
Vars.x_transformer_norm_final_attn_Sub_output = [];
NumDims.x_transformer_norm_final_attn_Div_output = max(NumDims.x_transformer_norm_final_attn_Sub_output, NumDims.x_transformer_norm_final_attn_Sqrt_outpu);

% Mul:
Vars.x_transformer_norm_final_attn_Mul_output = Vars.x_transformer_norm_final_attn_Div_output .* Vars.mask_decoder_transformer_norm_final_at_1;
Vars.mask_decoder_transformer_norm_final_at_1 = [];
Vars.x_transformer_norm_final_attn_Div_output = [];
NumDims.x_transformer_norm_final_attn_Mul_output = max(NumDims.x_transformer_norm_final_attn_Div_output, NumDims.mask_decoder_transformer_norm_final_at_1);

% Add:
Vars.x_transformer_norm_final_attn_Add_1_outp = Vars.x_transformer_norm_final_attn_Mul_output + Vars.mask_decoder_transformer_norm_final_attn;
Vars.mask_decoder_transformer_norm_final_attn = [];
Vars.x_transformer_norm_final_attn_Mul_output = [];
NumDims.x_transformer_norm_final_attn_Add_1_outp = max(NumDims.x_transformer_norm_final_attn_Mul_output, NumDims.mask_decoder_transformer_norm_final_attn);

% Gather:
[Vars.x_Gather_6_output_0, NumDims.x_Gather_6_output_0] = onnxGather(Vars.x_transformer_norm_final_attn_Add_1_outp, Vars.x_Constant_9_output_0, 1, NumDims.x_transformer_norm_final_attn_Add_1_outp, NumDims.x_Constant_9_output_0);

% Slice:
[Indices, NumDims.x_Slice_output_0] = prepareSliceArgs(Vars.x_transformer_norm_final_attn_Add_1_outp, Vars.x_Constant_52_output_0, Vars.x_Constant_53_output_0, Vars.x_Constant_51_output_0, Vars.x_Constant_54_output_0, NumDims.x_transformer_norm_final_attn_Add_1_outp);
Vars.x_Constant_54_output_0 = [];
Vars.x_Constant_51_output_0 = [];
Vars.x_Constant_53_output_0 = [];
Vars.x_Constant_52_output_0 = [];
Vars.x_Slice_output_0 = subsref(Vars.x_transformer_norm_final_attn_Add_1_outp, Indices);
Vars.x_transformer_norm_final_attn_Add_1_outp = [];

% Transpose:
[perm, NumDims.x_Transpose_output_0] = prepareTransposeArgs(Vars.TransposePerm1068, NumDims.x_transformer_layers_1_norm4_Add_1_outpu);
Vars.TransposePerm1068 = [];
if ~isempty(perm)
    Vars.x_Transpose_output_0 = permute(Vars.x_transformer_layers_1_norm4_Add_1_outpu, perm);
Vars.x_transformer_layers_1_norm4_Add_1_outpu = [];
end

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_5_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_2_output_0, Vars.onnx__Unsqueeze_1473, NumDims.x_Gather_2_output_0);
Vars.onnx__Unsqueeze_1473 = [];
Vars.x_Unsqueeze_5_output_0 = reshape(Vars.x_Gather_2_output_0, shape);
Vars.x_Gather_2_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_6_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_3_output_0, Vars.onnx__Unsqueeze_1475, NumDims.x_Gather_3_output_0);
Vars.onnx__Unsqueeze_1475 = [];
Vars.x_Unsqueeze_6_output_0 = reshape(Vars.x_Gather_3_output_0, shape);
Vars.x_Gather_3_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_7_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_4_output_0, Vars.onnx__Unsqueeze_1477, NumDims.x_Gather_4_output_0);
Vars.onnx__Unsqueeze_1477 = [];
Vars.x_Unsqueeze_7_output_0 = reshape(Vars.x_Gather_4_output_0, shape);
Vars.x_Gather_4_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_8_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_5_output_0, Vars.onnx__Unsqueeze_1479, NumDims.x_Gather_5_output_0);
Vars.onnx__Unsqueeze_1479 = [];
Vars.x_Unsqueeze_8_output_0 = reshape(Vars.x_Gather_5_output_0, shape);
Vars.x_Gather_5_output_0 = [];

% Concat:
[Vars.x_Concat_7_output_0, NumDims.x_Concat_7_output_0] = onnxConcat(0, {Vars.x_Unsqueeze_5_output_0, Vars.x_Unsqueeze_6_output_0, Vars.x_Unsqueeze_7_output_0, Vars.x_Unsqueeze_8_output_0}, [NumDims.x_Unsqueeze_5_output_0, NumDims.x_Unsqueeze_6_output_0, NumDims.x_Unsqueeze_7_output_0, NumDims.x_Unsqueeze_8_output_0]);
Vars.x_Unsqueeze_8_output_0 = [];
Vars.x_Unsqueeze_7_output_0 = [];
Vars.x_Unsqueeze_6_output_0 = [];
Vars.x_Unsqueeze_5_output_0 = [];

% Reshape:
[shape, NumDims.x_Reshape_3_output_0] = prepareReshapeArgs(Vars.x_Transpose_output_0, Vars.x_Concat_7_output_0, NumDims.x_Transpose_output_0, 0);
Vars.x_Concat_7_output_0 = [];
Vars.x_Reshape_3_output_0 = reshape(Vars.x_Transpose_output_0, shape{:});
Vars.x_Transpose_output_0 = [];

% ConvTranspose:
[weights, bias, stride, dilation, cropping, dataFormat, NumDims.x_output_upscaling_output_upscaling_0__1] = prepareConvTransposeArgs(Vars.mask_decoder_output_upscaling_0_weight, Vars.mask_decoder_output_upscaling_0_bias, Vars.ConvTransposeStride1069, Vars.ConvTransposeDilationFactor1070, Vars.ConvTransposePads1071, "NOTSET", Vars.ConvTransposeOutputShape1072, 1, size(Vars.x_Reshape_3_output_0), NumDims.x_Reshape_3_output_0, NumDims.mask_decoder_output_upscaling_0_weight);
Vars.ConvTransposeOutputShape1072 = [];
Vars.ConvTransposePads1071 = [];
Vars.ConvTransposeDilationFactor1070 = [];
Vars.ConvTransposeStride1069 = [];
Vars.mask_decoder_output_upscaling_0_bias = [];
Vars.mask_decoder_output_upscaling_0_weight = [];
Vars.x_output_upscaling_output_upscaling_0__1 = dltranspconv(Vars.x_Reshape_3_output_0, weights, bias, 'Stride', stride, 'DilationFactor', dilation, 'Cropping', cropping, 'DataFormat', dataFormat);
Vars.x_Reshape_3_output_0 = [];

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1073, NumDims.x_output_upscaling_output_upscaling_0__1);
Vars.ReduceMeanAxes1073 = [];
Vars.x_output_upscaling_output_upscaling_1_3 = mean(Vars.x_output_upscaling_output_upscaling_0__1, dims);
NumDims.x_output_upscaling_output_upscaling_1_3 = NumDims.x_output_upscaling_output_upscaling_0__1;

% Sub:
Vars.x_output_upscaling_output_upscaling_1_5 = Vars.x_output_upscaling_output_upscaling_0__1 - Vars.x_output_upscaling_output_upscaling_1_3;
Vars.x_output_upscaling_output_upscaling_1_3 = [];
Vars.x_output_upscaling_output_upscaling_0__1 = [];
NumDims.x_output_upscaling_output_upscaling_1_5 = max(NumDims.x_output_upscaling_output_upscaling_0__1, NumDims.x_output_upscaling_output_upscaling_1_3);

% Pow:
Vars.x_output_upscaling_output_upscaling_1__9 = power(Vars.x_output_upscaling_output_upscaling_1_5, Vars.x_output_upscaling_output_upscaling_1__6);
Vars.x_output_upscaling_output_upscaling_1__6 = [];
NumDims.x_output_upscaling_output_upscaling_1__9 = max(NumDims.x_output_upscaling_output_upscaling_1_5, NumDims.x_output_upscaling_output_upscaling_1__6);

% ReduceMean:
dims = prepareReduceArgs(Vars.ReduceMeanAxes1074, NumDims.x_output_upscaling_output_upscaling_1__9);
Vars.ReduceMeanAxes1074 = [];
Vars.x_output_upscaling_output_upscaling_1_2 = mean(Vars.x_output_upscaling_output_upscaling_1__9, dims);
Vars.x_output_upscaling_output_upscaling_1__9 = [];
NumDims.x_output_upscaling_output_upscaling_1_2 = NumDims.x_output_upscaling_output_upscaling_1__9;

% Add:
Vars.x_output_upscaling_output_upscaling_1__3 = Vars.x_output_upscaling_output_upscaling_1_2 + Vars.x_output_upscaling_output_upscaling_1__5;
Vars.x_output_upscaling_output_upscaling_1__5 = [];
Vars.x_output_upscaling_output_upscaling_1_2 = [];
NumDims.x_output_upscaling_output_upscaling_1__3 = max(NumDims.x_output_upscaling_output_upscaling_1_2, NumDims.x_output_upscaling_output_upscaling_1__5);

% Sqrt:
Vars.x_output_upscaling_output_upscaling_1_4 = sqrt(Vars.x_output_upscaling_output_upscaling_1__3);
Vars.x_output_upscaling_output_upscaling_1__3 = [];
NumDims.x_output_upscaling_output_upscaling_1_4 = NumDims.x_output_upscaling_output_upscaling_1__3;

% Div:
Vars.x_output_upscaling_output_upscaling_1__7 = Vars.x_output_upscaling_output_upscaling_1_5 ./ Vars.x_output_upscaling_output_upscaling_1_4;
Vars.x_output_upscaling_output_upscaling_1_4 = [];
Vars.x_output_upscaling_output_upscaling_1_5 = [];
NumDims.x_output_upscaling_output_upscaling_1__7 = max(NumDims.x_output_upscaling_output_upscaling_1_5, NumDims.x_output_upscaling_output_upscaling_1_4);

% Mul:
Vars.x_output_upscaling_output_upscaling_1__8 = Vars.onnx__Mul_1717 .* Vars.x_output_upscaling_output_upscaling_1__7;
Vars.x_output_upscaling_output_upscaling_1__7 = [];
Vars.onnx__Mul_1717 = [];
NumDims.x_output_upscaling_output_upscaling_1__8 = max(NumDims.onnx__Mul_1717, NumDims.x_output_upscaling_output_upscaling_1__7);

% Add:
Vars.x_output_upscaling_output_upscaling_1__2 = Vars.x_output_upscaling_output_upscaling_1__8 + Vars.onnx__Add_1719;
Vars.onnx__Add_1719 = [];
Vars.x_output_upscaling_output_upscaling_1__8 = [];
NumDims.x_output_upscaling_output_upscaling_1__2 = max(NumDims.x_output_upscaling_output_upscaling_1__8, NumDims.onnx__Add_1719);

% Div:
Vars.x_output_upscaling_output_upscaling_2__7 = Vars.x_output_upscaling_output_upscaling_1__2 ./ Vars.x_output_upscaling_output_upscaling_2__6;
Vars.x_output_upscaling_output_upscaling_2__6 = [];
NumDims.x_output_upscaling_output_upscaling_2__7 = max(NumDims.x_output_upscaling_output_upscaling_1__2, NumDims.x_output_upscaling_output_upscaling_2__6);

% Erf:
Vars.x_output_upscaling_output_upscaling_2__8 = erf(Vars.x_output_upscaling_output_upscaling_2__7);
Vars.x_output_upscaling_output_upscaling_2__7 = [];
NumDims.x_output_upscaling_output_upscaling_2__8 = NumDims.x_output_upscaling_output_upscaling_2__7;

% Add:
Vars.x_output_upscaling_output_upscaling_2__1 = Vars.x_output_upscaling_output_upscaling_2__8 + Vars.x_output_upscaling_output_upscaling_2__3;
Vars.x_output_upscaling_output_upscaling_2__3 = [];
Vars.x_output_upscaling_output_upscaling_2__8 = [];
NumDims.x_output_upscaling_output_upscaling_2__1 = max(NumDims.x_output_upscaling_output_upscaling_2__8, NumDims.x_output_upscaling_output_upscaling_2__3);

% Mul:
Vars.x_output_upscaling_output_upscaling_2_3 = Vars.x_output_upscaling_output_upscaling_1__2 .* Vars.x_output_upscaling_output_upscaling_2__1;
Vars.x_output_upscaling_output_upscaling_2__1 = [];
Vars.x_output_upscaling_output_upscaling_1__2 = [];
NumDims.x_output_upscaling_output_upscaling_2_3 = max(NumDims.x_output_upscaling_output_upscaling_1__2, NumDims.x_output_upscaling_output_upscaling_2__1);

% Mul:
Vars.x_output_upscaling_output_upscaling_2_2 = Vars.x_output_upscaling_output_upscaling_2_3 .* Vars.x_output_upscaling_output_upscaling_2__5;
Vars.x_output_upscaling_output_upscaling_2__5 = [];
Vars.x_output_upscaling_output_upscaling_2_3 = [];
NumDims.x_output_upscaling_output_upscaling_2_2 = max(NumDims.x_output_upscaling_output_upscaling_2_3, NumDims.x_output_upscaling_output_upscaling_2__5);

% ConvTranspose:
[weights, bias, stride, dilation, cropping, dataFormat, NumDims.x_output_upscaling_output_upscaling_3__1] = prepareConvTransposeArgs(Vars.mask_decoder_output_upscaling_3_weight, Vars.mask_decoder_output_upscaling_3_bias, Vars.ConvTransposeStride1075, Vars.ConvTransposeDilationFactor1076, Vars.ConvTransposePads1077, "NOTSET", Vars.ConvTransposeOutputShape1078, 1, size(Vars.x_output_upscaling_output_upscaling_2_2), NumDims.x_output_upscaling_output_upscaling_2_2, NumDims.mask_decoder_output_upscaling_3_weight);
Vars.ConvTransposeOutputShape1078 = [];
Vars.ConvTransposePads1077 = [];
Vars.ConvTransposeDilationFactor1076 = [];
Vars.ConvTransposeStride1075 = [];
Vars.mask_decoder_output_upscaling_3_bias = [];
Vars.mask_decoder_output_upscaling_3_weight = [];
Vars.x_output_upscaling_output_upscaling_3__1 = dltranspconv(Vars.x_output_upscaling_output_upscaling_2_2, weights, bias, 'Stride', stride, 'DilationFactor', dilation, 'Cropping', cropping, 'DataFormat', dataFormat);
Vars.x_output_upscaling_output_upscaling_2_2 = [];

% Div:
Vars.x_output_upscaling_output_upscaling_4__7 = Vars.x_output_upscaling_output_upscaling_3__1 ./ Vars.x_output_upscaling_output_upscaling_4__6;
Vars.x_output_upscaling_output_upscaling_4__6 = [];
NumDims.x_output_upscaling_output_upscaling_4__7 = max(NumDims.x_output_upscaling_output_upscaling_3__1, NumDims.x_output_upscaling_output_upscaling_4__6);

% Erf:
Vars.x_output_upscaling_output_upscaling_4__8 = erf(Vars.x_output_upscaling_output_upscaling_4__7);
Vars.x_output_upscaling_output_upscaling_4__7 = [];
NumDims.x_output_upscaling_output_upscaling_4__8 = NumDims.x_output_upscaling_output_upscaling_4__7;

% Add:
Vars.x_output_upscaling_output_upscaling_4__1 = Vars.x_output_upscaling_output_upscaling_4__8 + Vars.x_output_upscaling_output_upscaling_4__3;
Vars.x_output_upscaling_output_upscaling_4__3 = [];
Vars.x_output_upscaling_output_upscaling_4__8 = [];
NumDims.x_output_upscaling_output_upscaling_4__1 = max(NumDims.x_output_upscaling_output_upscaling_4__8, NumDims.x_output_upscaling_output_upscaling_4__3);

% Mul:
Vars.x_output_upscaling_output_upscaling_4_3 = Vars.x_output_upscaling_output_upscaling_3__1 .* Vars.x_output_upscaling_output_upscaling_4__1;
Vars.x_output_upscaling_output_upscaling_4__1 = [];
Vars.x_output_upscaling_output_upscaling_3__1 = [];
NumDims.x_output_upscaling_output_upscaling_4_3 = max(NumDims.x_output_upscaling_output_upscaling_3__1, NumDims.x_output_upscaling_output_upscaling_4__1);

% Mul:
Vars.x_output_upscaling_output_upscaling_4_2 = Vars.x_output_upscaling_output_upscaling_4_3 .* Vars.x_output_upscaling_output_upscaling_4__5;
Vars.x_output_upscaling_output_upscaling_4__5 = [];
Vars.x_output_upscaling_output_upscaling_4_3 = [];
NumDims.x_output_upscaling_output_upscaling_4_2 = max(NumDims.x_output_upscaling_output_upscaling_4_3, NumDims.x_output_upscaling_output_upscaling_4__5);

% Gather:
[Vars.x_Gather_7_output_0, NumDims.x_Gather_7_output_0] = onnxGather(Vars.x_Slice_output_0, Vars.x_Constant_9_output_0, 1, NumDims.x_Slice_output_0, NumDims.x_Constant_9_output_0);

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_0_layers_0_1] = prepareGemmArgs(Vars.x_Gather_7_output_0, Vars.mask_decoder_output_hypernetworks_mlps_4, Vars.mask_decoder_output_hypernetworks_mlps_0, Vars.Gemmalpha1079, Vars.Gemmbeta1080, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlps_0);
Vars.Gemmbeta1080 = [];
Vars.Gemmalpha1079 = [];
Vars.mask_decoder_output_hypernetworks_mlps_0 = [];
Vars.mask_decoder_output_hypernetworks_mlps_4 = [];
Vars.x_Gather_7_output_0 = [];
Vars.x_output_hypernetworks_mlps_0_layers_0_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_0_Relu_outpu = relu(Vars.x_output_hypernetworks_mlps_0_layers_0_1);
Vars.x_output_hypernetworks_mlps_0_layers_0_1 = [];
NumDims.x_output_hypernetworks_mlps_0_Relu_outpu = NumDims.x_output_hypernetworks_mlps_0_layers_0_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_0_layers_1_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_0_Relu_outpu, Vars.mask_decoder_output_hypernetworks_mlps_6, Vars.mask_decoder_output_hypernetworks_mlps_5, Vars.Gemmalpha1081, Vars.Gemmbeta1082, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlps_5);
Vars.Gemmbeta1082 = [];
Vars.Gemmalpha1081 = [];
Vars.mask_decoder_output_hypernetworks_mlps_5 = [];
Vars.mask_decoder_output_hypernetworks_mlps_6 = [];
Vars.x_output_hypernetworks_mlps_0_Relu_outpu = [];
Vars.x_output_hypernetworks_mlps_0_layers_1_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_0_Relu_1_out = relu(Vars.x_output_hypernetworks_mlps_0_layers_1_1);
Vars.x_output_hypernetworks_mlps_0_layers_1_1 = [];
NumDims.x_output_hypernetworks_mlps_0_Relu_1_out = NumDims.x_output_hypernetworks_mlps_0_layers_1_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_0_layers_2_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_0_Relu_1_out, Vars.mask_decoder_output_hypernetworks_mlps_8, Vars.mask_decoder_output_hypernetworks_mlps_7, Vars.Gemmalpha1083, Vars.Gemmbeta1084, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlps_7);
Vars.Gemmbeta1084 = [];
Vars.Gemmalpha1083 = [];
Vars.mask_decoder_output_hypernetworks_mlps_7 = [];
Vars.mask_decoder_output_hypernetworks_mlps_8 = [];
Vars.x_output_hypernetworks_mlps_0_Relu_1_out = [];
Vars.x_output_hypernetworks_mlps_0_layers_2_1 = alpha*B*A + beta*C;

% Gather:
[Vars.x_Gather_8_output_0, NumDims.x_Gather_8_output_0] = onnxGather(Vars.x_Slice_output_0, Vars.x_Constant_output_0, 1, NumDims.x_Slice_output_0, NumDims.x_Constant_output_0);

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_1_layers_0_1] = prepareGemmArgs(Vars.x_Gather_8_output_0, Vars.mask_decoder_output_hypernetworks_mlp_1, Vars.mask_decoder_output_hypernetworks_mlps_1, Vars.Gemmalpha1085, Vars.Gemmbeta1086, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlps_1);
Vars.Gemmbeta1086 = [];
Vars.Gemmalpha1085 = [];
Vars.mask_decoder_output_hypernetworks_mlps_1 = [];
Vars.mask_decoder_output_hypernetworks_mlp_1 = [];
Vars.x_Gather_8_output_0 = [];
Vars.x_output_hypernetworks_mlps_1_layers_0_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_1_Relu_outpu = relu(Vars.x_output_hypernetworks_mlps_1_layers_0_1);
Vars.x_output_hypernetworks_mlps_1_layers_0_1 = [];
NumDims.x_output_hypernetworks_mlps_1_Relu_outpu = NumDims.x_output_hypernetworks_mlps_1_layers_0_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_1_layers_1_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_1_Relu_outpu, Vars.mask_decoder_output_hypernetworks_mlp_3, Vars.mask_decoder_output_hypernetworks_mlp_2, Vars.Gemmalpha1087, Vars.Gemmbeta1088, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlp_2);
Vars.Gemmbeta1088 = [];
Vars.Gemmalpha1087 = [];
Vars.mask_decoder_output_hypernetworks_mlp_2 = [];
Vars.mask_decoder_output_hypernetworks_mlp_3 = [];
Vars.x_output_hypernetworks_mlps_1_Relu_outpu = [];
Vars.x_output_hypernetworks_mlps_1_layers_1_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_1_Relu_1_out = relu(Vars.x_output_hypernetworks_mlps_1_layers_1_1);
Vars.x_output_hypernetworks_mlps_1_layers_1_1 = [];
NumDims.x_output_hypernetworks_mlps_1_Relu_1_out = NumDims.x_output_hypernetworks_mlps_1_layers_1_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_1_layers_2_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_1_Relu_1_out, Vars.mask_decoder_output_hypernetworks_mlp_5, Vars.mask_decoder_output_hypernetworks_mlp_4, Vars.Gemmalpha1089, Vars.Gemmbeta1090, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlp_4);
Vars.Gemmbeta1090 = [];
Vars.Gemmalpha1089 = [];
Vars.mask_decoder_output_hypernetworks_mlp_4 = [];
Vars.mask_decoder_output_hypernetworks_mlp_5 = [];
Vars.x_output_hypernetworks_mlps_1_Relu_1_out = [];
Vars.x_output_hypernetworks_mlps_1_layers_2_1 = alpha*B*A + beta*C;

% Gather:
[Vars.x_Gather_9_output_0, NumDims.x_Gather_9_output_0] = onnxGather(Vars.x_Slice_output_0, Vars.x_Constant_12_output_0, 1, NumDims.x_Slice_output_0, NumDims.x_Constant_12_output_0);
Vars.x_Constant_12_output_0 = [];

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_2_layers_0_1] = prepareGemmArgs(Vars.x_Gather_9_output_0, Vars.mask_decoder_output_hypernetworks_mlp_6, Vars.mask_decoder_output_hypernetworks_mlps_2, Vars.Gemmalpha1091, Vars.Gemmbeta1092, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlps_2);
Vars.Gemmbeta1092 = [];
Vars.Gemmalpha1091 = [];
Vars.mask_decoder_output_hypernetworks_mlps_2 = [];
Vars.mask_decoder_output_hypernetworks_mlp_6 = [];
Vars.x_Gather_9_output_0 = [];
Vars.x_output_hypernetworks_mlps_2_layers_0_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_2_Relu_outpu = relu(Vars.x_output_hypernetworks_mlps_2_layers_0_1);
Vars.x_output_hypernetworks_mlps_2_layers_0_1 = [];
NumDims.x_output_hypernetworks_mlps_2_Relu_outpu = NumDims.x_output_hypernetworks_mlps_2_layers_0_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_2_layers_1_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_2_Relu_outpu, Vars.mask_decoder_output_hypernetworks_mlp_8, Vars.mask_decoder_output_hypernetworks_mlp_7, Vars.Gemmalpha1093, Vars.Gemmbeta1094, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlp_7);
Vars.Gemmbeta1094 = [];
Vars.Gemmalpha1093 = [];
Vars.mask_decoder_output_hypernetworks_mlp_7 = [];
Vars.mask_decoder_output_hypernetworks_mlp_8 = [];
Vars.x_output_hypernetworks_mlps_2_Relu_outpu = [];
Vars.x_output_hypernetworks_mlps_2_layers_1_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_2_Relu_1_out = relu(Vars.x_output_hypernetworks_mlps_2_layers_1_1);
Vars.x_output_hypernetworks_mlps_2_layers_1_1 = [];
NumDims.x_output_hypernetworks_mlps_2_Relu_1_out = NumDims.x_output_hypernetworks_mlps_2_layers_1_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_2_layers_2_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_2_Relu_1_out, Vars.mask_decoder_output_hypernetworks_mlp_10, Vars.mask_decoder_output_hypernetworks_mlp_9, Vars.Gemmalpha1095, Vars.Gemmbeta1096, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlp_9);
Vars.Gemmbeta1096 = [];
Vars.Gemmalpha1095 = [];
Vars.mask_decoder_output_hypernetworks_mlp_9 = [];
Vars.mask_decoder_output_hypernetworks_mlp_10 = [];
Vars.x_output_hypernetworks_mlps_2_Relu_1_out = [];
Vars.x_output_hypernetworks_mlps_2_layers_2_1 = alpha*B*A + beta*C;

% Gather:
[Vars.x_Gather_10_output_0, NumDims.x_Gather_10_output_0] = onnxGather(Vars.x_Slice_output_0, Vars.x_Constant_14_output_0, 1, NumDims.x_Slice_output_0, NumDims.x_Constant_14_output_0);
Vars.x_Constant_14_output_0 = [];
Vars.x_Slice_output_0 = [];

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_3_layers_0_1] = prepareGemmArgs(Vars.x_Gather_10_output_0, Vars.mask_decoder_output_hypernetworks_mlp_11, Vars.mask_decoder_output_hypernetworks_mlps_3, Vars.Gemmalpha1097, Vars.Gemmbeta1098, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlps_3);
Vars.Gemmbeta1098 = [];
Vars.Gemmalpha1097 = [];
Vars.mask_decoder_output_hypernetworks_mlps_3 = [];
Vars.mask_decoder_output_hypernetworks_mlp_11 = [];
Vars.x_Gather_10_output_0 = [];
Vars.x_output_hypernetworks_mlps_3_layers_0_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_3_Relu_outpu = relu(Vars.x_output_hypernetworks_mlps_3_layers_0_1);
Vars.x_output_hypernetworks_mlps_3_layers_0_1 = [];
NumDims.x_output_hypernetworks_mlps_3_Relu_outpu = NumDims.x_output_hypernetworks_mlps_3_layers_0_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_3_layers_1_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_3_Relu_outpu, Vars.mask_decoder_output_hypernetworks_mlp_13, Vars.mask_decoder_output_hypernetworks_mlp_12, Vars.Gemmalpha1099, Vars.Gemmbeta1100, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlp_12);
Vars.Gemmbeta1100 = [];
Vars.Gemmalpha1099 = [];
Vars.mask_decoder_output_hypernetworks_mlp_12 = [];
Vars.mask_decoder_output_hypernetworks_mlp_13 = [];
Vars.x_output_hypernetworks_mlps_3_Relu_outpu = [];
Vars.x_output_hypernetworks_mlps_3_layers_1_1 = alpha*B*A + beta*C;

% Relu:
Vars.x_output_hypernetworks_mlps_3_Relu_1_out = relu(Vars.x_output_hypernetworks_mlps_3_layers_1_1);
Vars.x_output_hypernetworks_mlps_3_layers_1_1 = [];
NumDims.x_output_hypernetworks_mlps_3_Relu_1_out = NumDims.x_output_hypernetworks_mlps_3_layers_1_1;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_output_hypernetworks_mlps_3_layers_2_1] = prepareGemmArgs(Vars.x_output_hypernetworks_mlps_3_Relu_1_out, Vars.mask_decoder_output_hypernetworks_mlp_15, Vars.mask_decoder_output_hypernetworks_mlp_14, Vars.Gemmalpha1101, Vars.Gemmbeta1102, 0, 1, NumDims.mask_decoder_output_hypernetworks_mlp_14);
Vars.Gemmbeta1102 = [];
Vars.Gemmalpha1101 = [];
Vars.mask_decoder_output_hypernetworks_mlp_14 = [];
Vars.mask_decoder_output_hypernetworks_mlp_15 = [];
Vars.x_output_hypernetworks_mlps_3_Relu_1_out = [];
Vars.x_output_hypernetworks_mlps_3_layers_2_1 = alpha*B*A + beta*C;

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_9_output_0] = prepareUnsqueezeArgs(Vars.x_output_hypernetworks_mlps_0_layers_2_1, Vars.x_Constant_55_output_0, NumDims.x_output_hypernetworks_mlps_0_layers_2_1);
Vars.x_Constant_55_output_0 = [];
Vars.x_Unsqueeze_9_output_0 = reshape(Vars.x_output_hypernetworks_mlps_0_layers_2_1, shape);
Vars.x_output_hypernetworks_mlps_0_layers_2_1 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_10_output_0] = prepareUnsqueezeArgs(Vars.x_output_hypernetworks_mlps_1_layers_2_1, Vars.x_Constant_56_output_0, NumDims.x_output_hypernetworks_mlps_1_layers_2_1);
Vars.x_Constant_56_output_0 = [];
Vars.x_Unsqueeze_10_output_0 = reshape(Vars.x_output_hypernetworks_mlps_1_layers_2_1, shape);
Vars.x_output_hypernetworks_mlps_1_layers_2_1 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_11_output_0] = prepareUnsqueezeArgs(Vars.x_output_hypernetworks_mlps_2_layers_2_1, Vars.x_Constant_57_output_0, NumDims.x_output_hypernetworks_mlps_2_layers_2_1);
Vars.x_Constant_57_output_0 = [];
Vars.x_Unsqueeze_11_output_0 = reshape(Vars.x_output_hypernetworks_mlps_2_layers_2_1, shape);
Vars.x_output_hypernetworks_mlps_2_layers_2_1 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_12_output_0] = prepareUnsqueezeArgs(Vars.x_output_hypernetworks_mlps_3_layers_2_1, Vars.x_Constant_58_output_0, NumDims.x_output_hypernetworks_mlps_3_layers_2_1);
Vars.x_Constant_58_output_0 = [];
Vars.x_Unsqueeze_12_output_0 = reshape(Vars.x_output_hypernetworks_mlps_3_layers_2_1, shape);
Vars.x_output_hypernetworks_mlps_3_layers_2_1 = [];

% Concat:
[Vars.x_Concat_8_output_0, NumDims.x_Concat_8_output_0] = onnxConcat(1, {Vars.x_Unsqueeze_9_output_0, Vars.x_Unsqueeze_10_output_0, Vars.x_Unsqueeze_11_output_0, Vars.x_Unsqueeze_12_output_0}, [NumDims.x_Unsqueeze_9_output_0, NumDims.x_Unsqueeze_10_output_0, NumDims.x_Unsqueeze_11_output_0, NumDims.x_Unsqueeze_12_output_0]);
Vars.x_Unsqueeze_12_output_0 = [];
Vars.x_Unsqueeze_11_output_0 = [];
Vars.x_Unsqueeze_10_output_0 = [];
Vars.x_Unsqueeze_9_output_0 = [];

% Shape:
[Vars.x_Shape_10_output_0, NumDims.x_Shape_10_output_0] = onnxShape(Vars.x_output_upscaling_output_upscaling_4_2, NumDims.x_output_upscaling_output_upscaling_4_2);

% Gather:
[Vars.x_Gather_11_output_0, NumDims.x_Gather_11_output_0] = onnxGather(Vars.x_Shape_10_output_0, Vars.x_Constant_59_output_0, 0, NumDims.x_Shape_10_output_0, NumDims.x_Constant_59_output_0);
Vars.x_Constant_59_output_0 = [];
Vars.x_Shape_10_output_0 = [];

% Shape:
[Vars.x_Shape_11_output_0, NumDims.x_Shape_11_output_0] = onnxShape(Vars.x_output_upscaling_output_upscaling_4_2, NumDims.x_output_upscaling_output_upscaling_4_2);

% Gather:
[Vars.x_Gather_12_output_0, NumDims.x_Gather_12_output_0] = onnxGather(Vars.x_Shape_11_output_0, Vars.x_Constant_60_output_0, 0, NumDims.x_Shape_11_output_0, NumDims.x_Constant_60_output_0);
Vars.x_Constant_60_output_0 = [];
Vars.x_Shape_11_output_0 = [];

% Shape:
[Vars.x_Shape_12_output_0, NumDims.x_Shape_12_output_0] = onnxShape(Vars.x_output_upscaling_output_upscaling_4_2, NumDims.x_output_upscaling_output_upscaling_4_2);

% Gather:
[Vars.x_Gather_13_output_0, NumDims.x_Gather_13_output_0] = onnxGather(Vars.x_Shape_12_output_0, Vars.x_Constant_61_output_0, 0, NumDims.x_Shape_12_output_0, NumDims.x_Constant_61_output_0);
Vars.x_Constant_61_output_0 = [];
Vars.x_Shape_12_output_0 = [];

% Shape:
[Vars.x_Shape_13_output_0, NumDims.x_Shape_13_output_0] = onnxShape(Vars.x_output_upscaling_output_upscaling_4_2, NumDims.x_output_upscaling_output_upscaling_4_2);

% Gather:
[Vars.x_Gather_14_output_0, NumDims.x_Gather_14_output_0] = onnxGather(Vars.x_Shape_13_output_0, Vars.x_Constant_62_output_0, 0, NumDims.x_Shape_13_output_0, NumDims.x_Constant_62_output_0);
Vars.x_Constant_62_output_0 = [];
Vars.x_Shape_13_output_0 = [];

% Mul:
Vars.x_Mul_15_output_0 = Vars.x_Gather_13_output_0 .* Vars.x_Gather_14_output_0;
NumDims.x_Mul_15_output_0 = max(NumDims.x_Gather_13_output_0, NumDims.x_Gather_14_output_0);

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_13_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_11_output_0, Vars.onnx__Unsqueeze_1566, NumDims.x_Gather_11_output_0);
Vars.onnx__Unsqueeze_1566 = [];
Vars.x_Unsqueeze_13_output_0 = reshape(Vars.x_Gather_11_output_0, shape);

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_14_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_12_output_0, Vars.onnx__Unsqueeze_1568, NumDims.x_Gather_12_output_0);
Vars.onnx__Unsqueeze_1568 = [];
Vars.x_Unsqueeze_14_output_0 = reshape(Vars.x_Gather_12_output_0, shape);
Vars.x_Gather_12_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_15_output_0] = prepareUnsqueezeArgs(Vars.x_Mul_15_output_0, Vars.onnx__Unsqueeze_1570, NumDims.x_Mul_15_output_0);
Vars.onnx__Unsqueeze_1570 = [];
Vars.x_Unsqueeze_15_output_0 = reshape(Vars.x_Mul_15_output_0, shape);
Vars.x_Mul_15_output_0 = [];

% Concat:
[Vars.x_Concat_9_output_0, NumDims.x_Concat_9_output_0] = onnxConcat(0, {Vars.x_Unsqueeze_13_output_0, Vars.x_Unsqueeze_14_output_0, Vars.x_Unsqueeze_15_output_0}, [NumDims.x_Unsqueeze_13_output_0, NumDims.x_Unsqueeze_14_output_0, NumDims.x_Unsqueeze_15_output_0]);
Vars.x_Unsqueeze_15_output_0 = [];
Vars.x_Unsqueeze_14_output_0 = [];
Vars.x_Unsqueeze_13_output_0 = [];

% Reshape:
[shape, NumDims.x_Reshape_4_output_0] = prepareReshapeArgs(Vars.x_output_upscaling_output_upscaling_4_2, Vars.x_Concat_9_output_0, NumDims.x_output_upscaling_output_upscaling_4_2, 0);
Vars.x_Concat_9_output_0 = [];
Vars.x_Reshape_4_output_0 = reshape(Vars.x_output_upscaling_output_upscaling_4_2, shape{:});
Vars.x_output_upscaling_output_upscaling_4_2 = [];

% MatMul:
[Vars.x_MatMul_1_output_0, NumDims.x_MatMul_1_output_0] = onnxMatMul(Vars.x_Concat_8_output_0, Vars.x_Reshape_4_output_0, NumDims.x_Concat_8_output_0, NumDims.x_Reshape_4_output_0);
Vars.x_Reshape_4_output_0 = [];
Vars.x_Concat_8_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_16_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_11_output_0, Vars.onnx__Unsqueeze_1575, NumDims.x_Gather_11_output_0);
Vars.onnx__Unsqueeze_1575 = [];
Vars.x_Unsqueeze_16_output_0 = reshape(Vars.x_Gather_11_output_0, shape);
Vars.x_Gather_11_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_17_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_13_output_0, Vars.onnx__Unsqueeze_1579, NumDims.x_Gather_13_output_0);
Vars.onnx__Unsqueeze_1579 = [];
Vars.x_Unsqueeze_17_output_0 = reshape(Vars.x_Gather_13_output_0, shape);
Vars.x_Gather_13_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_18_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_14_output_0, Vars.onnx__Unsqueeze_1581, NumDims.x_Gather_14_output_0);
Vars.onnx__Unsqueeze_1581 = [];
Vars.x_Unsqueeze_18_output_0 = reshape(Vars.x_Gather_14_output_0, shape);
Vars.x_Gather_14_output_0 = [];

% Concat:
[Vars.x_Concat_10_output_0, NumDims.x_Concat_10_output_0] = onnxConcat(0, {Vars.x_Unsqueeze_16_output_0, Vars.x_Constant_63_output_0, Vars.x_Unsqueeze_17_output_0, Vars.x_Unsqueeze_18_output_0}, [NumDims.x_Unsqueeze_16_output_0, NumDims.x_Constant_63_output_0, NumDims.x_Unsqueeze_17_output_0, NumDims.x_Unsqueeze_18_output_0]);
Vars.x_Unsqueeze_18_output_0 = [];
Vars.x_Unsqueeze_17_output_0 = [];
Vars.x_Constant_63_output_0 = [];
Vars.x_Unsqueeze_16_output_0 = [];

% Reshape:
[shape, NumDims.low_res_masks] = prepareReshapeArgs(Vars.x_MatMul_1_output_0, Vars.x_Concat_10_output_0, NumDims.x_MatMul_1_output_0, 0);
Vars.x_Concat_10_output_0 = [];
Vars.low_res_masks = reshape(Vars.x_MatMul_1_output_0, shape{:});
Vars.x_MatMul_1_output_0 = [];

% Gemm:
[A, B, C, alpha, beta, NumDims.x_iou_prediction_head_layers_0_Gemm_outp] = prepareGemmArgs(Vars.x_Gather_6_output_0, Vars.mask_decoder_iou_prediction_head_layer_1, Vars.mask_decoder_iou_prediction_head_layers_, Vars.Gemmalpha1103, Vars.Gemmbeta1104, 0, 1, NumDims.mask_decoder_iou_prediction_head_layers_);
Vars.Gemmbeta1104 = [];
Vars.Gemmalpha1103 = [];
Vars.mask_decoder_iou_prediction_head_layers_ = [];
Vars.mask_decoder_iou_prediction_head_layer_1 = [];
Vars.x_Gather_6_output_0 = [];
Vars.x_iou_prediction_head_layers_0_Gemm_outp = alpha*B*A + beta*C;

% Relu:
Vars.x_iou_prediction_head_Relu_output_0 = relu(Vars.x_iou_prediction_head_layers_0_Gemm_outp);
Vars.x_iou_prediction_head_layers_0_Gemm_outp = [];
NumDims.x_iou_prediction_head_Relu_output_0 = NumDims.x_iou_prediction_head_layers_0_Gemm_outp;

% Gemm:
[A, B, C, alpha, beta, NumDims.x_iou_prediction_head_layers_1_Gemm_outp] = prepareGemmArgs(Vars.x_iou_prediction_head_Relu_output_0, Vars.mask_decoder_iou_prediction_head_layer_3, Vars.mask_decoder_iou_prediction_head_layer_2, Vars.Gemmalpha1105, Vars.Gemmbeta1106, 0, 1, NumDims.mask_decoder_iou_prediction_head_layer_2);
Vars.Gemmbeta1106 = [];
Vars.Gemmalpha1105 = [];
Vars.mask_decoder_iou_prediction_head_layer_2 = [];
Vars.mask_decoder_iou_prediction_head_layer_3 = [];
Vars.x_iou_prediction_head_Relu_output_0 = [];
Vars.x_iou_prediction_head_layers_1_Gemm_outp = alpha*B*A + beta*C;

% Relu:
Vars.x_iou_prediction_head_Relu_1_output_0 = relu(Vars.x_iou_prediction_head_layers_1_Gemm_outp);
Vars.x_iou_prediction_head_layers_1_Gemm_outp = [];
NumDims.x_iou_prediction_head_Relu_1_output_0 = NumDims.x_iou_prediction_head_layers_1_Gemm_outp;

% Gemm:
[A, B, C, alpha, beta, NumDims.iou_predictions] = prepareGemmArgs(Vars.x_iou_prediction_head_Relu_1_output_0, Vars.mask_decoder_iou_prediction_head_layer_5, Vars.mask_decoder_iou_prediction_head_layer_4, Vars.Gemmalpha1107, Vars.Gemmbeta1108, 0, 1, NumDims.mask_decoder_iou_prediction_head_layer_4);
Vars.Gemmbeta1108 = [];
Vars.Gemmalpha1107 = [];
Vars.mask_decoder_iou_prediction_head_layer_4 = [];
Vars.mask_decoder_iou_prediction_head_layer_5 = [];
Vars.x_iou_prediction_head_Relu_1_output_0 = [];
Vars.iou_predictions = alpha*B*A + beta*C;

% Shape:
[Vars.x_Shape_14_output_0, NumDims.x_Shape_14_output_0] = onnxShape(Vars.low_res_masks, NumDims.low_res_masks);

% Slice:
[Indices, NumDims.x_Slice_1_output_0] = prepareSliceArgs(Vars.x_Shape_14_output_0, Vars.x_Constant_65_output_0, Vars.x_Constant_66_output_0, Vars.x_Constant_64_output_0, '', NumDims.x_Shape_14_output_0);
Vars.x_Constant_64_output_0 = [];
Vars.x_Constant_66_output_0 = [];
Vars.x_Constant_65_output_0 = [];
Vars.x_Slice_1_output_0 = subsref(Vars.x_Shape_14_output_0, Indices);
Vars.x_Shape_14_output_0 = [];

% Concat:
[Vars.x_Concat_11_output_0, NumDims.x_Concat_11_output_0] = onnxConcat(0, {Vars.x_Slice_1_output_0, Vars.x_Constant_67_output_0}, [NumDims.x_Slice_1_output_0, NumDims.x_Constant_67_output_0]);
Vars.x_Constant_67_output_0 = [];
Vars.x_Slice_1_output_0 = [];

% Resize:
[DLTScales, DLTSizes, dataFormat, Method, GeometricTransformMode, NearestRoundingMode, NumDims.x_Resize_output_0] = prepareResize11Args(dlarray([]), dlarray([]), Vars.x_Concat_11_output_0, "half_pixel", "linear", "floor", NumDims.low_res_masks);
Vars.x_Concat_11_output_0 = [];

Vars.x_Resize_output_0 = Vars.low_res_masks;

% Cast:
Vars.x_Cast_6_output_0 = single(Vars.orig_im_size);
Vars.orig_im_size = [];
NumDims.x_Cast_6_output_0 = NumDims.orig_im_size;

% ReduceMax:
dims = prepareReduceArgs(Vars.ReduceMaxAxes1109, NumDims.x_Cast_6_output_0);
Vars.x_ReduceMax_output_0 = max(Vars.x_Cast_6_output_0, [], dims);
[Vars.x_ReduceMax_output_0, NumDims.x_ReduceMax_output_0] = onnxSqueeze(Vars.x_ReduceMax_output_0, Vars.ReduceMaxAxes1109, NumDims.x_Cast_6_output_0);
Vars.ReduceMaxAxes1109 = [];

% Reciprocal:
Vars.x_Reciprocal_output_0 = 1./(Vars.x_ReduceMax_output_0);
Vars.x_ReduceMax_output_0 = [];
NumDims.x_Reciprocal_output_0 = NumDims.x_ReduceMax_output_0;

% Mul:
Vars.x_Mul_16_output_0 = Vars.x_Reciprocal_output_0 .* Vars.x_Constant_68_output_0;
Vars.x_Constant_68_output_0 = [];
Vars.x_Reciprocal_output_0 = [];
NumDims.x_Mul_16_output_0 = max(NumDims.x_Reciprocal_output_0, NumDims.x_Constant_68_output_0);

% Mul:
Vars.x_Mul_17_output_0 = Vars.x_Mul_16_output_0 .* Vars.x_Cast_6_output_0;
Vars.x_Mul_16_output_0 = [];
NumDims.x_Mul_17_output_0 = max(NumDims.x_Mul_16_output_0, NumDims.x_Cast_6_output_0);

% Add:
Vars.x_Add_8_output_0 = Vars.x_Mul_17_output_0 + Vars.x_Constant_69_output_0;
Vars.x_Constant_69_output_0 = [];
Vars.x_Mul_17_output_0 = [];
NumDims.x_Add_8_output_0 = max(NumDims.x_Mul_17_output_0, NumDims.x_Constant_69_output_0);

% Floor:
Vars.x_Floor_output_0 = floor(Vars.x_Add_8_output_0);
Vars.x_Add_8_output_0 = [];
NumDims.x_Floor_output_0 = NumDims.x_Add_8_output_0;

% Cast:
Vars.x_Cast_7_output_0 = cast(int64(extractdata(Vars.x_Floor_output_0)), 'like', Vars.x_Floor_output_0);
Vars.x_Floor_output_0 = [];
NumDims.x_Cast_7_output_0 = NumDims.x_Floor_output_0;

% Cast:
Vars.x_Cast_8_output_0 = cast(int64(extractdata(Vars.x_Cast_7_output_0)), 'like', Vars.x_Cast_7_output_0);
Vars.x_Cast_7_output_0 = [];
NumDims.x_Cast_8_output_0 = NumDims.x_Cast_7_output_0;

% Gather:
[Vars.x_Gather_15_output_0, NumDims.x_Gather_15_output_0] = onnxGather(Vars.x_Cast_8_output_0, Vars.x_Constant_9_output_0, 0, NumDims.x_Cast_8_output_0, NumDims.x_Constant_9_output_0);

% Gather:
[Vars.x_Gather_16_output_0, NumDims.x_Gather_16_output_0] = onnxGather(Vars.x_Cast_8_output_0, Vars.x_Constant_output_0, 0, NumDims.x_Cast_8_output_0, NumDims.x_Constant_output_0);
Vars.x_Cast_8_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_19_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_15_output_0, Vars.x_Constant_71_output_0, NumDims.x_Gather_15_output_0);
Vars.x_Constant_71_output_0 = [];
Vars.x_Unsqueeze_19_output_0 = reshape(Vars.x_Gather_15_output_0, shape);
Vars.x_Gather_15_output_0 = [];

% Slice:
[Indices, NumDims.x_Slice_2_output_0] = prepareSliceArgs(Vars.x_Resize_output_0, Vars.x_Constant_70_output_0, Vars.x_Unsqueeze_19_output_0, Vars.x_Constant_72_output_0, Vars.x_Constant_73_output_0, NumDims.x_Resize_output_0);
Vars.x_Constant_73_output_0 = [];
Vars.x_Constant_72_output_0 = [];
Vars.x_Unsqueeze_19_output_0 = [];
Vars.x_Constant_70_output_0 = [];
Vars.x_Slice_2_output_0 = subsref(Vars.x_Resize_output_0, Indices);
Vars.x_Resize_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_20_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_16_output_0, Vars.x_Constant_75_output_0, NumDims.x_Gather_16_output_0);
Vars.x_Constant_75_output_0 = [];
Vars.x_Unsqueeze_20_output_0 = reshape(Vars.x_Gather_16_output_0, shape);
Vars.x_Gather_16_output_0 = [];

% Slice:
[Indices, NumDims.x_Slice_3_output_0] = prepareSliceArgs(Vars.x_Slice_2_output_0, Vars.x_Constant_74_output_0, Vars.x_Unsqueeze_20_output_0, Vars.x_Constant_76_output_0, Vars.x_Constant_77_output_0, NumDims.x_Slice_2_output_0);
Vars.x_Constant_77_output_0 = [];
Vars.x_Constant_76_output_0 = [];
Vars.x_Unsqueeze_20_output_0 = [];
Vars.x_Constant_74_output_0 = [];
Vars.x_Slice_3_output_0 = subsref(Vars.x_Slice_2_output_0, Indices);
Vars.x_Slice_2_output_0 = [];

% Cast:
Vars.x_Cast_9_output_0 = cast(int64(extractdata(Vars.x_Cast_6_output_0)), 'like', Vars.x_Cast_6_output_0);
Vars.x_Cast_6_output_0 = [];
NumDims.x_Cast_9_output_0 = NumDims.x_Cast_6_output_0;

% Gather:
[Vars.x_Gather_17_output_0, NumDims.x_Gather_17_output_0] = onnxGather(Vars.x_Cast_9_output_0, Vars.x_Constant_9_output_0, 0, NumDims.x_Cast_9_output_0, NumDims.x_Constant_9_output_0);
Vars.x_Constant_9_output_0 = [];

% Gather:
[Vars.x_Gather_18_output_0, NumDims.x_Gather_18_output_0] = onnxGather(Vars.x_Cast_9_output_0, Vars.x_Constant_output_0, 0, NumDims.x_Cast_9_output_0, NumDims.x_Constant_output_0);
Vars.x_Constant_output_0 = [];
Vars.x_Cast_9_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_21_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_17_output_0, Vars.onnx__Unsqueeze_1633, NumDims.x_Gather_17_output_0);
Vars.onnx__Unsqueeze_1633 = [];
Vars.x_Unsqueeze_21_output_0 = reshape(Vars.x_Gather_17_output_0, shape);
Vars.x_Gather_17_output_0 = [];

% Unsqueeze:
[shape, NumDims.x_Unsqueeze_22_output_0] = prepareUnsqueezeArgs(Vars.x_Gather_18_output_0, Vars.onnx__Unsqueeze_1635, NumDims.x_Gather_18_output_0);
Vars.onnx__Unsqueeze_1635 = [];
Vars.x_Unsqueeze_22_output_0 = reshape(Vars.x_Gather_18_output_0, shape);
Vars.x_Gather_18_output_0 = [];

% Concat:
[Vars.x_Concat_12_output_0, NumDims.x_Concat_12_output_0] = onnxConcat(0, {Vars.x_Unsqueeze_21_output_0, Vars.x_Unsqueeze_22_output_0}, [NumDims.x_Unsqueeze_21_output_0, NumDims.x_Unsqueeze_22_output_0]);
Vars.x_Unsqueeze_22_output_0 = [];
Vars.x_Unsqueeze_21_output_0 = [];

% Shape:
[Vars.x_Shape_15_output_0, NumDims.x_Shape_15_output_0] = onnxShape(Vars.x_Slice_3_output_0, NumDims.x_Slice_3_output_0);

% Slice:
[Indices, NumDims.x_Slice_4_output_0] = prepareSliceArgs(Vars.x_Shape_15_output_0, Vars.x_Constant_79_output_0, Vars.x_Constant_80_output_0, Vars.x_Constant_78_output_0, '', NumDims.x_Shape_15_output_0);
Vars.x_Constant_78_output_0 = [];
Vars.x_Constant_80_output_0 = [];
Vars.x_Constant_79_output_0 = [];
Vars.x_Slice_4_output_0 = subsref(Vars.x_Shape_15_output_0, Indices);
Vars.x_Shape_15_output_0 = [];

% Cast:
Vars.x_Cast_10_output_0 = cast(int64(extractdata(Vars.x_Concat_12_output_0)), 'like', Vars.x_Concat_12_output_0);
Vars.x_Concat_12_output_0 = [];
NumDims.x_Cast_10_output_0 = NumDims.x_Concat_12_output_0;

% Concat:
[Vars.x_Concat_13_output_0, NumDims.x_Concat_13_output_0] = onnxConcat(0, {Vars.x_Slice_4_output_0, Vars.x_Cast_10_output_0}, [NumDims.x_Slice_4_output_0, NumDims.x_Cast_10_output_0]);
Vars.x_Cast_10_output_0 = [];
Vars.x_Slice_4_output_0 = [];

% Resize:
[DLTScales, DLTSizes, dataFormat, Method, GeometricTransformMode, NearestRoundingMode, NumDims.masks] = prepareResize11Args(dlarray([]), dlarray([]), Vars.x_Concat_13_output_0, "half_pixel", "linear", "floor", NumDims.x_Slice_3_output_0);
Vars.x_Concat_13_output_0 = [];
dataFormat = 'SSCB';

Vars.masks = Vars.x_Slice_3_output_0;
Vars.x_Slice_3_output_0 = [];
% Set graph output arguments from Vars and NumDims:
masks = Vars.masks;
Vars.masks = [];
masksNumDims1116 = NumDims.masks;
iou_predictions = Vars.iou_predictions;
Vars.iou_predictions = [];
iou_predictionsNumDims1117 = NumDims.iou_predictions;
low_res_masks = Vars.low_res_masks;
Vars.low_res_masks = [];
low_res_masksNumDims1118 = NumDims.low_res_masks;
% Set output state from Vars:
state = updateStruct(state, Vars);
end

function [inputDataPerms, outputDataPerms, Training] = parseInputs(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, numDataOutputs, params, varargin)
% Function to validate inputs to SAMDecFcn:
p = inputParser;
isValidArrayInput = @(x)isnumeric(x) || isstring(x);
isValidONNXParameters = @(x)isa(x, 'ONNXParameters');
addRequired(p, 'image_embeddings', isValidArrayInput);
addRequired(p, 'point_coords', isValidArrayInput);
addRequired(p, 'point_labels', isValidArrayInput);
addRequired(p, 'mask_input', isValidArrayInput);
addRequired(p, 'has_mask_input', isValidArrayInput);
addRequired(p, 'orig_im_size', isValidArrayInput);
addRequired(p, 'params');
addParameter(p, 'InputDataPermutation', 'auto');
addParameter(p, 'OutputDataPermutation', 'auto');
addParameter(p, 'Training', false);
parse(p, image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, params, varargin{:});
inputDataPerms = p.Results.InputDataPermutation;
outputDataPerms = p.Results.OutputDataPermutation;
Training = p.Results.Training;
if isnumeric(inputDataPerms)
    inputDataPerms = {inputDataPerms};
end
if isstring(inputDataPerms) && isscalar(inputDataPerms) || ischar(inputDataPerms)
    inputDataPerms = repmat({inputDataPerms},1,6);
end
if isnumeric(outputDataPerms)
    outputDataPerms = {outputDataPerms};
end
if isstring(outputDataPerms) && isscalar(outputDataPerms) || ischar(outputDataPerms)
    outputDataPerms = repmat({outputDataPerms},1,numDataOutputs);
end
end

function [image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, Training, outputDataPerms, anyDlarrayInputs] = preprocessInput(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, params, varargin)
% Parse input arguments
[inputDataPerms, outputDataPerms, Training] = parseInputs(image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size, 3, params, varargin{:});
anyDlarrayInputs = any(cellfun(@(x)isa(x, 'dlarray'), {image_embeddings, point_coords, point_labels, mask_input, has_mask_input, orig_im_size}));
% Make the input variables into unlabelled dlarrays:
image_embeddings = makeUnlabeledDlarray(image_embeddings);
point_coords = makeUnlabeledDlarray(point_coords);
point_labels = makeUnlabeledDlarray(point_labels);
mask_input = makeUnlabeledDlarray(mask_input);
has_mask_input = makeUnlabeledDlarray(has_mask_input);
orig_im_size = makeUnlabeledDlarray(orig_im_size);
% Permute inputs if requested:
image_embeddings = permuteInputVar(image_embeddings, inputDataPerms{1}, 4);
point_coords = permuteInputVar(point_coords, inputDataPerms{2}, 3);
point_labels = permuteInputVar(point_labels, inputDataPerms{3}, 2);
mask_input = permuteInputVar(mask_input, inputDataPerms{4}, 4);
has_mask_input = permuteInputVar(has_mask_input, inputDataPerms{5}, 1);
orig_im_size = permuteInputVar(orig_im_size, inputDataPerms{6}, 1);
% Check input size(s):
checkInputSize(size(image_embeddings), {1 256 64 64}, "image_embeddings");
%checkInputSize(size(point_coords), {1 'num_points' 2}, "point_coords");
%checkInputSize(size(point_labels), {1 'num_points'}, "point_labels");
checkInputSize(size(mask_input), {1 1 256 256}, "mask_input");
checkInputSize(size(has_mask_input), {1}, "has_mask_input");
checkInputSize(size(orig_im_size), {2}, "orig_im_size");
end

function [masks, iou_predictions, low_res_masks] = postprocessOutput(masks, iou_predictions, low_res_masks, outputDataPerms, anyDlarrayInputs, Training, varargin)
% Set output type:
if ~anyDlarrayInputs && ~Training
    if isdlarray(masks)
        masks = extractdata(masks);
    end
    if isdlarray(iou_predictions)
        iou_predictions = extractdata(iou_predictions);
    end
    if isdlarray(low_res_masks)
        low_res_masks = extractdata(low_res_masks);
    end
end
% Permute outputs if requested:
masks = permuteOutputVar(masks, outputDataPerms{1}, 4);
iou_predictions = permuteOutputVar(iou_predictions, outputDataPerms{2}, 2);
low_res_masks = permuteOutputVar(low_res_masks, outputDataPerms{3}, 4);
end


%% dlarray functions implementing ONNX operators:

function [Y, numDimsY] = onnxConcat(ONNXAxis, XCell, numDimsXArray)
% Concatentation that treats all empties the same. Necessary because
% dlarray.cat does not allow, for example, cat(1, 1x1, 1x0) because the
% second dimension sizes do not match.
numDimsY = numDimsXArray(1);
XCell(cellfun(@isempty, XCell)) = [];
if isempty(XCell)
    Y = dlarray([]);
else
    if ONNXAxis<0
        ONNXAxis = ONNXAxis + numDimsY;
    end
    DLTAxis = numDimsY - ONNXAxis;
    Y = cat(DLTAxis, XCell{:});
end
end

function [Y, numDimsY] = onnxConstantOfShape(value, ONNXShape)
% Returns a DLT tensor with the reverse of the ONNXShape.
DLTShape = fliplr(extractdata(ONNXShape(:)'));
numDimsY = numel(DLTShape);
switch numDimsY
    case 0
        % If shape is empty, output is a scalar
        Y = value;
    case 1
        Y = ones(DLTShape,1) .* value;
    otherwise
        Y = ones(DLTShape) .* value;
end
end

function [Y, numDimsY] = onnxGather(X, ONNXIdx, ONNXAxis, numDimsX, numDimsIdx)
% Function implementing the ONNX Gather operator

% In ONNX, 'Gather' first indexes into dimension ONNXAxis of data, using
% the contents of ONNXIdx as the indices. Then, it reshapes the ONNXAxis
% into the shape of ONNXIdx.
%   Example 1:
% Suppose data has shape [2 3 4 5], ONNXIdx has shape [6 7], and axis=1.
% The result has shape [2 6 7 4 5].
%   Example 2:
% Suppose data has shape [2 3 4 5], ONNXIdx has shape [6], and axis=1.
% The result has shape [2 6 4 5].
%   Example 3:
% Suppose data has shape [2 3 4 5], ONNXIdx has shape [] (a scalar), and axis=1.
% The result has shape [2 4 5].
%
% Since we're using reverse indexing relative to ONNX, in this function
% data and ONNXIdx both have reversed dimension ordering.
numDimsY = numDimsIdx + (numDimsX - 1);
if isempty(X)
    Y = X;
    return;
end
% (1) First, do the subsref part of Gather
if ONNXAxis<0
    ONNXAxis = ONNXAxis + numDimsX;                                 % Axis can be negative. Convert it to its positive equivalent.
end
dltAxis = numDimsX - ONNXAxis;                                      % Convert axis to DLT. ONNXAxis is origin 0 and we index from the end
ONNXIdx(ONNXIdx<0) = ONNXIdx(ONNXIdx<0) + size(X, dltAxis);         % ONNXIdx can have negative components. Make them positive.
dltIdx  = extractdata(ONNXIdx) + 1;                                 % ONNXIdx is origin-0 in ONNX, so add 1 to get dltIdx
% Use subsref to index into data
Indices.subs = repmat({':'}, 1, numDimsX);
Indices.subs{dltAxis} = dltIdx(:);                                  % Index as a column to ensure the output is 1-D in the indexed dimension (for now).
Indices.type = '()';
Y = subsref(X, Indices);
% (2) Now do the reshaping part of Gather
shape = size(Y, 1:numDimsX);
if numDimsIdx == 0
    % Delete the indexed dimension
    shape(dltAxis) = [];
elseif numDimsIdx > 1
    % Reshape the indexed dimension into the shape of ONNXIdx
    shape = [shape(1:dltAxis-1) size(ONNXIdx, 1:numDimsIdx) shape(dltAxis+1:end)];
end
% Extend the shape to 2D so it's valid MATLAB
if numel(shape) < 2
    shape = [shape ones(1,2-numel(shape))];
end
Y = reshape(Y, shape);
end

function [D, numDimsD] = onnxMatMul(A, B, numDimsA, numDimsB)
% Implements the ONNX MatMul operator.

% If B is 1-D, temporarily extend it to a row vector
if numDimsB==1
    B = B(:)';
end
maxNumDims = max(numDimsA, numDimsB);
numDimsD = maxNumDims;
if maxNumDims > 2
    % Removes dlarray formats if only one of the input dlarrays is formatted.
    if sum([isempty(dims(A)), isempty(dims(B))]) == 1
        D = pagemtimes(stripdims(B), stripdims(A));
    else
        %computes matrix product of corresponding pages of input arrays A and
        %B.
        D = pagemtimes(B, A);
    end
else
    D = B * A;
    if numDimsA==1 || numDimsB==1
        D = D(:);
        numDimsD = 1;
    end
end
end

function [Y, numDimsY] = onnxShape(X, numDimsX)
% Implements the ONNX Shape operator
% Return the reverse ONNX shape as a 1D column vector
switch numDimsX
    case 0
        if isempty(X)
            Y = dlarray(0);
        else
            Y = dlarray(1);
        end
    case 1
        if isempty(X)
            Y = dlarray(0);
        else
            Y = dlarray(size(X,1));
        end
    otherwise
        Y = dlarray(fliplr(size(X, 1:numDimsX))');
end
numDimsY = 1;
end

function [Y, numDimsY] = onnxSoftmax13(X, ONNXaxis, numDimsX)
% Implements the ONNX Softmax function:
% Softmax(input, axis) = Exp(input) / ReduceSum(Exp(input), axis=axis, keepdims=1)
% The input is constrained to floating point types.

if ONNXaxis < 0
    ONNXaxis = ONNXaxis + numDimsX;
end
DLTaxis = numDimsX - ONNXaxis;

X = X - max(X, [], DLTaxis); % Subtract max(X) for numerical stability
expX = exp(X);
dims = prepareReduceArgs(ONNXaxis, numDimsX);
Y = expX ./ sum(expX, dims);
numDimsY = numDimsX;

end
function varargout = onnxSplit13(X, ONNXaxis, splits, numSplits, numDimsX)
% Implements the ONNX Split operator

% ONNXaxis is origin 0. splits is a vector of the lengths of each segment.
% If splits is empty, instead split into segments of equal length.
if ONNXaxis<0
    ONNXaxis = ONNXaxis + numDimsX;
end
DLTAxis = numDimsX - ONNXaxis;
if isempty(splits)
    C       = size(X, DLTAxis);
    sz      = floor(C/numSplits);
    splits	= repmat(sz, 1, numSplits);
else
    splits = extractdata(splits);
end
S      = struct;
S.type = '()';
S.subs = repmat({':'}, 1, ndims(X));
splitIndices = [0 cumsum(splits(:)')];
numY = numel(splitIndices)-1;
for i = 1:numY
    from            = splitIndices(i) + 1;
    to              = splitIndices(i+1);
    S.subs{DLTAxis}	= from:to;
    % The first numY outputs are the Y's. The second numY outputs are their
    % numDims. We assume all the outputs of Split have the same numDims as
    % the input.
    varargout{i}        = subsref(X, S);
    varargout{i + numY} = numDimsX;
end
end

function [Y, numDimsY] = onnxSqueeze(X, ONNXAxes, numDimsX)
% Implements the ONNX Squeeze operator
if numDimsX == 0
    Y = X;
    numDimsY = numDimsX;
else
    % Find the new ONNX shape
    curOShape = size(X, numDimsX:-1:1);
    if isempty(ONNXAxes)
        newOShape = curOShape(curOShape ~= 1);
    else
        ONNXAxes(ONNXAxes<0) = ONNXAxes(ONNXAxes<0) + numDimsX;
        newOShape = curOShape;
        newOShape(ONNXAxes+1) = [];
    end
    % Get numDimsY from ONNX shape
    numDimsY  = numel(newOShape);
    newMShape = [fliplr(newOShape) ones(1, 2-numDimsY)];    % Append 1's to shape if numDims<2
    Y         = reshape(X, newMShape);
end
end

function [output, numDimsOutput] = onnxWhere(condition, X, Y, numDimsCondition, numDimsX, numDimsY)
bigz = zeros(size(condition + X + Y));      % broadcast
condition = condition + bigz;
X = X + bigz;
output = Y + bigz;
output(condition==1) = X(condition==1);
numDimsOutput = max([numDimsCondition, numDimsX, numDimsY]);
end

function [weights, bias, stride, dilationFactor, padding, dataFormat, numDimsY] = prepareConvArgs(...
    weights, bias, stride, dilationFactor, padding, numWtGroups, numDimsX, numDimsW)
% Prepares arguments for implementing the ONNX Conv operator

% Weights: The ONNX weight dim is Fcxyz..., where c=C/G, G is numGroups,
% and xyz... are spatial dimensions. DLT "weights" here is the flip of
% that, or ...zyxcF. dlconv requires ...zyxcfG, where f=F/G. So reshape to
% split the last dimension.
sizeW    = size(weights, 1:numDimsW);
F        = sizeW(end);
newWSize = [sizeW(1:numDimsW-1), F/numWtGroups, numWtGroups];
weights  = reshape(weights, newWSize);
% bias
if isempty(bias)
    bias = 0;
end
bias = dlarray(bias(:),'CU');
% Derive missing default attributes from weight tensor
numSpatialDims = numDimsW-2;
if isempty(padding)
    padding = zeros(1, 2*numSpatialDims);
end
if isempty(stride)
    stride = ones(1,numSpatialDims);
end
if isempty(dilationFactor)
    dilationFactor = ones(1,numSpatialDims);
end
% Make the attributes non-dlarrays:
if isa(stride, 'dlarray')
    stride = extractdata(stride);
end
if isa(dilationFactor, 'dlarray')
    dilationFactor = extractdata(dilationFactor);
end
if isa(padding, 'dlarray')
    padding = extractdata(padding);
end
% Make the attributes double row vectors, and flip their dimension ordering
% to reverse-onnx:
stride = fliplr(double(stride(:)'));
dilationFactor = fliplr(double(dilationFactor(:)'));
if isnumeric(padding)       % padding can be "same"
    % ONNX: [x1_begin, ..., xn_begin, x1_end, ...,xn_end]
    % DLT:  [xn_begin, ..., x1_begin;
    %        xn_end, ..., x1_end]       (Note the lrflip and semicolon)
    padding = fliplr(transpose(reshape(padding, [], 2)));
end
% Set dataformat and numdims
dataFormat = [repmat('S', 1, numDimsX-2) 'CB'];
numDimsY = numDimsX;
end

function [weights, bias, stride, dilation, cropping, dataFormat, numDimsY] = prepareConvTransposeArgs(ONNXWeights, bias, stride, dilation, pads, auto_pad, output_shape, numWtGroups, sizeX, numDimsX, numDimsW)
% Prepares arguments for implementing the ONNX ConvTranspose operator

% The ONNX weight dim is Cfhwd..., where f=F/G, G is numGroups and hwd...
% are the spatial dimensions of the kernel. The input argumnt "ONNXWeights"
% here is the flip of that, or ...dwhfC. We want ...dwhfcG, where c=C/G. So
% we just need to perform a reshape to split the last dimension from C to
% cG.
sizeW       = size(ONNXWeights, 1:numDimsW);
C           = sizeW(end);
newWSize    = [sizeW(1:numDimsW-1), C/numWtGroups, numWtGroups];
weights     = reshape(ONNXWeights, newWSize);
if isempty(bias)
    bias = 0;
end
bias = dlarray(bias(:),'CU');
% Derive missing default attributes from weight tensor
numSpatialDims = numDimsW-2;
if isempty(pads)
    pads = zeros(1, 2*numSpatialDims);
end
if isempty(stride)
    stride = ones(1,numSpatialDims);
end
if isempty(dilation)
    dilation = ones(1,numSpatialDims);
end
% Make the attributes non-dlarrays:
if isa(stride, 'dlarray')
    stride = extractdata(stride);
end
if isa(dilation, 'dlarray')
    dilation = extractdata(dilation);
end
if isa(pads, 'dlarray')
    pads = extractdata(pads);
end
if isa(output_shape, 'dlarray')
    output_shape = extractdata(output_shape);
end
if ~isempty(output_shape)
    % Process output_shape. The ONNX Doc says:
    % "If output_shape is specified pads values are ignored."
    % And then 'pads' is recalculated as follows:
    % total_padding[i] = stride[i] * (input_size[i] - 1) + output_padding[i] + ((kernel_shape[i] - 1) * dilations[i] + 1) - output_shape[i]
    % If (auto_pads == SAME_UPPER): pads[start_i] = total_padding[i]/2; pads[end_i] = total_padding[i] - (total_padding[i]/2)
    % Else: pads[start_i] = total_padding[i] - (total_padding[i]/2); pads[end_i] = (total_padding[i]/2).
    
    % sizeX is reverse-onnx with trailing singletons dropped. ...zyxCN.
    % Extract the ONNX spatial shape as 'input_size', and put it in forward
    % ONNX ordering.
    if numDimsX > numel(sizeX)
        sizeX = [sizeX, ones(1,numDimsX-numel(sizeX))];     % sizeX is now ...zyxCN
    end
    input_size = fliplr(sizeX(1:numSpatialDims));     % xyz...
    % Recover the kernel_shape from the weights in forward ONNX ordering
    kernel_shape = fliplr(sizeW(1:numSpatialDims));
    % Calculate the new pads value in forward ONNX ordering
    output_padding = 0;             % output_padding is not supported (yet).
    D = numel(input_size);
    for i = 1:D
        total_padding(i) = stride(i) * (input_size(i) - 1) + output_padding + ((kernel_shape(i) - 1) * dilation(i) + 1) - output_shape(i);
        start_i = i;
        end_i = D+i;
        if auto_pad=="SAME_UPPER"
            pads(start_i) = floor(total_padding(i)/2);
            pads(end_i) = total_padding(i) - floor(total_padding(i)/2);
        else
            pads(start_i) = total_padding(i) - floor(total_padding(i)/2);
            pads(end_i) = floor(total_padding(i)/2);
        end
    end
end
% Make the attributes double row vectors, and flip their dimension ordering
% to reverse-onnx:
stride = fliplr(double(stride(:)'));
dilation = fliplr(double(dilation(:)'));
if isnumeric(pads)       % padding can be "same"
    % ONNX: [x1_begin, ..., xn_begin, x1_end, ...,xn_end]
    % DLT:  [xn_begin, ..., x1_begin;
    %        xn_end, ..., x1_end]       (Note the left-right flip and the semicolon)
    pads = fliplr(transpose(reshape(pads, [], 2)));
end
cropping = pads;
dataFormat  = [repmat('S', 1, numDimsX-2) 'CB'];
numDimsY = numDimsX;
end

function [shape, numDimsY] = prepareExpandArgs(ONNXShape)
% Prepares arguments for implementing the ONNX Expand operator

% Broadcast X to ONNXShape. The shape of X must be compatible with ONNXShape.
ONNXShape = extractdata(ONNXShape);
shape = fliplr(ONNXShape(:)');
if numel(shape) < 2
    shape = [shape ones(1, 2-numel(shape))];
end
numDimsY = numel(ONNXShape);
end

function [A, B, C, alpha, beta, numDimsY] = prepareGemmArgs(A, B, C, alpha, beta, transA, transB, numDimsC)
% Prepares arguments for implementing the ONNX Gemm operator
if transA
    A = A';
end
if transB
    B = B';
end
if numDimsC < 2
    C = C(:);   % C can be broadcast to [N M]. Make C a col vector ([N 1])
end
numDimsY = 2;
% Y=B*A because we want (AB)'=B'A', and B and A are already transposed.
end

function dims = prepareReduceArgs(ONNXAxes, numDimsX)
% Prepares arguments for implementing the ONNX Reduce operator
if isempty(ONNXAxes)
    ONNXAxes = 0:numDimsX-1;   % All axes
end
ONNXAxes(ONNXAxes<0) = ONNXAxes(ONNXAxes<0) + numDimsX;
dims = numDimsX - ONNXAxes;
end

function [DLTShape, numDimsY] = prepareReshapeArgs(X, ONNXShape, numDimsX, allowzero)
% Prepares arguments for implementing the ONNX Reshape operator
ONNXShape = flip(extractdata(ONNXShape));            % First flip the shape to make it correspond to the dimensions of X.
% In ONNX, 0 means "unchanged" if allowzero is false, and -1 means "infer". In DLT, there is no
% "unchanged", and [] means "infer".
DLTShape = num2cell(ONNXShape);                      % Make a cell array so we can include [].
% Replace zeros with the actual size if allowzero is true
if any(ONNXShape==0) && allowzero==0
    i0 = find(ONNXShape==0);
    DLTShape(i0) = num2cell(size(X, numDimsX - numel(ONNXShape) + i0));  % right-align the shape vector and dims
end
if any(ONNXShape == -1)
    % Replace -1 with []
    i = ONNXShape == -1;
    DLTShape{i} = [];
end
if numel(DLTShape)==1
    DLTShape = [DLTShape 1];
end
numDimsY = numel(ONNXShape);
end

function [DLTScales, DLTSizes, dataFormat, Method, GeometricTransformMode, NearestRoundingMode, numDimsY] = prepareResize11Args(...
    ONNXRoi, ONNXScales, ONNXSizes, coordinate_transformation_mode, mode, nearest_mode, numDimsX)
% Prepares arguments for implementing the ONNX Resize-11 operator

% ONNXScales and ONNXSizes are in ONNX dimension ordering. ONNXRoi is
% ignored because it only takes effect when coordinate_transformation_mode
% is "tf_crop_and_resize", which is not supported.
DLTScales = flip(extractdata(ONNXScales(:)'));
DLTSizes = flip(extractdata(ONNXSizes(:)'));
switch coordinate_transformation_mode
    case "half_pixel"
        GeometricTransformMode = "half-pixel";
    case "asymmetric"
        GeometricTransformMode = "asymmetric";
    otherwise
        assert(false);
end
switch mode
    case "nearest"
        Method = "nearest";
    case "linear"
        Method = "linear";
    otherwise
        assert(false);
end
switch nearest_mode
    case "floor"
        NearestRoundingMode = "floor";
    otherwise
        NearestRoundingMode = "round";
end
dataFormat = repmat('S', [1 numDimsX]);
numDimsY = numDimsX;
end

function [S, numDimsY] = prepareSliceArgs(X, Starts, Ends, Axes, Steps, numDimsX)
% Prepares arguments for implementing the ONNX Slice operator

% Starts, Ends and Axes are all origin 0. Axes refer to the ONNX dimension
% ordering, but X uses the reverse, DLT ordering. Starts, Ends, Axes, and
% Steps correspond positionally. Axes and Steps may be omitted, with
% defaults described in the ONNX spec.

% Set default Axes and Steps if not supplied
if isempty(Axes)
    Axes = 0:numDimsX-1;   % All axes
end
Axes(Axes<0) = Axes(Axes<0) + numDimsX; % Handle negative Axes.
if isempty(Steps)
    Steps = ones(1, numel(Starts));
end
% Init all dims to :
S.subs = repmat({':'}, 1, numDimsX);
S.type = '()';
% Set Starts and Ends for each axis
for i = 1:numel(Axes)
    DLTDim = numDimsX - Axes(i);                                               % The DLT dim is the reverse of the ONNX dim.
    % "If a negative value is passed for any of the start or end indices,
    % it represents number of elements before the end of that dimension."
    if Starts(i) < 0
        Starts(i) = size(X,DLTDim) + Starts(i);
    end
    if Ends(i) < 0
        Ends(i) = max(-1, size(X,DLTDim) + Ends(i));                        % The -1 case is when we're slicing backward and want to include 0.
    end
    % "If the value passed to start or end is larger than the n (the number
    % of elements in this dimension), it represents n."
    if Starts(i) > size(X,DLTDim)
        Starts(i) = size(X,DLTDim);
    end
    if Ends(i) > size(X,DLTDim)
        Ends(i) = size(X,DLTDim);
    end
    if Steps(i) > 0
        S.subs{DLTDim} = 1 + (Starts(i) : Steps(i) : Ends(i)-1);            % 1 + (Origin 0 indexing with end index excluded)
    else
        S.subs{DLTDim} = 1 + (Starts(i) : Steps(i) : Ends(i)+1);            % 1 + (Origin 0 indexing with end index excluded)
    end
end
numDimsY = numDimsX;
end

function [perm, numDimsA] = prepareTransposeArgs(ONNXPerm, numDimsA)
% Prepares arguments for implementing the ONNX Transpose operator
if numDimsA <= 1        % Tensors of numDims 0 or 1 are unchanged by ONNX Transpose.
    perm = [];
else
    if isempty(ONNXPerm)        % Empty ONNXPerm means reverse the dimensions.
        perm = numDimsA:-1:1;
    else
        perm = numDimsA-flip(ONNXPerm);
    end
end
end

function [newShape, numDimsY] = prepareUnsqueezeArgs(X, ONNXAxes, numDimsX)
% Prepares arguments for implementing the ONNX Unsqueeze operator
numDimsY = numDimsX + numel(ONNXAxes);
ONNXAxes = extractdata(ONNXAxes);
ONNXAxes(ONNXAxes<0) = ONNXAxes(ONNXAxes<0) + numDimsY;
ONNXAxes = sort(ONNXAxes);                                              % increasing order
if numDimsY == 1
    newShape = size(X);
else
    DLTAxes  = flip(numDimsY - ONNXAxes);                                  % increasing order
    newShape = ones(1, numDimsY);
    posToSet = setdiff(1:numDimsY, DLTAxes, 'stable');
    newShape(posToSet) = size(X, 1:numel(posToSet));
end
end

%% Utility functions:

function s = appendStructs(varargin)
% s = appendStructs(s1, s2,...). Assign all fields in s1, s2,... into s.
if isempty(varargin)
    s = struct;
else
    s = varargin{1};
    for i = 2:numel(varargin)
        fromstr = varargin{i};
        fs = fieldnames(fromstr);
        for j = 1:numel(fs)
            s.(fs{j}) = fromstr.(fs{j});
        end
    end
end
end

function checkInputSize(inputShape, expectedShape, inputName)

if numel(expectedShape)==0
    % The input is a scalar
    if ~isequal(inputShape, [1 1])
        inputSizeStr = makeSizeString(inputShape);
        error(message('nnet_cnn_onnx:onnx:InputNeedsResize',inputName, "[1,1]", inputSizeStr));
    end
elseif numel(expectedShape)==1
    % The input is a vector
    if ~shapeIsColumnVector(inputShape) || ~iSizesMatch({inputShape(1)}, expectedShape)
        expectedShape{2} = 1;
        expectedSizeStr = makeSizeString(expectedShape);
        inputSizeStr = makeSizeString(inputShape);
        error(message('nnet_cnn_onnx:onnx:InputNeedsResize',inputName, expectedSizeStr, inputSizeStr));
    end
else
    % The input has 2 dimensions or more
    
    % The input dimensions have been reversed; flip them back to compare to the
    % expected ONNX shape.
    inputShape = fliplr(inputShape);
    
    % If the expected shape has fewer dims than the input shape, error.
    if numel(expectedShape) < numel(inputShape)
        expectedSizeStr = strjoin(["[", strjoin(string(expectedShape), ","), "]"], "");
        error(message('nnet_cnn_onnx:onnx:InputHasGreaterNDims', inputName, expectedSizeStr));
    end
    
    % Prepad the input shape with trailing ones up to the number of elements in
    % expectedShape
    inputShape = num2cell([ones(1, numel(expectedShape) - length(inputShape)) inputShape]);
    
    % Find the number of variable size dimensions in the expected shape
    numVariableInputs = sum(cellfun(@(x) isa(x, 'char') || isa(x, 'string'), expectedShape));
    
    % Find the number of input dimensions that are not in the expected shape
    % and cannot be represented by a variable dimension
    nonMatchingInputDims = setdiff(string(inputShape), string(expectedShape));
    numNonMatchingInputDims  = numel(nonMatchingInputDims) - numVariableInputs;
    
    expectedSizeStr = makeSizeString(expectedShape);
    inputSizeStr = makeSizeString(inputShape);
    if numNonMatchingInputDims == 0 && ~iSizesMatch(inputShape, expectedShape)
        % The actual and expected input dimensions match, but in
        % a different order. The input needs to be permuted.
        error(message('nnet_cnn_onnx:onnx:InputNeedsPermute',inputName, expectedSizeStr, inputSizeStr));
    elseif numNonMatchingInputDims > 0
        % The actual and expected input sizes do not match.
        error(message('nnet_cnn_onnx:onnx:InputNeedsResize',inputName, expectedSizeStr, inputSizeStr));
    end
end
end

function doesMatch = iSizesMatch(inputShape, expectedShape)
% Check whether the input and expected shapes match, in order.
% Size elements match if (1) the elements are equal, or (2) the expected
% size element is a variable (represented by a character vector or string)
doesMatch = true;
for i=1:numel(inputShape)
    if ~(isequal(inputShape{i},expectedShape{i}) || ischar(expectedShape{i}) || isstring(expectedShape{i}))
        doesMatch = false;
        return
    end
end
end

function sizeStr = makeSizeString(shape)
sizeStr = strjoin(["[", strjoin(string(shape), ","), "]"], "");
end

function isVec = shapeIsColumnVector(shape)
if numel(shape) == 2 && shape(2) == 1
    isVec = true;
else
    isVec = false;
end
end
function X = makeUnlabeledDlarray(X)
% Make numeric X into an unlabelled dlarray
if isa(X, 'dlarray')
    X = stripdims(X);
elseif isnumeric(X)
    if isinteger(X)
        % Make ints double so they can combine with anything without
        % reducing precision
        X = double(X);
    end
    X = dlarray(X);
end
end

function [Vars, NumDims] = packageVariables(params, inputNames, inputValues, inputNumDims)
% inputNames, inputValues are cell arrays. inputRanks is a numeric vector.
Vars = appendStructs(params.Learnables, params.Nonlearnables, params.State);
NumDims = params.NumDimensions;
% Add graph inputs
for i = 1:numel(inputNames)
    Vars.(inputNames{i}) = inputValues{i};
    NumDims.(inputNames{i}) = inputNumDims(i);
end
end

function X = permuteInputVar(X, userDataPerm, onnxNDims)
% Returns reverse-ONNX ordering
if onnxNDims == 0
    return;
elseif onnxNDims == 1 && isvector(X)
    X = X(:);
    return;
elseif isnumeric(userDataPerm)
    % Permute into reverse ONNX ordering
    if numel(userDataPerm) ~= onnxNDims
        error(message('nnet_cnn_onnx:onnx:InputPermutationSize', numel(userDataPerm), onnxNDims));
    end
    perm = fliplr(userDataPerm);
elseif isequal(userDataPerm, 'auto') && onnxNDims == 4
    % Permute MATLAB HWCN to reverse onnx (WHCN)
    perm = [2 1 3 4];
elseif isequal(userDataPerm, 'as-is')
    % Do not permute the input
    perm = 1:ndims(X);
else
    % userDataPerm is either 'none' or 'auto' with no default, which means
    % it's already in onnx ordering, so just make it reverse onnx
    perm = max(2,onnxNDims):-1:1;
end
X = permute(X, perm);
end

function Y = permuteOutputVar(Y, userDataPerm, onnxNDims)
switch onnxNDims
    case 0
        perm = [];
    case 1
        if isnumeric(userDataPerm)
            % Use the user's permutation because Y is a column vector which
            % already matches ONNX.
            perm = userDataPerm;
        elseif isequal(userDataPerm, 'auto')
            % Treat the 1D onnx vector as a 2D column and transpose it
            perm = [2 1];
        else
            % userDataPerm is 'none'. Leave Y alone because it already
            % matches onnx.
            perm = [];
        end
    otherwise
        % ndims >= 2
        if isnumeric(userDataPerm)
            % Use the inverse of the user's permutation. This is not just the
            % flip of the permutation vector.
            perm = onnxNDims + 1 - userDataPerm;
        elseif isequal(userDataPerm, 'auto')
            if onnxNDims == 2
                % Permute reverse ONNX CN to DLT CN (do nothing)
                perm = [];
            elseif onnxNDims == 4
                % Permute reverse onnx (WHCN) to MATLAB HWCN
                perm = [2 1 3 4];
            else
                % User wants the output in ONNX ordering, so just reverse it from
                % reverse onnx
                perm = onnxNDims:-1:1;
            end
        elseif isequal(userDataPerm, 'as-is')
            % Do not permute the input
            perm = 1:ndims(Y);
        else
            % userDataPerm is 'none', so just make it reverse onnx
            perm = onnxNDims:-1:1;
        end
end
if ~isempty(perm)
    Y = permute(Y, perm);
end
end

function s = updateStruct(s, t)
% Set all existing fields in s from fields in t, ignoring extra fields in t.
for name = transpose(fieldnames(s))
    s.(name{1}) = t.(name{1});
end
end